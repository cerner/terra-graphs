!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Carbon=n():t.Carbon=n()}(window,(function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(n){return t[n]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=90)}({0:function(t,n){t.exports=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}},1:function(t,n,e){var i=e(83),r=e(84),a=e(30),o=e(85);t.exports=function(t){return i(t)||r(t)||a(t)||o()}},16:function(t,n){function e(){return t.exports=e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},e.apply(this,arguments)}t.exports=e},2:function(t,n){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},21:function(t,n){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},29:function(t,n){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}},3:function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},30:function(t,n,e){var i=e(29);t.exports=function(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}},31:function(t,n,e){var i=e(81),r=e(82);function a(n,e,o){return r()?t.exports=a=Reflect.construct:t.exports=a=function(t,n,e){var r=[null];r.push.apply(r,n);var a=new(Function.bind.apply(t,r));return e&&i(a,e.prototype),a},a.apply(null,arguments)}t.exports=a},32:function(t,n,e){var i=e(86),r=e(87),a=e(30),o=e(88);t.exports=function(t,n){return i(t)||r(t,n)||a(t,n)||o()}},81:function(t,n){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,i)}t.exports=e},82:function(t,n){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},83:function(t,n,e){var i=e(29);t.exports=function(t){if(Array.isArray(t))return i(t)}},84:function(t,n){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},85:function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},86:function(t,n){t.exports=function(t){if(Array.isArray(t))return t}},87:function(t,n){t.exports=function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return e}}},88:function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},90:function(t,n,e){"use strict";e.r(n);var i=e(2),r=e.n(i),a=e(31),o=e.n(a),s=e(3),c=e.n(s),u=e(0),l=e.n(u),f=e(1),h=e.n(f),d="Generate function not implemented from Construct.",g="LoadContent function not implemented from Construct.",p="UnloadContent function not implemented from Construct.",y="Resize function not implemented from Construct.",v="Destroy function not implemented from Construct.",m="Shape Path property cannot be empty.",x="Shape Options property cannot be empty.",b="Invalid Shape Options property attributes (x, y, scale).",T="Invalid input provided.",E="Invalid input format, graph DOM id must be provided.",_="Graph axes data needs to be loaded.",A="Graph data needs to be loaded.",w="Invalid input format, data points must be provided.",k="Invalid input format, label and key must be unique.",I="Invalid input format, unique key must be provided.",S="Invalid input format, unique label must be provided.",D="Content data needs to be loaded.",L="Invalid input format, axis must be provided.",C="Invalid input format, axis limits must be provided.",N="Invalid input format, axis labels must be provided.",R="Invalid input format, type must be valid.",P="Axis type invalid, bounds need to be in ISO8601 datetime format.",O="Type cannot be default, if data-points are in date time format.",M="Invalid object provided as argument.",G="Load function has not been implemented for this graph type.",U="Unload function has not been implemented for this graph type.",F="Resize function has not been implemented for this graph type.",H="Redraw function has not been implemented for this graph type.",B="GetInput not been implemented for BaseConfig.",Y="SetInput not been implemented for BaseConfig.",V="Input validation has not been implemented.",X="Clone input function has not been implemented.",z="Invalid input provided. Content cannot be loaded at index less than zero.",K="Region in data object cannot be empty.",j="Region axis provided is invalid.",W="Region 'start' and 'end' value has invalid type.",q="Region cannot have both 'start' and 'end' empty.",J="Region 'start' cannot be larger than 'end'.",Z="Invalid input format; unique key must be provided for each task.",$="Invalid input format; both start date and end date cannot be empty.",Q="Invalid input format; start date or end date cannot be empty for a task. No duration function provided.",tt="Input type invalid, start date and end date needs to be in ISO8601 datetime format.",nt="Input input format; start date cannot be larger than end date.",et="Invalid property: duration; Duration needs to be a function.",it="Invalid property: duration; Duration needs to return a number.",rt="Invalid input format; unique key must be provided for each task.",at="Invalid input format; both start date and end date cannot be empty.",ot="Invalid input format; start date or end date cannot be empty for a task. No duration function provided.",st="Input type invalid, start date and end date needs to be in ISO8601 datetime format.",ct="Input input format; start date cannot be larger than end date.",ut="Invalid property: duration; Duration needs to be a function.",lt="Invalid property: duration; Duration needs to return a number.",ft="Invalid property, a valid unique action key must be provided matching the legend key.",ht="Invalid property, a valid dateline object must be provided.",dt="Invalid property, a valid dateline value must be provided.",gt="Invalid property, dateline value type must be in ISO8601 datetime format.",pt="Invalid property, a valid dateline color value must be provided.",yt="Invalid property, a valid dateline shape value must be provided.",vt="Invalid property, a valid eventline object must be provided.",mt="Invalid property, a valid eventline value must be provided.",xt="Invalid property, eventline value type must be in ISO8601 datetime format.",bt="Invalid property, a valid eventline color value must be provided.",Tt="Invalid X Axis, tick values are required for Bar graph content.",Et="Invalid X Axis, tick values cannot be empty.",_t="Region for Bar graph content cannot have 'x' value empty.",At="Invalid X Axis, tick values are required for Bar region.",wt="Region x type for bar graph cannot be default, if data-points are in date time format.",kt="Invalid X Axis Info Row, tick info values are required.",It="Invalid X Axis Info Row, tick info values should match with X Axis tick values.",St="Invalid X Axis Info Row input format, value property must be provided.",Dt="Invalid X Axis Info Row input format, display must be provided for label property.",Lt="Invalid property, a valid label object with a valid string must be provided.",Ct="Invalid property, a valid label.format callback function property must be provided.",Nt=function(){function t(){}var n=t.prototype;return n.getConfig=function(){throw new Error(B)},n.setInput=function(t){throw new Error(Y)},n.validateInput=function(){throw new Error(V)},n.clone=function(){throw new Error(X)},t}(),Rt=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Pt=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return Rt(n(t),e)}),{left:function(n,e,i,r){for(null==i&&(i=0),null==r&&(r=n.length);i<r;){var a=i+r>>>1;t(n[a],e)<0?i=a+1:r=a}return i},right:function(n,e,i,r){for(null==i&&(i=0),null==r&&(r=n.length);i<r;){var a=i+r>>>1;t(n[a],e)>0?r=a:i=a+1}return i}}};var Ot=Pt(Rt),Mt=Ot.right,Gt=(Ot.left,Mt);var Ut=function(t){return null===t?NaN:+t},Ft=function(t,n){var e,i,r,a=t.length,o=-1;if(null==n){for(;++o<a;)if(null!=(e=t[o])&&e>=e)for(i=r=e;++o<a;)null!=(e=t[o])&&(i>e&&(i=e),r<e&&(r=e))}else for(;++o<a;)if(null!=(e=n(t[o],o,t))&&e>=e)for(i=r=e;++o<a;)null!=(e=n(t[o],o,t))&&(i>e&&(i=e),r<e&&(r=e));return[i,r]},Ht=Array.prototype,Bt=(Ht.slice,Ht.map,function(t,n,e){t=+t,n=+n,e=(r=arguments.length)<2?(n=t,t=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(r);++i<r;)a[i]=t+i*e;return a}),Yt=Math.sqrt(50),Vt=Math.sqrt(10),Xt=Math.sqrt(2),zt=function(t,n,e){var i,r,a,o,s=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((i=n<t)&&(r=t,t=n,n=r),0===(o=Kt(t,n,e))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(r=Math.ceil(n-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(r=Math.ceil(t-n+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a};function Kt(t,n,e){var i=(n-t)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=Yt?10:a>=Vt?5:a>=Xt?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=Yt?10:a>=Vt?5:a>=Xt?2:1)}function jt(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=Yt?r*=10:a>=Vt?r*=5:a>=Xt&&(r*=2),n<t?-r:r}var Wt=function(t,n,e){if(null==e&&(e=Ut),i=t.length){if((n=+n)<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,r=(i-1)*n,a=Math.floor(r),o=+e(t[a],a,t);return o+(+e(t[a+1],a+1,t)-o)*(r-a)}},qt=function(t,n){var e,i,r=t.length,a=-1;if(null==n){for(;++a<r;)if(null!=(e=t[a])&&e>=e)for(i=e;++a<r;)null!=(e=t[a])&&e>i&&(i=e)}else for(;++a<r;)if(null!=(e=n(t[a],a,t))&&e>=e)for(i=e;++a<r;)null!=(e=n(t[a],a,t))&&e>i&&(i=e);return i},Jt=function(t,n){var e,i,r=t.length,a=-1;if(null==n){for(;++a<r;)if(null!=(e=t[a])&&e>=e)for(i=e;++a<r;)null!=(e=t[a])&&i>e&&(i=e)}else for(;++a<r;)if(null!=(e=n(t[a],a,t))&&e>=e)for(i=e;++a<r;)null!=(e=n(t[a],a,t))&&i>e&&(i=e);return i};var Zt=Array.prototype.slice,$t=function(t){return t};function Qt(t){return"translate("+(t+.5)+",0)"}function tn(t){return"translate(0,"+(t+.5)+")"}function nn(t){return function(n){return+t(n)}}function en(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function rn(){return!this.__axis}function an(t,n){var e=[],i=null,r=null,a=6,o=6,s=3,c=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",l=1===t||3===t?Qt:tn;function f(f){var h=null==i?n.ticks?n.ticks.apply(n,e):n.domain():i,d=null==r?n.tickFormat?n.tickFormat.apply(n,e):$t:r,g=Math.max(a,0)+s,p=n.range(),y=+p[0]+.5,v=+p[p.length-1]+.5,m=(n.bandwidth?en:nn)(n.copy()),x=f.selection?f.selection():f,b=x.selectAll(".domain").data([null]),T=x.selectAll(".tick").data(h,n).order(),E=T.exit(),_=T.enter().append("g").attr("class","tick"),A=T.select("line"),w=T.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(_),A=A.merge(_.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),w=w.merge(_.append("text").attr("fill","currentColor").attr(u,c*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==x&&(b=b.transition(f),T=T.transition(f),A=A.transition(f),w=w.transition(f),E=E.transition(f).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=m(t))?l(t):this.getAttribute("transform")})),_.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:m(t))}))),E.remove(),b.attr("d",4===t||2==t?o?"M"+c*o+","+y+"H0.5V"+v+"H"+c*o:"M0.5,"+y+"V"+v:o?"M"+y+","+c*o+"V0.5H"+v+"V"+c*o:"M"+y+",0.5H"+v),T.attr("opacity",1).attr("transform",(function(t){return l(m(t))})),A.attr(u+"2",c*a),w.attr(u,c*g).text(d),x.filter(rn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),x.each((function(){this.__axis=m}))}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=Zt.call(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:Zt.call(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(i=null==t?null:Zt.call(t),f):i&&i.slice()},f.tickFormat=function(t){return arguments.length?(r=t,f):r},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}function on(t){return an(1,t)}function sn(t){return an(2,t)}function cn(t){return an(3,t)}function un(t){return an(4,t)}var ln={value:function(){}};function fn(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new hn(i)}function hn(t){this._=t}function dn(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function gn(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function pn(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=ln,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}hn.prototype=fn.prototype={constructor:hn,on:function(t,n){var e,i=this._,r=dn(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<o;)if(e=(t=r[a]).type)i[e]=pn(i[e],t.name,n);else if(null==n)for(e in i)i[e]=pn(i[e],t.name,null);return this}for(;++a<o;)if((e=(t=r[a]).type)&&(e=gn(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new hn(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),a=0;a<e;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(i=this._[t]).length;a<e;++a)i[a].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(n,e)}};var yn=fn;function vn(){}var mn=function(t){return null==t?vn:function(){return this.querySelector(t)}};function xn(){return[]}var bn=function(t){return null==t?xn:function(){return this.querySelectorAll(t)}},Tn=function(t){return function(){return this.matches(t)}},En=function(t){return new Array(t.length)};function _n(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}_n.prototype={constructor:_n,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function An(t,n,e,i,r,a){for(var o,s=0,c=n.length,u=a.length;s<u;++s)(o=n[s])?(o.__data__=a[s],i[s]=o):e[s]=new _n(t,a[s]);for(;s<c;++s)(o=n[s])&&(r[s]=o)}function wn(t,n,e,i,r,a,o){var s,c,u,l={},f=n.length,h=a.length,d=new Array(f);for(s=0;s<f;++s)(c=n[s])&&(d[s]=u="$"+o.call(c,c.__data__,s,n),u in l?r[s]=c:l[u]=c);for(s=0;s<h;++s)(c=l[u="$"+o.call(t,a[s],s,a)])?(i[s]=c,c.__data__=a[s],l[u]=null):e[s]=new _n(t,a[s]);for(s=0;s<f;++s)(c=n[s])&&l[d[s]]===c&&(r[s]=c)}function kn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var In="http://www.w3.org/1999/xhtml",Sn={svg:"http://www.w3.org/2000/svg",xhtml:In,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dn=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Sn.hasOwnProperty(n)?{space:Sn[n],local:t}:t};function Ln(t){return function(){this.removeAttribute(t)}}function Cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nn(t,n){return function(){this.setAttribute(t,n)}}function Rn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Pn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function On(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Mn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Gn(t){return function(){this.style.removeProperty(t)}}function Un(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Fn(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Hn(t,n){return t.style.getPropertyValue(n)||Mn(t).getComputedStyle(t,null).getPropertyValue(n)}function Bn(t){return function(){delete this[t]}}function Yn(t,n){return function(){this[t]=n}}function Vn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Xn(t){return t.trim().split(/^|\s+/)}function zn(t){return t.classList||new Kn(t)}function Kn(t){this._node=t,this._names=Xn(t.getAttribute("class")||"")}function jn(t,n){for(var e=zn(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Wn(t,n){for(var e=zn(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function qn(t){return function(){jn(this,t)}}function Jn(t){return function(){Wn(this,t)}}function Zn(t,n){return function(){(n.apply(this,arguments)?jn:Wn)(this,t)}}Kn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $n(){this.textContent=""}function Qn(t){return function(){this.textContent=t}}function te(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ne(){this.innerHTML=""}function ee(t){return function(){this.innerHTML=t}}function ie(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function re(){this.nextSibling&&this.parentNode.appendChild(this)}function ae(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oe(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===In&&n.documentElement.namespaceURI===In?n.createElement(t):n.createElementNS(e,t)}}function se(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ce=function(t){var n=Dn(t);return(n.local?se:oe)(n)};function ue(){return null}function le(){var t=this.parentNode;t&&t.removeChild(this)}function fe(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function he(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var de={},ge=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(de={mouseenter:"mouseover",mouseleave:"mouseout"}));function pe(t,n,e){return t=ye(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ye(t,n,e){return function(i){var r=ge;ge=i;try{t.call(this,this.__data__,n,e)}finally{ge=r}}}function ve(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function me(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,a=n.length;i<a;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?n.length=r:delete this.__on}}}function xe(t,n,e){var i=de.hasOwnProperty(t.type)?pe:ye;return function(r,a,o){var s,c=this.__on,u=i(n,a,o);if(c)for(var l=0,f=c.length;l<f;++l)if((s=c[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=e),void(s.value=n);this.addEventListener(t.type,u,e),s={type:t.type,name:t.name,value:n,listener:u,capture:e},c?c.push(s):this.__on=[s]}}function be(t,n,e){var i=Mn(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Te(t,n){return function(){return be(this,t,n)}}function Ee(t,n){return function(){return be(this,t,n.apply(this,arguments))}}var _e=[null];function Ae(t,n){this._groups=t,this._parents=n}function we(){return new Ae([[document.documentElement]],_e)}Ae.prototype=we.prototype={constructor:Ae,select:function(t){"function"!=typeof t&&(t=mn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o,s=n[r],c=s.length,u=i[r]=new Array(c),l=0;l<c;++l)(a=s[l])&&(o=t.call(a,a.__data__,l,s))&&("__data__"in a&&(o.__data__=a.__data__),u[l]=o);return new Ae(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=bn(t));for(var n=this._groups,e=n.length,i=[],r=[],a=0;a<e;++a)for(var o,s=n[a],c=s.length,u=0;u<c;++u)(o=s[u])&&(i.push(t.call(o,o.__data__,u,s)),r.push(o));return new Ae(i,r)},filter:function(t){"function"!=typeof t&&(t=Tn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o=n[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Ae(i,this._parents)},data:function(t,n){if(!t)return g=new Array(this.size()),l=-1,this.each((function(t){g[++l]=t})),g;var e,i=n?wn:An,r=this._parents,a=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=a.length,s=new Array(o),c=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],h=a[l],d=h.length,g=t.call(f,f&&f.__data__,l,r),p=g.length,y=c[l]=new Array(p),v=s[l]=new Array(p);i(f,h,y,v,u[l]=new Array(d),g,n);for(var m,x,b=0,T=0;b<p;++b)if(m=y[b]){for(b>=T&&(T=b+1);!(x=v[T])&&++T<p;);m._next=x||null}}return(s=new Ae(s,r))._enter=c,s._exit=u,s},enter:function(){return new Ae(this._enter||this._groups.map(En),this._parents)},exit:function(){return new Ae(this._exit||this._groups.map(En),this._parents)},join:function(t,n,e){var i=this.enter(),r=this,a=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(r=n(r)),null==e?a.remove():e(a),i&&r?i.merge(r).order():r},merge:function(t){for(var n=this._groups,e=t._groups,i=n.length,r=e.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=n[s],l=e[s],f=u.length,h=o[s]=new Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<i;++s)o[s]=n[s];return new Ae(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=kn);for(var e=this._groups,i=e.length,r=new Array(i),a=0;a<i;++a){for(var o,s=e[a],c=s.length,u=r[a]=new Array(c),l=0;l<c;++l)(o=s[l])&&(u[l]=o);u.sort(n)}return new Ae(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,a=n[e],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,n){var e=Dn(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?Cn:Ln:"function"==typeof n?e.local?On:Pn:e.local?Rn:Nn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Gn:"function"==typeof n?Fn:Un)(t,n,null==e?"":e)):Hn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Bn:"function"==typeof n?Vn:Yn)(t,n)):this.node()[t]},classed:function(t,n){var e=Xn(t+"");if(arguments.length<2){for(var i=zn(this.node()),r=-1,a=e.length;++r<a;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?Zn:n?qn:Jn)(e,n))},text:function(t){return arguments.length?this.each(null==t?$n:("function"==typeof t?te:Qn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ne:("function"==typeof t?ie:ee)(t)):this.node().innerHTML},raise:function(){return this.each(re)},lower:function(){return this.each(ae)},append:function(t){var n="function"==typeof t?t:ce(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:ce(t),i=null==n?ue:"function"==typeof n?n:mn(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(le)},clone:function(t){return this.select(t?he:fe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,a=ve(t+""),o=a.length;if(!(arguments.length<2)){for(s=n?xe:me,null==e&&(e=!1),i=0;i<o;++i)this.each(s(a[i],n,e));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(i=0,c=s[u];i<o;++i)if((r=a[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Ee:Te)(t,n))}};var ke=we,Ie=function(t){return"string"==typeof t?new Ae([[document.querySelector(t)]],[document.documentElement]):new Ae([[t]],_e)};var Se=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function De(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Le(){}var Ce="\\s*([+-]?\\d+)\\s*",Ne="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pe=/^#([0-9a-f]{3,8})$/,Oe=new RegExp("^rgb\\("+[Ce,Ce,Ce]+"\\)$"),Me=new RegExp("^rgb\\("+[Re,Re,Re]+"\\)$"),Ge=new RegExp("^rgba\\("+[Ce,Ce,Ce,Ne]+"\\)$"),Ue=new RegExp("^rgba\\("+[Re,Re,Re,Ne]+"\\)$"),Fe=new RegExp("^hsl\\("+[Ne,Re,Re]+"\\)$"),He=new RegExp("^hsla\\("+[Ne,Re,Re,Ne]+"\\)$"),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ye(){return this.rgb().formatHex()}function Ve(){return this.rgb().formatRgb()}function Xe(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ze(n):3===e?new qe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Ke(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Ke(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Oe.exec(t))?new qe(n[1],n[2],n[3],1):(n=Me.exec(t))?new qe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ge.exec(t))?Ke(n[1],n[2],n[3],n[4]):(n=Ue.exec(t))?Ke(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Fe.exec(t))?Qe(n[1],n[2]/100,n[3]/100,1):(n=He.exec(t))?Qe(n[1],n[2]/100,n[3]/100,n[4]):Be.hasOwnProperty(t)?ze(Be[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function ze(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function Ke(t,n,e,i){return i<=0&&(t=n=e=NaN),new qe(t,n,e,i)}function je(t){return t instanceof Le||(t=Xe(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function We(t,n,e,i){return 1===arguments.length?je(t):new qe(t,n,e,null==i?1:i)}function qe(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Je(){return"#"+$e(this.r)+$e(this.g)+$e(this.b)}function Ze(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function $e(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Qe(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ni(t,n,e,i)}function ti(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof Le||(t=Xe(t)),!t)return new ni;if(t instanceof ni)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),a=Math.max(n,e,i),o=NaN,s=a-r,c=(a+r)/2;return s?(o=n===a?(e-i)/s+6*(e<i):e===a?(i-n)/s+2:(n-e)/s+4,s/=c<.5?a+r:2-a-r,o*=60):s=c>0&&c<1?0:o,new ni(o,s,c,t.opacity)}function ni(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function ei(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ii(t,n,e,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*i+o*r)/6}Se(Le,Xe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ye,formatHex:Ye,formatHsl:function(){return ti(this).formatHsl()},formatRgb:Ve,toString:Ve}),Se(qe,We,De(Le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatRgb:Ze,toString:Ze})),Se(ni,(function(t,n,e,i){return 1===arguments.length?ti(t):new ni(t,n,e,null==i?1:i)}),De(Le,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new qe(ei(t>=240?t-240:t+120,r,i),ei(t,r,i),ei(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ri=function(t){return function(){return t}};function ai(t,n){return function(e){return t+e*n}}function oi(t){return 1==(t=+t)?si:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):ri(isNaN(n)?e:n)}}function si(t,n){var e=n-t;return e?ai(t,e):ri(isNaN(t)?n:t)}var ci=function t(n){var e=oi(n);function i(t,n){var i=e((t=We(t)).r,(n=We(n)).r),r=e(t.g,n.g),a=e(t.b,n.b),o=si(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=r(n),t.b=a(n),t.opacity=o(n),t+""}}return i.gamma=t,i}(1);function ui(t){return function(n){var e,i,r=n.length,a=new Array(r),o=new Array(r),s=new Array(r);for(e=0;e<r;++e)i=We(n[e]),a[e]=i.r||0,o[e]=i.g||0,s[e]=i.b||0;return a=t(a),o=t(o),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=o(t),i.b=s(t),i+""}}}ui((function(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),r=t[i],a=t[i+1],o=i>0?t[i-1]:2*r-a,s=i<n-1?t[i+2]:2*a-r;return ii((e-i/n)*n,o,r,a,s)}})),ui((function(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n),r=t[(i+n-1)%n],a=t[i%n],o=t[(i+1)%n],s=t[(i+2)%n];return ii((e-i/n)*n,r,a,o,s)}}));var li=function(t,n){n||(n=[]);var e,i=t?Math.min(n.length,t.length):0,r=n.slice();return function(a){for(e=0;e<i;++e)r[e]=t[e]*(1-a)+n[e]*a;return r}};function fi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hi(t,n){var e,i=n?n.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(e=0;e<r;++e)a[e]=Ti(t[e],n[e]);for(;e<i;++e)o[e]=n[e];return function(t){for(e=0;e<r;++e)o[e]=a[e](t);return o}}var di=function(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}},gi=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},pi=function(t,n){var e,i={},r={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?i[e]=Ti(t[e],n[e]):r[e]=n[e];return function(t){for(e in i)r[e]=i[e](t);return r}},yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vi=new RegExp(yi.source,"g");var mi,xi,bi=function(t,n){var e,i,r,a=yi.lastIndex=vi.lastIndex=0,o=-1,s=[],c=[];for(t+="",n+="";(e=yi.exec(t))&&(i=vi.exec(n));)(r=i.index)>a&&(r=n.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(e=e[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:gi(e,i)})),a=vi.lastIndex;return a<n.length&&(r=n.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,i=0;i<n;++i)s[(e=c[i]).i]=e.x(t);return s.join("")})},Ti=function(t,n){var e,i=typeof n;return null==n||"boolean"===i?ri(n):("number"===i?gi:"string"===i?(e=Xe(n))?(n=e,ci):bi:n instanceof Xe?ci:n instanceof Date?di:fi(n)?li:Array.isArray(n)?hi:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?pi:gi)(t,n)},Ei=0,_i=0,Ai=0,wi=0,ki=0,Ii=0,Si="object"==typeof performance&&performance.now?performance:Date,Di="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Li(){return ki||(Di(Ci),ki=Si.now()+Ii)}function Ci(){ki=0}function Ni(){this._call=this._time=this._next=null}function Ri(t,n,e){var i=new Ni;return i.restart(t,n,e),i}function Pi(){ki=(wi=Si.now())+Ii,Ei=_i=0;try{!function(){Li(),++Ei;for(var t,n=mi;n;)(t=ki-n._time)>=0&&n._call.call(null,t),n=n._next;--Ei}()}finally{Ei=0,function(){var t,n,e=mi,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:mi=n);xi=t,Mi(i)}(),ki=0}}function Oi(){var t=Si.now(),n=t-wi;n>1e3&&(Ii-=n,wi=t)}function Mi(t){Ei||(_i&&(_i=clearTimeout(_i)),t-ki>24?(t<1/0&&(_i=setTimeout(Pi,t-Si.now()-Ii)),Ai&&(Ai=clearInterval(Ai))):(Ai||(wi=Si.now(),Ai=setInterval(Oi,1e3)),Ei=1,Di(Pi)))}Ni.prototype=Ri.prototype={constructor:Ni,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Li():+e)+(null==n?0:+n),this._next||xi===this||(xi?xi._next=this:mi=this,xi=this),this._call=t,this._time=e,Mi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mi())}};var Gi=function(t,n,e){var i=new Ni;return n=null==n?0:+n,i.restart((function(e){i.stop(),t(e+n)}),n,e),i},Ui=yn("start","end","cancel","interrupt"),Fi=[],Hi=function(t,n,e,i,r,a){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var i,r=t.__transition;function a(c){var u,l,f,h;if(1!==e.state)return s();for(u in r)if((h=r[u]).name===e.name){if(3===h.state)return Gi(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(Gi((function(){3===e.state&&(e.state=4,e.timer.restart(o,e.delay,e.time),o(c))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,i=new Array(f=e.tween.length),u=0,l=-1;u<f;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++l]=h);i.length=l+1}}function o(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(t,r);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var i in e.state=6,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=Ri((function(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}),0,e.time)}(t,e,{name:n,index:i,group:r,on:Ui,tween:Fi,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function Bi(t,n){var e=Vi(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Yi(t,n){var e=Vi(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Vi(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Xi,zi,Ki,ji,Wi=function(t,n){var e,i,r,a=t.__transition,o=!0;if(a){for(r in n=null==n?null:n+"",a)(e=a[r]).name===n?(i=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(i?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete a[r]):o=!1;o&&delete t.__transition}},qi=180/Math.PI,Ji={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Zi=function(t,n,e,i,r,a){var o,s,c;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(c=t*e+n*i)&&(e-=t*c,i-=n*c),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,c/=s),t*i<n*e&&(t=-t,n=-n,c=-c,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(n,t)*qi,skewX:Math.atan(c)*qi,scaleX:o,scaleY:s}};function $i(t,n,e,i){function r(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],c=[];return a=t(a),o=t(o),function(t,i,r,a,o,s){if(t!==r||i!==a){var c=o.push("translate(",null,n,null,e);s.push({i:c-4,x:gi(t,r)},{i:c-2,x:gi(i,a)})}else(r||a)&&o.push("translate("+r+n+a+e)}(a.translateX,a.translateY,o.translateX,o.translateY,s,c),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(r(e)+"rotate(",null,i)-2,x:gi(t,n)})):n&&e.push(r(e)+"rotate("+n+i)}(a.rotate,o.rotate,s,c),function(t,n,e,a){t!==n?a.push({i:e.push(r(e)+"skewX(",null,i)-2,x:gi(t,n)}):n&&e.push(r(e)+"skewX("+n+i)}(a.skewX,o.skewX,s,c),function(t,n,e,i,a,o){if(t!==e||n!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:gi(t,e)},{i:s-2,x:gi(n,i)})}else 1===e&&1===i||a.push(r(a)+"scale("+e+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,c),a=o=null,function(t){for(var n,e=-1,i=c.length;++e<i;)s[(n=c[e]).i]=n.x(t);return s.join("")}}}var Qi=$i((function(t){return"none"===t?Ji:(Xi||(Xi=document.createElement("DIV"),zi=document.documentElement,Ki=document.defaultView),Xi.style.transform=t,t=Ki.getComputedStyle(zi.appendChild(Xi),null).getPropertyValue("transform"),zi.removeChild(Xi),t=t.slice(7,-1).split(","),Zi(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),tr=$i((function(t){return null==t?Ji:(ji||(ji=document.createElementNS("http://www.w3.org/2000/svg","g")),ji.setAttribute("transform",t),(t=ji.transform.baseVal.consolidate())?(t=t.matrix,Zi(t.a,t.b,t.c,t.d,t.e,t.f)):Ji)}),", ",")",")");function nr(t,n){var e,i;return function(){var r=Yi(this,t),a=r.tween;if(a!==e)for(var o=0,s=(i=e=a).length;o<s;++o)if(i[o].name===n){(i=i.slice()).splice(o,1);break}r.tween=i}}function er(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var a=Yi(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:n,value:e},c=0,u=r.length;c<u;++c)if(r[c].name===n){r[c]=s;break}c===u&&r.push(s)}a.tween=r}}function ir(t,n,e){var i=t._id;return t.each((function(){var t=Yi(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Vi(t,i).value[n]}}var rr=function(t,n){var e;return("number"==typeof n?gi:n instanceof Xe?ci:(e=Xe(n))?(n=e,ci):bi)(t,n)};function ar(t){return function(){this.removeAttribute(t)}}function or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sr(t,n,e){var i,r,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===i?r:r=n(i=o,e)}}function cr(t,n,e){var i,r,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===i?r:r=n(i=o,e)}}function ur(t,n,e){var i,r,a;return function(){var o,s,c=e(this);if(null!=c)return(o=this.getAttribute(t))===(s=c+"")?null:o===i&&s===r?a:(r=s,a=n(i=o,c));this.removeAttribute(t)}}function lr(t,n,e){var i,r,a;return function(){var o,s,c=e(this);if(null!=c)return(o=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:o===i&&s===r?a:(r=s,a=n(i=o,c));this.removeAttributeNS(t.space,t.local)}}function fr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function hr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function dr(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&hr(t,r)),e}return r._value=n,r}function gr(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&fr(t,r)),e}return r._value=n,r}function pr(t,n){return function(){Bi(this,t).delay=+n.apply(this,arguments)}}function yr(t,n){return n=+n,function(){Bi(this,t).delay=n}}function vr(t,n){return function(){Yi(this,t).duration=+n.apply(this,arguments)}}function mr(t,n){return n=+n,function(){Yi(this,t).duration=n}}function xr(t,n){if("function"!=typeof n)throw new Error;return function(){Yi(this,t).ease=n}}function br(t,n,e){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Bi:Yi;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(n,e),o.on=r}}var Tr=ke.prototype.constructor;function Er(t){return function(){this.style.removeProperty(t)}}function _r(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function Ar(t,n,e){var i,r;function a(){var a=n.apply(this,arguments);return a!==r&&(i=(r=a)&&_r(t,a,e)),i}return a._value=n,a}function wr(t){return function(n){this.textContent=t.call(this,n)}}function kr(t){var n,e;function i(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&wr(i)),n}return i._value=t,i}var Ir=0;function Sr(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Dr(){return++Ir}var Lr=ke.prototype;Sr.prototype=function(t){return ke().transition(t)}.prototype={constructor:Sr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=mn(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,c,u=i[o],l=u.length,f=a[o]=new Array(l),h=0;h<l;++h)(s=u[h])&&(c=t.call(s,s.__data__,h,u))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,Hi(f[h],n,e,h,f,Vi(s,e)));return new Sr(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=bn(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var c,u=i[s],l=u.length,f=0;f<l;++f)if(c=u[f]){for(var h,d=t.call(c,c.__data__,f,u),g=Vi(c,e),p=0,y=d.length;p<y;++p)(h=d[p])&&Hi(h,n,e,p,d,g);a.push(d),o.push(c)}return new Sr(a,o,n,e)},filter:function(t){"function"!=typeof t&&(t=Tn(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var a,o=n[r],s=o.length,c=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&c.push(a);return new Sr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var c,u=n[s],l=e[s],f=u.length,h=o[s]=new Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<i;++s)o[s]=n[s];return new Sr(o,this._parents,this._name,this._id)},selection:function(){return new Tr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Dr(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,u=0;u<c;++u)if(o=s[u]){var l=Vi(o,n);Hi(o,t,e,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Sr(i,this._parents,t,e)},call:Lr.call,nodes:Lr.nodes,node:Lr.node,size:Lr.size,empty:Lr.empty,each:Lr.each,on:function(t,n){var e=this._id;return arguments.length<2?Vi(this.node(),e).on.on(t):this.each(br(e,t,n))},attr:function(t,n){var e=Dn(t),i="transform"===e?tr:rr;return this.attrTween(t,"function"==typeof n?(e.local?lr:ur)(e,i,ir(this,"attr."+t,n)):null==n?(e.local?or:ar)(e):(e.local?cr:sr)(e,i,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=Dn(t);return this.tween(e,(i.local?dr:gr)(i,n))},style:function(t,n,e){var i="transform"==(t+="")?Qi:rr;return null==n?this.styleTween(t,function(t,n){var e,i,r;return function(){var a=Hn(this,t),o=(this.style.removeProperty(t),Hn(this,t));return a===o?null:a===e&&o===i?r:r=n(e=a,i=o)}}(t,i)).on("end.style."+t,Er(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var i,r,a;return function(){var o=Hn(this,t),s=e(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Hn(this,t)),o===c?null:o===i&&c===r?a:(r=c,a=n(i=o,s))}}(t,i,ir(this,"style."+t,n))).each(function(t,n){var e,i,r,a,o="style."+n,s="end."+o;return function(){var c=Yi(this,t),u=c.on,l=null==c.value[o]?a||(a=Er(n)):void 0;u===e&&r===l||(i=(e=u).copy()).on(s,r=l),c.on=i}}(this._id,t)):this.styleTween(t,function(t,n,e){var i,r,a=e+"";return function(){var o=Hn(this,t);return o===a?null:o===i?r:r=n(i=o,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Ar(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ir(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,kr(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,r=Vi(this.node(),e).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==n?nr:er)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?pr:yr)(n,t)):Vi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?vr:mr)(n,t)):Vi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(xr(n,t)):Vi(this.node(),n).ease},end:function(){var t,n,e=this,i=e._id,r=e.size();return new Promise((function(a,o){var s={value:o},c={value:function(){0==--r&&a()}};e.each((function(){var e=Yi(this,i),r=e.on;r!==t&&((n=(t=r).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(c)),e.on=n}))}))}};var Cr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Nr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Cr.time=Li(),Cr;return e}ke.prototype.interrupt=function(t){return this.each((function(){Wi(this,t)}))},ke.prototype.transition=function(t){var n,e;t instanceof Sr?(n=t._id,t=t._name):(n=Dr(),(e=Cr).time=Li(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],c=s.length,u=0;u<c;++u)(o=s[u])&&Hi(o,t,n,u,s,e||Nr(o,n));return new Sr(i,this._parents,t,n)};function Rr(t){return[+t[0],+t[1]]}function Pr(t){return[Rr(t[0]),Rr(t[1])]}["w","e"].map(Or),["n","s"].map(Or),["n","w","e","s","nw","ne","sw","se"].map(Or);function Or(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Mr=Math.PI,Gr=2*Mr,Ur=Gr-1e-6;function Fr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Hr(){return new Fr}Fr.prototype=Hr.prototype={constructor:Fr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,n,e,i,r){t=+t,n=+n,e=+e,i=+i,r=+r;var a=this._x1,o=this._y1,s=e-t,c=i-n,u=a-t,l=o-n,f=u*u+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*s-c*u)>1e-6&&r){var h=e-a,d=i-o,g=s*s+c*c,p=h*h+d*d,y=Math.sqrt(g),v=Math.sqrt(f),m=r*Math.tan((Mr-Math.acos((g+f-p)/(2*y*v)))/2),x=m/v,b=m/y;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*u)+","+(n+x*l)),this._+="A"+r+","+r+",0,0,"+ +(l*h>u*d)+","+(this._x1=t+b*s)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,i,r,a){t=+t,n=+n,a=!!a;var o=(e=+e)*Math.cos(i),s=e*Math.sin(i),c=t+o,u=n+s,l=1^a,f=a?i-r:r-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+c+","+u),e&&(f<0&&(f=f%Gr+Gr),f>Ur?this._+="A"+e+","+e+",0,1,"+l+","+(t-o)+","+(n-s)+"A"+e+","+e+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=Mr)+","+l+","+(this._x1=t+e*Math.cos(r))+","+(this._y1=n+e*Math.sin(r))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};var Br=Hr;function Yr(){}function Vr(t,n){var e=new Yr;if(t instanceof Yr)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==n)for(;++r<a;)e.set(r,t[r]);else for(;++r<a;)e.set(n(i=t[r],r,t),i)}else if(t)for(var o in t)e.set(o,t[o]);return e}Yr.prototype=Vr.prototype={constructor:Yr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Xr=Vr;function zr(){}var Kr=Xr.prototype;function jr(t,n){var e=new zr;if(t instanceof zr)t.each((function(t){e.add(t)}));else if(t){var i=-1,r=t.length;if(null==n)for(;++i<r;)e.add(t[i]);else for(;++i<r;)e.add(n(t[i],i,t))}return e}zr.prototype=jr.prototype={constructor:zr,has:Kr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Kr.remove,clear:Kr.clear,values:Kr.keys,size:Kr.size,empty:Kr.empty,each:Kr.each};Array.prototype.slice;function Wr(t){return+t}function qr(t,n,e,i){if(isNaN(n)||isNaN(e))return t;var r,a,o,s,c,u,l,f,h,d=t._root,g={data:i},p=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((u=n>=(a=(p+v)/2))?p=a:v=a,(l=e>=(o=(y+m)/2))?y=o:m=o,r=d,!(d=d[f=l<<1|u]))return r[f]=g,t;if(s=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===s&&e===c)return g.next=d,r?r[f]=g:t._root=g,t;do{r=r?r[f]=new Array(4):t._root=new Array(4),(u=n>=(a=(p+v)/2))?p=a:v=a,(l=e>=(o=(y+m)/2))?y=o:m=o}while((f=l<<1|u)==(h=(c>=o)<<1|s>=a));return r[h]=d,r[f]=g,t}var Jr=function(t,n,e,i,r){this.node=t,this.x0=n,this.y0=e,this.x1=i,this.y1=r};function Zr(t){return t[0]}function $r(t){return t[1]}function Qr(t,n,e){var i=new ta(null==n?Zr:n,null==e?$r:e,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function ta(t,n,e,i,r,a){this._x=t,this._y=n,this._x0=e,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function na(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ea=Qr.prototype=ta.prototype;ea.copy=function(){var t,n,e=new ta(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return e;if(!i.length)return e._root=na(i),e;for(t=[{source:i,target:e._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(n=i.source[r])&&(n.length?t.push({source:n,target:i.target[r]=new Array(4)}):i.target[r]=na(n));return e},ea.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return qr(this.cover(n,e),n,e,t)},ea.addAll=function(t){var n,e,i,r,a=t.length,o=new Array(a),s=new Array(a),c=1/0,u=1/0,l=-1/0,f=-1/0;for(e=0;e<a;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(r=+this._y.call(null,n))||(o[e]=i,s[e]=r,i<c&&(c=i),i>l&&(l=i),r<u&&(u=r),r>f&&(f=r));if(c>l||u>f)return this;for(this.cover(c,u).cover(l,f),e=0;e<a;++e)qr(this,o[e],s[e],t[e]);return this},ea.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,a=(i=Math.floor(n))+1;else{for(var o,s,c=r-e,u=this._root;e>t||t>=r||i>n||n>=a;)switch(s=(n<i)<<1|t<e,(o=new Array(4))[s]=u,u=o,c*=2,s){case 0:r=e+c,a=i+c;break;case 1:e=r-c,a=i+c;break;case 2:r=e+c,i=a-c;break;case 3:e=r-c,i=a-c}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=i,this._x1=r,this._y1=a,this},ea.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},ea.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ea.find=function(t,n,e){var i,r,a,o,s,c,u,l=this._x0,f=this._y0,h=this._x1,d=this._y1,g=[],p=this._root;for(p&&g.push(new Jr(p,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);c=g.pop();)if(!(!(p=c.node)||(r=c.x0)>h||(a=c.y0)>d||(o=c.x1)<l||(s=c.y1)<f))if(p.length){var y=(r+o)/2,v=(a+s)/2;g.push(new Jr(p[3],y,v,o,s),new Jr(p[2],r,v,y,s),new Jr(p[1],y,a,o,v),new Jr(p[0],r,a,y,v)),(u=(n>=v)<<1|t>=y)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-u],g[g.length-1-u]=c)}else{var m=t-+this._x.call(null,p.data),x=n-+this._y.call(null,p.data),b=m*m+x*x;if(b<e){var T=Math.sqrt(e=b);l=t-T,f=n-T,h=t+T,d=n+T,i=p.data}}return i},ea.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,i,r,a,o,s,c,u,l,f,h,d=this._root,g=this._x0,p=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((u=a>=(s=(g+y)/2))?g=s:y=s,(l=o>=(c=(p+v)/2))?p=c:v=c,n=d,!(d=d[f=l<<1|u]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):n?(r?n[f]=r:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=r,this)},ea.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ea.root=function(){return this._root},ea.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},ea.visit=function(t){var n,e,i,r,a,o,s=[],c=this._root;for(c&&s.push(new Jr(c,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(c=n.node,i=n.x0,r=n.y0,a=n.x1,o=n.y1)&&c.length){var u=(i+a)/2,l=(r+o)/2;(e=c[3])&&s.push(new Jr(e,u,l,a,o)),(e=c[2])&&s.push(new Jr(e,i,l,u,o)),(e=c[1])&&s.push(new Jr(e,u,r,a,l)),(e=c[0])&&s.push(new Jr(e,i,r,u,l))}return this},ea.visitAfter=function(t){var n,e=[],i=[];for(this._root&&e.push(new Jr(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var r=n.node;if(r.length){var a,o=n.x0,s=n.y0,c=n.x1,u=n.y1,l=(o+c)/2,f=(s+u)/2;(a=r[0])&&e.push(new Jr(a,o,s,l,f)),(a=r[1])&&e.push(new Jr(a,l,s,c,f)),(a=r[2])&&e.push(new Jr(a,o,f,l,u)),(a=r[3])&&e.push(new Jr(a,l,f,c,u))}i.push(n)}for(;n=i.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ea.x=function(t){return arguments.length?(this._x=t,this):this._x},ea.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);function ia(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}var ra=function(t){return(t=ia(Math.abs(t)))?t[1]:NaN},aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oa(t){if(!(n=aa.exec(t)))throw new Error("invalid format: "+t);var n;return new sa({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function sa(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}oa.prototype=sa.prototype,sa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ca,ua,la,fa,ha=function(t,n){var e=ia(t,n);if(!e)return t+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},da={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ha(100*t,n)},r:ha,s:function(t,n){var e=ia(t,n);if(!e)return t+"";var i=e[0],r=e[1],a=r-(ca=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ia(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ga=function(t){return t},pa=Array.prototype.map,ya=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],va=function(t){var n,e,i=void 0===t.grouping||void 0===t.thousands?ga:(n=pa.call(t.grouping,Number),e=t.thousands+"",function(t,i){for(var r=t.length,a=[],o=0,s=n[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),a.push(t.substring(r-=s,r+s)),!((c+=s+1)>i));)s=n[o=(o+1)%n.length];return a.reverse().join(e)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ga:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(pa.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=oa(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,p=t.comma,y=t.precision,v=t.trim,m=t.type;"n"===m?(p=!0,m="g"):da[m]||(void 0===y&&(y=12),v=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var x="$"===h?r:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===h?a:/[%p]/.test(m)?c:"",T=da[m],E=/[defgprs%]/.test(m);function _(t){var r,a,c,h=x,_=b;if("c"===m)_=T(t)+_,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:T(Math.abs(t),y),v&&(t=function(t){t:for(var n,e=t.length,i=1,r=-1;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t}(t)),A&&0==+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:u:"-"===f||"("===f?"":f)+h,_=("s"===m?ya[8+ca/3]:"")+_+(A&&"("===f?")":""),E)for(r=-1,a=t.length;++r<a;)if(48>(c=t.charCodeAt(r))||c>57){_=(46===c?o+t.slice(r+1):t.slice(r))+_,t=t.slice(0,r);break}}p&&!d&&(t=i(t,1/0));var w=h.length+t.length+_.length,k=w<g?new Array(g-w+1).join(n):"";switch(p&&d&&(t=i(k+t,k.length?g-_.length:1/0),k=""),e){case"<":t=h+t+_+k;break;case"=":t=h+k+t+_;break;case"^":t=k.slice(0,w=k.length>>1)+h+t+_+k.slice(w);break;default:t=k+h+t+_}return s(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,n){var e=f(((t=oa(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ra(n)/3))),r=Math.pow(10,-i),a=ya[8+i/3];return function(t){return e(r*t)+a}}}};function ma(t){return ua=va(t),la=ua.format,fa=ua.formatPrefix,ua}ma({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var xa=function(){return Math.random()},ba=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(xa),function t(n){function e(t,e){var i,r;return t=null==t?0:+t,e=null==e?1:+e,function(){var a;if(null!=i)a=i,i=null;else do{i=2*n()-1,a=2*n()-1,r=i*i+a*a}while(!r||r>1);return t+e*a*Math.sqrt(-2*Math.log(r)/r)}}return e.source=t,e}(xa)),Ta=(function t(n){function e(){var t=ba.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(xa),function t(n){function e(t){return function(){for(var e=0,i=0;i<t;++i)e+=n();return e}}return e.source=t,e}(xa));(function t(n){function e(t){var e=Ta.source(n)(t);return function(){return e()/t}}return e.source=t,e})(xa),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(xa);function Ea(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var _a=Array.prototype,Aa=_a.map,wa=_a.slice,ka={name:"implicit"};function Ia(){var t=Xr(),n=[],e=[],i=ka;function r(r){var a=r+"",o=t.get(a);if(!o){if(i!==ka)return i;t.set(a,o=n.push(r))}return e[(o-1)%e.length]}return r.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Xr();for(var i,a,o=-1,s=e.length;++o<s;)t.has(a=(i=e[o])+"")||t.set(a,n.push(i));return r},r.range=function(t){return arguments.length?(e=wa.call(t),r):e.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Ia(n,e).unknown(i)},Ea.apply(r,arguments),r}function Sa(){var t,n,e=Ia().unknown(void 0),i=e.domain,r=e.range,a=[0,1],o=!1,s=0,c=0,u=.5;function l(){var e=i().length,l=a[1]<a[0],f=a[l-0],h=a[1-l];t=(h-f)/Math.max(1,e-s+2*c),o&&(t=Math.floor(t)),f+=(h-f-t*(e-s))*u,n=t*(1-s),o&&(f=Math.round(f),n=Math.round(n));var d=Bt(e).map((function(n){return f+t*n}));return r(l?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),l()):i()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],l()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,l()):o},e.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),l()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},e.paddingOuter=function(t){return arguments.length?(c=+t,l()):c},e.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},e.copy=function(){return Sa(i(),a).round(o).paddingInner(s).paddingOuter(c).align(u)},Ea.apply(l(),arguments)}var Da=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},La=function(t){return+t},Ca=[0,1];function Na(t){return t}function Ra(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Pa(t){var n,e=t[0],i=t[t.length-1];return e>i&&(n=e,e=i,i=n),function(t){return Math.max(e,Math.min(i,t))}}function Oa(t,n,e){var i=t[0],r=t[1],a=n[0],o=n[1];return r<i?(i=Ra(r,i),a=e(o,a)):(i=Ra(i,r),a=e(a,o)),function(t){return a(i(t))}}function Ma(t,n,e){var i=Math.min(t.length,n.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<i;)r[o]=Ra(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=Gt(t,n,1,i)-1;return a[e](r[e](n))}}function Ga(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ua(){var t,n,e,i,r,a,o=Ca,s=Ca,c=Ti,u=Na;function l(){return i=Math.min(o.length,s.length)>2?Ma:Oa,r=a=null,f}function f(n){return isNaN(n=+n)?e:(r||(r=i(o.map(t),s,c)))(t(u(n)))}return f.invert=function(e){return u(n((a||(a=i(s,o.map(t),gi)))(e)))},f.domain=function(t){return arguments.length?(o=Aa.call(t,La),u===Na||(u=Pa(o)),l()):o.slice()},f.range=function(t){return arguments.length?(s=wa.call(t),l()):s.slice()},f.rangeRound=function(t){return s=wa.call(t),c=Da,l()},f.clamp=function(t){return arguments.length?(u=t?Pa(o):Na,f):u!==Na},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,i){return t=e,n=i,l()}}function Fa(t,n){return Ua()(t,n)}var Ha=function(t,n,e,i){var r,a=jt(t,n,e);switch((i=oa(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(r=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ra(n)/3)))-ra(Math.abs(t)))}(a,o))||(i.precision=r),fa(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ra(n)-ra(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-ra(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return la(i)};function Ba(t){var n=t.domain;return t.ticks=function(t){var e=n();return zt(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var i=n();return Ha(i[0],i[i.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var i,r=n(),a=0,o=r.length-1,s=r[a],c=r[o];return c<s&&(i=s,s=c,c=i,i=a,a=o,o=i),(i=Kt(s,c,e))>0?i=Kt(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,e):i<0&&(i=Kt(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,e)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(c/i)*i,n(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(c*i)/i,n(r)),t},t}function Ya(){var t=Fa(Na,Na);return t.copy=function(){return Ga(t,Ya())},Ea.apply(t,arguments),Ba(t)}var Va=function(t,n){var e,i=0,r=(t=t.slice()).length-1,a=t[i],o=t[r];return o<a&&(e=i,i=r,r=e,e=a,a=o,o=e),t[i]=n.floor(a),t[r]=n.ceil(o),t};var Xa=new Date,za=new Date;function Ka(t,n,e,i){function r(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return r.floor=function(n){return t(n=new Date(+n)),n},r.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},r.round=function(t){var n=r(t),e=r.ceil(t);return t-n<e-t?n:e},r.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},r.range=function(e,i,a){var o,s=[];if(e=r.ceil(e),a=null==a?1:Math.floor(a),!(e<i&&a>0))return s;do{s.push(o=new Date(+e)),n(e,a),t(e)}while(o<e&&e<i);return s},r.filter=function(e){return Ka((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;n(t,-1),!e(t););else for(;--i>=0;)for(;n(t,1),!e(t););}))},e&&(r.count=function(n,i){return Xa.setTime(+n),za.setTime(+i),t(Xa),t(za),Math.floor(e(Xa,za))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(n){return i(n)%t==0}:function(n){return r.count(0,n)%t==0}):r:null}),r}var ja=Ka((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ja.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ka((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var Wa=ja,qa=(ja.range,Ka((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Ja=qa;qa.range;function Za(t){return Ka((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var $a=Za(0),Qa=Za(1),to=Za(2),no=Za(3),eo=Za(4),io=Za(5),ro=Za(6),ao=($a.range,Qa.range,to.range,no.range,eo.range,io.range,ro.range,Ka((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),oo=ao,so=(ao.range,Ka((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),co=so,uo=(so.range,Ka((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),lo=uo,fo=(uo.range,Ka((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),ho=fo,go=(fo.range,Ka((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));go.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ka((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):go:null};var po=go;go.range;function yo(t){return Ka((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var vo=yo(0),mo=yo(1),xo=yo(2),bo=yo(3),To=yo(4),Eo=yo(5),_o=yo(6),Ao=(vo.range,mo.range,xo.range,bo.range,To.range,Eo.range,_o.range,Ka((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),wo=Ao,ko=(Ao.range,Ka((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));ko.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ka((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var Io=ko;ko.range;function So(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Do(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lo(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Co,No,Ro={"-":"",_:" ",0:"0"},Po=/^\s*\d+/,Oo=/^%/,Mo=/[\\^$*+?|[\]().{}]/g;function Go(t,n,e){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<e?new Array(e-a+1).join(n)+r:r)}function Uo(t){return t.replace(Mo,"\\$&")}function Fo(t){return new RegExp("^(?:"+t.map(Uo).join("|")+")","i")}function Ho(t){for(var n={},e=-1,i=t.length;++e<i;)n[t[e].toLowerCase()]=e;return n}function Bo(t,n,e){var i=Po.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function Yo(t,n,e){var i=Po.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function Vo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function Xo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function zo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function Ko(t,n,e){var i=Po.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function jo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Wo(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function qo(t,n,e){var i=Po.exec(n.slice(e,e+1));return i?(t.q=3*i[0]-3,e+i[0].length):-1}function Jo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function Zo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function $o(t,n,e){var i=Po.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function Qo(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function ts(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function ns(t,n,e){var i=Po.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function es(t,n,e){var i=Po.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function is(t,n,e){var i=Po.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function rs(t,n,e){var i=Oo.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function as(t,n,e){var i=Po.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function os(t,n,e){var i=Po.exec(n.slice(e));return i?(t.s=+i[0],e+i[0].length):-1}function ss(t,n){return Go(t.getDate(),n,2)}function cs(t,n){return Go(t.getHours(),n,2)}function us(t,n){return Go(t.getHours()%12||12,n,2)}function ls(t,n){return Go(1+oo.count(Wa(t),t),n,3)}function fs(t,n){return Go(t.getMilliseconds(),n,3)}function hs(t,n){return fs(t,n)+"000"}function ds(t,n){return Go(t.getMonth()+1,n,2)}function gs(t,n){return Go(t.getMinutes(),n,2)}function ps(t,n){return Go(t.getSeconds(),n,2)}function ys(t){var n=t.getDay();return 0===n?7:n}function vs(t,n){return Go($a.count(Wa(t)-1,t),n,2)}function ms(t){var n=t.getDay();return n>=4||0===n?eo(t):eo.ceil(t)}function xs(t,n){return t=ms(t),Go(eo.count(Wa(t),t)+(4===Wa(t).getDay()),n,2)}function bs(t){return t.getDay()}function Ts(t,n){return Go(Qa.count(Wa(t)-1,t),n,2)}function Es(t,n){return Go(t.getFullYear()%100,n,2)}function _s(t,n){return Go((t=ms(t)).getFullYear()%100,n,2)}function As(t,n){return Go(t.getFullYear()%1e4,n,4)}function ws(t,n){var e=t.getDay();return Go((t=e>=4||0===e?eo(t):eo.ceil(t)).getFullYear()%1e4,n,4)}function ks(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Go(n/60|0,"0",2)+Go(n%60,"0",2)}function Is(t,n){return Go(t.getUTCDate(),n,2)}function Ss(t,n){return Go(t.getUTCHours(),n,2)}function Ds(t,n){return Go(t.getUTCHours()%12||12,n,2)}function Ls(t,n){return Go(1+wo.count(Io(t),t),n,3)}function Cs(t,n){return Go(t.getUTCMilliseconds(),n,3)}function Ns(t,n){return Cs(t,n)+"000"}function Rs(t,n){return Go(t.getUTCMonth()+1,n,2)}function Ps(t,n){return Go(t.getUTCMinutes(),n,2)}function Os(t,n){return Go(t.getUTCSeconds(),n,2)}function Ms(t){var n=t.getUTCDay();return 0===n?7:n}function Gs(t,n){return Go(vo.count(Io(t)-1,t),n,2)}function Us(t){var n=t.getUTCDay();return n>=4||0===n?To(t):To.ceil(t)}function Fs(t,n){return t=Us(t),Go(To.count(Io(t),t)+(4===Io(t).getUTCDay()),n,2)}function Hs(t){return t.getUTCDay()}function Bs(t,n){return Go(mo.count(Io(t)-1,t),n,2)}function Ys(t,n){return Go(t.getUTCFullYear()%100,n,2)}function Vs(t,n){return Go((t=Us(t)).getUTCFullYear()%100,n,2)}function Xs(t,n){return Go(t.getUTCFullYear()%1e4,n,4)}function zs(t,n){var e=t.getUTCDay();return Go((t=e>=4||0===e?To(t):To.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ks(){return"+0000"}function js(){return"%"}function Ws(t){return+t}function qs(t){return Math.floor(+t/1e3)}function Js(t){return Co=function(t){var n=t.dateTime,e=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=Fo(r),l=Ho(r),f=Fo(a),h=Ho(a),d=Fo(o),g=Ho(o),p=Fo(s),y=Ho(s),v=Fo(c),m=Ho(c),x={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ss,e:ss,f:hs,g:_s,G:ws,H:cs,I:us,j:ls,L:fs,m:ds,M:gs,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ws,s:qs,S:ps,u:ys,U:vs,V:xs,w:bs,W:Ts,x:null,X:null,y:Es,Y:As,Z:ks,"%":js},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Is,e:Is,f:Ns,g:Vs,G:zs,H:Ss,I:Ds,j:Ls,L:Cs,m:Rs,M:Ps,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ws,s:qs,S:Os,u:Ms,U:Gs,V:Fs,w:Hs,W:Bs,x:null,X:null,y:Ys,Y:Xs,Z:Ks,"%":js},T={a:function(t,n,e){var i=d.exec(n.slice(e));return i?(t.w=g[i[0].toLowerCase()],e+i[0].length):-1},A:function(t,n,e){var i=f.exec(n.slice(e));return i?(t.w=h[i[0].toLowerCase()],e+i[0].length):-1},b:function(t,n,e){var i=v.exec(n.slice(e));return i?(t.m=m[i[0].toLowerCase()],e+i[0].length):-1},B:function(t,n,e){var i=p.exec(n.slice(e));return i?(t.m=y[i[0].toLowerCase()],e+i[0].length):-1},c:function(t,e,i){return A(t,n,e,i)},d:Zo,e:Zo,f:is,g:jo,G:Ko,H:Qo,I:Qo,j:$o,L:es,m:Jo,M:ts,p:function(t,n,e){var i=u.exec(n.slice(e));return i?(t.p=l[i[0].toLowerCase()],e+i[0].length):-1},q:qo,Q:as,s:os,S:ns,u:Yo,U:Vo,V:Xo,w:Bo,W:zo,x:function(t,n,i){return A(t,e,n,i)},X:function(t,n,e){return A(t,i,n,e)},y:jo,Y:Ko,Z:Wo,"%":rs};function E(t,n){return function(e){var i,r,a,o=[],s=-1,c=0,u=t.length;for(e instanceof Date||(e=new Date(+e));++s<u;)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(r=Ro[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(a=n[i])&&(i=a(e,r)),o.push(i),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function _(t,n){return function(e){var i,r,a=Lo(1900,void 0,1);if(A(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(n&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=Do(Lo(a.y,0,1))).getUTCDay(),i=r>4||0===r?mo.ceil(i):mo(i),i=wo.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(r=(i=So(Lo(a.y,0,1))).getDay(),i=r>4||0===r?Qa.ceil(i):Qa(i),i=oo.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?Do(Lo(a.y,0,1)).getUTCDay():So(Lo(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Do(a)):So(a)}}function A(t,n,e,i){for(var r,a,o=0,s=n.length,c=e.length;o<s;){if(i>=c)return-1;if(37===(r=n.charCodeAt(o++))){if(r=n.charAt(o++),!(a=T[r in Ro?n.charAt(o++):r])||(i=a(t,e,i))<0)return-1}else if(r!=e.charCodeAt(i++))return-1}return i}return x.x=E(e,x),x.X=E(i,x),x.c=E(n,x),b.x=E(e,b),b.X=E(i,b),b.c=E(n,b),{format:function(t){var n=E(t+="",x);return n.toString=function(){return t},n},parse:function(t){var n=_(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=E(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=_(t+="",!0);return n.toString=function(){return t},n}}}(t),No=Co.format,Co.parse,Co.utcFormat,Co.utcParse,Co}Js({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zs(t){return new Date(t)}function $s(t){return t instanceof Date?+t:+new Date(+t)}function Qs(t,n,e,i,r,a,o,s,c){var u=Fa(Na,Na),l=u.invert,f=u.domain,h=c(".%L"),d=c(":%S"),g=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),v=c("%b %d"),m=c("%B"),x=c("%Y"),b=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function T(s){return(o(s)<s?h:a(s)<s?d:r(s)<s?g:i(s)<s?p:n(s)<s?e(s)<s?y:v:t(s)<s?m:x)(s)}function E(n,e,i,r){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-e)/n,o=Pt((function(t){return t[2]})).right(b,a);o===b.length?(r=jt(e/31536e6,i/31536e6,n),n=t):o?(r=(o=b[a/b[o-1][2]<b[o][2]/a?o-1:o])[1],n=o[0]):(r=Math.max(jt(e,i,n),1),n=s)}return null==r?n:n.every(r)}return u.invert=function(t){return new Date(l(t))},u.domain=function(t){return arguments.length?f(Aa.call(t,$s)):f().map(Zs)},u.ticks=function(t,n){var e,i=f(),r=i[0],a=i[i.length-1],o=a<r;return o&&(e=r,r=a,a=e),e=(e=E(t,r,a,n))?e.range(r,a+1):[],o?e.reverse():e},u.tickFormat=function(t,n){return null==n?T:c(n)},u.nice=function(t,n){var e=f();return(t=E(t,e[0],e[e.length-1],n))?f(Va(e,t)):u},u.copy=function(){return Ga(u,Qs(t,n,e,i,r,a,o,s,c))},u}var tc=function(){return Ea.apply(Qs(Wa,Ja,$a,oo,co,lo,ho,po,No).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},nc=Ka((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ec=(nc.range,Ka((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),ic=(ec.range,Ka((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})));ic.range;var rc=function(t){return"string"==typeof t?new Ae([document.querySelectorAll(t)],[document.documentElement]):new Ae([null==t?[]:t],_e)},ac=function(t){return function(){return t}},oc=Math.abs,sc=Math.atan2,cc=Math.cos,uc=Math.max,lc=Math.min,fc=Math.sin,hc=Math.sqrt,dc=Math.PI,gc=dc/2,pc=2*dc;function yc(t){return t>1?0:t<-1?dc:Math.acos(t)}function vc(t){return t>=1?gc:t<=-1?-gc:Math.asin(t)}function mc(t){return t.innerRadius}function xc(t){return t.outerRadius}function bc(t){return t.startAngle}function Tc(t){return t.endAngle}function Ec(t){return t&&t.padAngle}function _c(t,n,e,i,r,a,o,s){var c=e-t,u=i-n,l=o-r,f=s-a,h=f*c-l*u;if(!(h*h<1e-12))return[t+(h=(l*(n-a)-f*(t-r))/h)*c,n+h*u]}function Ac(t,n,e,i,r,a,o){var s=t-e,c=n-i,u=(o?a:-a)/hc(s*s+c*c),l=u*c,f=-u*s,h=t+l,d=n+f,g=e+l,p=i+f,y=(h+g)/2,v=(d+p)/2,m=g-h,x=p-d,b=m*m+x*x,T=r-a,E=h*p-g*d,_=(x<0?-1:1)*hc(uc(0,T*T*b-E*E)),A=(E*x-m*_)/b,w=(-E*m-x*_)/b,k=(E*x+m*_)/b,I=(-E*m+x*_)/b,S=A-y,D=w-v,L=k-y,C=I-v;return S*S+D*D>L*L+C*C&&(A=k,w=I),{cx:A,cy:w,x01:-l,y01:-f,x11:A*(r/T-1),y11:w*(r/T-1)}}function wc(t){this._context=t}wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var kc=function(t){return new wc(t)};function Ic(t){return t[0]}function Sc(t){return t[1]}var Dc=function(){var t=Ic,n=Sc,e=ac(!0),i=null,r=kc,a=null;function o(o){var s,c,u,l=o.length,f=!1;for(null==i&&(a=r(u=Br())),s=0;s<=l;++s)!(s<l&&e(c=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(c,s,o),+n(c,s,o));if(u)return a=null,u+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:ac(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:ac(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:ac(!!t),o):e},o.curve=function(t){return arguments.length?(r=t,null!=i&&(a=r(i)),o):r},o.context=function(t){return arguments.length?(null==t?i=a=null:a=r(i=t),o):i},o},Lc=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},Cc=function(t){return t};function Nc(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Rc(t,n){this._context=t,this._k=(1-n)/6}Rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Nc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Pc=function t(n){function e(t){return new Rc(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Oc(){this._=null}function Mc(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gc(t,n){var e=n,i=n.R,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.R=i.L,e.R&&(e.R.U=e),i.L=e}function Uc(t,n){var e=n,i=n.L,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.L=i.R,e.L&&(e.L.U=e),i.R=e}function Fc(t){for(;t.L;)t=t.L;return t}Oc.prototype={constructor:Oc,insert:function(t,n){var e,i,r;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Fc(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(i=e.U).L?(r=i.R)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.R&&(Gc(this,e),e=(t=e).U),e.C=!1,i.C=!0,Uc(this,i)):(r=i.L)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.L&&(Uc(this,e),e=(t=e).U),e.C=!1,i.C=!0,Gc(this,i)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,i,r=t.U,a=t.L,o=t.R;if(e=a?o?Fc(o):a:o,r?r.L===t?r.L=e:r.R=e:this._=e,a&&o?(i=e.C,e.C=t.C,e.L=a,a.U=e,e!==o?(r=e.U,e.U=t.U,t=e.R,r.L=t,e.R=o,o.U=e):(e.U=r,r=e,t=e.R)):(i=t.C,t=e),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((n=r.R).C&&(n.C=!1,r.C=!0,Gc(this,r),n=r.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Uc(this,n),n=r.R),n.C=r.C,r.C=n.R.C=!1,Gc(this,r),t=this._;break}}else if((n=r.L).C&&(n.C=!1,r.C=!0,Uc(this,r),n=r.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Gc(this,n),n=r.L),n.C=r.C,r.C=n.L.C=!1,Uc(this,r),t=this._;break}n.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Hc=Oc;function Bc(t,n,e,i){var r=[null,null],a=fu.push(r)-1;return r.left=t,r.right=n,e&&Vc(r,t,n,e),i&&Vc(r,n,t,i),uu[t.index].halfedges.push(a),uu[n.index].halfedges.push(a),r}function Yc(t,n,e){var i=[n,e];return i.left=t,i}function Vc(t,n,e,i){t[0]||t[1]?t.left===e?t[1]=i:t[0]=i:(t[0]=i,t.left=n,t.right=e)}function Xc(t,n,e,i,r){var a,o=t[0],s=t[1],c=o[0],u=o[1],l=0,f=1,h=s[0]-c,d=s[1]-u;if(a=n-c,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>l&&(l=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<f&&(f=a)}if(a=e-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>l&&(l=a)}if(a=r-u,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<f&&(f=a)}return!(l>0||f<1)||(l>0&&(t[0]=[c+l*h,u+l*d]),f<1&&(t[1]=[c+f*h,u+f*d]),!0)}}}}}function zc(t,n,e,i,r){var a=t[1];if(a)return!0;var o,s,c=t[0],u=t.left,l=t.right,f=u[0],h=u[1],d=l[0],g=l[1],p=(f+d)/2,y=(h+g)/2;if(g===h){if(p<n||p>=i)return;if(f>d){if(c){if(c[1]>=r)return}else c=[p,e];a=[p,r]}else{if(c){if(c[1]<e)return}else c=[p,r];a=[p,e]}}else if(s=y-(o=(f-d)/(g-h))*p,o<-1||o>1)if(f>d){if(c){if(c[1]>=r)return}else c=[(e-s)/o,e];a=[(r-s)/o,r]}else{if(c){if(c[1]<e)return}else c=[(r-s)/o,r];a=[(e-s)/o,e]}else if(h<g){if(c){if(c[0]>=i)return}else c=[n,o*n+s];a=[i,o*i+s]}else{if(c){if(c[0]<n)return}else c=[i,o*i+s];a=[n,o*n+s]}return t[0]=c,t[1]=a,!0}function Kc(t,n){var e=t.site,i=n.left,r=n.right;return e===r&&(r=i,i=e),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(e===i?(i=n[1],r=n[0]):(i=n[0],r=n[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function jc(t,n){return n[+(n.left!==t.site)]}function Wc(t,n){return n[+(n.left===t.site)]}var qc,Jc=[];function Zc(){Mc(this),this.x=this.y=this.arc=this.site=this.cy=null}function $c(t){var n=t.P,e=t.N;if(n&&e){var i=n.site,r=t.site,a=e.site;if(i!==a){var o=r[0],s=r[1],c=i[0]-o,u=i[1]-s,l=a[0]-o,f=a[1]-s,h=2*(c*f-u*l);if(!(h>=-du)){var d=c*c+u*u,g=l*l+f*f,p=(f*d-u*g)/h,y=(c*g-l*d)/h,v=Jc.pop()||new Zc;v.arc=t,v.site=r,v.x=p+o,v.y=(v.cy=y+s)+Math.sqrt(p*p+y*y),t.circle=v;for(var m=null,x=lu._;x;)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}lu.insert(m,v),m||(qc=v)}}}}function Qc(t){var n=t.circle;n&&(n.P||(qc=n.N),lu.remove(n),Jc.push(n),Mc(n),t.circle=null)}var tu=[];function nu(){Mc(this),this.edge=this.site=this.circle=null}function eu(t){var n=tu.pop()||new nu;return n.site=t,n}function iu(t){Qc(t),cu.remove(t),tu.push(t),Mc(t)}function ru(t){var n=t.circle,e=n.x,i=n.cy,r=[e,i],a=t.P,o=t.N,s=[t];iu(t);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<hu&&Math.abs(i-c.circle.cy)<hu;)a=c.P,s.unshift(c),iu(c),c=a;s.unshift(c),Qc(c);for(var u=o;u.circle&&Math.abs(e-u.circle.x)<hu&&Math.abs(i-u.circle.cy)<hu;)o=u.N,s.push(u),iu(u),u=o;s.push(u),Qc(u);var l,f=s.length;for(l=1;l<f;++l)u=s[l],c=s[l-1],Vc(u.edge,c.site,u.site,r);c=s[0],(u=s[f-1]).edge=Bc(c.site,u.site,null,r),$c(c),$c(u)}function au(t){for(var n,e,i,r,a=t[0],o=t[1],s=cu._;s;)if((i=ou(s,o)-a)>hu)s=s.L;else{if(!((r=a-su(s,o))>hu)){i>-hu?(n=s.P,e=s):r>-hu?(n=s,e=s.N):n=e=s;break}if(!s.R){n=s;break}s=s.R}!function(t){uu[t.index]={site:t,halfedges:[]}}(t);var c=eu(t);if(cu.insert(n,c),n||e){if(n===e)return Qc(n),e=eu(n.site),cu.insert(c,e),c.edge=e.edge=Bc(n.site,c.site),$c(n),void $c(e);if(e){Qc(n),Qc(e);var u=n.site,l=u[0],f=u[1],h=t[0]-l,d=t[1]-f,g=e.site,p=g[0]-l,y=g[1]-f,v=2*(h*y-d*p),m=h*h+d*d,x=p*p+y*y,b=[(y*m-d*x)/v+l,(h*x-p*m)/v+f];Vc(e.edge,u,g,b),c.edge=Bc(u,t,null,b),e.edge=Bc(t,g,null,b),$c(n),$c(e)}else c.edge=Bc(n.site,c.site)}}function ou(t,n){var e=t.site,i=e[0],r=e[1],a=r-n;if(!a)return i;var o=t.P;if(!o)return-1/0;var s=(e=o.site)[0],c=e[1],u=c-n;if(!u)return s;var l=s-i,f=1/a-1/u,h=l/u;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*u)-c+u/2+r-a/2)))/f+i:(i+s)/2}function su(t,n){var e=t.N;if(e)return ou(e,n);var i=t.site;return i[1]===n?i[0]:1/0}var cu,uu,lu,fu,hu=1e-6,du=1e-12;function gu(t,n){return n[1]-t[1]||n[0]-t[0]}function pu(t,n){var e,i,r,a=t.sort(gu).pop();for(fu=[],uu=new Array(t.length),cu=new Hc,lu=new Hc;;)if(r=qc,a&&(!r||a[1]<r.y||a[1]===r.y&&a[0]<r.x))a[0]===e&&a[1]===i||(au(a),e=a[0],i=a[1]),a=t.pop();else{if(!r)break;ru(r.arc)}if(function(){for(var t,n,e,i,r=0,a=uu.length;r<a;++r)if((t=uu[r])&&(i=(n=t.halfedges).length)){var o=new Array(i),s=new Array(i);for(e=0;e<i;++e)o[e]=e,s[e]=Kc(t,fu[n[e]]);for(o.sort((function(t,n){return s[n]-s[t]})),e=0;e<i;++e)s[e]=n[o[e]];for(e=0;e<i;++e)n[e]=s[e]}}(),n){var o=+n[0][0],s=+n[0][1],c=+n[1][0],u=+n[1][1];!function(t,n,e,i){for(var r,a=fu.length;a--;)zc(r=fu[a],t,n,e,i)&&Xc(r,t,n,e,i)&&(Math.abs(r[0][0]-r[1][0])>hu||Math.abs(r[0][1]-r[1][1])>hu)||delete fu[a]}(o,s,c,u),function(t,n,e,i){var r,a,o,s,c,u,l,f,h,d,g,p,y=uu.length,v=!0;for(r=0;r<y;++r)if(a=uu[r]){for(o=a.site,s=(c=a.halfedges).length;s--;)fu[c[s]]||c.splice(s,1);for(s=0,u=c.length;s<u;)g=(d=Wc(a,fu[c[s]]))[0],p=d[1],f=(l=jc(a,fu[c[++s%u]]))[0],h=l[1],(Math.abs(g-f)>hu||Math.abs(p-h)>hu)&&(c.splice(s,0,fu.push(Yc(o,d,Math.abs(g-t)<hu&&i-p>hu?[t,Math.abs(f-t)<hu?h:i]:Math.abs(p-i)<hu&&e-g>hu?[Math.abs(h-i)<hu?f:e,i]:Math.abs(g-e)<hu&&p-n>hu?[e,Math.abs(f-e)<hu?h:n]:Math.abs(p-n)<hu&&g-t>hu?[Math.abs(h-n)<hu?f:t,n]:null))-1),++u);u&&(v=!1)}if(v){var m,x,b,T=1/0;for(r=0,v=null;r<y;++r)(a=uu[r])&&(b=(m=(o=a.site)[0]-t)*m+(x=o[1]-n)*x)<T&&(T=b,v=a);if(v){var E=[t,n],_=[t,i],A=[e,i],w=[e,n];v.halfedges.push(fu.push(Yc(o=v.site,E,_))-1,fu.push(Yc(o,_,A))-1,fu.push(Yc(o,A,w))-1,fu.push(Yc(o,w,E))-1)}}for(r=0;r<y;++r)(a=uu[r])&&(a.halfedges.length||delete uu[r])}(o,s,c,u)}this.edges=fu,this.cells=uu,cu=lu=fu=uu=null}pu.prototype={constructor:pu,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return jc(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,i){if(a=(r=e.halfedges).length)for(var r,a,o,s,c,u,l=e.site,f=-1,h=n[r[a-1]],d=h.left===l?h.right:h.left;++f<a;)o=d,d=(h=n[r[f]]).left===l?h.right:h.left,o&&d&&i<o.index&&i<d.index&&(c=o,u=d,((s=l)[0]-u[0])*(c[1]-s[1])-(s[0]-c[0])*(u[1]-s[1])<0)&&t.push([l.data,o.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var i,r,a=this,o=a._found||0,s=a.cells.length;!(r=a.cells[o]);)if(++o>=s)return null;var c=t-r.site[0],u=n-r.site[1],l=c*c+u*u;do{r=a.cells[i=o],o=null,r.halfedges.forEach((function(e){var i=a.edges[e],s=i.left;if(s!==r.site&&s||(s=i.right)){var c=t-s[0],u=n-s[1],f=c*c+u*u;f<l&&(l=f,o=s.index)}}))}while(null!==o);return a._found=i,null==e||l<=e*e?r.site:null}};Math.SQRT2;function yu(t,n,e){this.k=t,this.x=n,this.y=e}yu.prototype={constructor:yu,scale:function(t){return 1===t?this:new yu(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new yu(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new yu(1,0,0);yu.prototype;var vu={path:{d:"M15 0h48v5H10V0"},options:{x:-1,y:-1,scale:.25}},mu={path:[{d:"M-22 0h48v7H8V0"},{d:"M-28 0h80v7H35V0"},{d:"M-18 0h80v7H80V0"}],options:{x:-1,y:-1,scale:.2}},xu={BLUE:"#176ba0",GREEN:"#076e00",ORANGE:"#b54900",PINK:"#ae0868",PURPLE:"#9c19a3",YELLOW:"#ffc20a",LIGHT_BLUE:"#008fe0",LIGHT_GREEN:"#4b9b1c",LIGHT_ORANGE:"#e46511",LIGHT_PINK:"#e16092",LIGHT_PURPLE:"#bc70c7",LIGHT_YELLOW:"#ffda6c",BLACK:"#1c1f21",GREY:"#a7aaab",LAVENDER:"#8374c2",WHITE:"#ffffff"},bu=4,Tu=7,Eu={BLUE:["#008fe0","#044e7b","#001624"],GREEN:["#4b9b1c","#2c5e12","#122702"],ORANGE:["#e46511","#883e10","#371a06"],PINK:["#ade868","#6d0a48","#32062a"],PURPLE:["#9c19a3","#5c1060","#240425"],GRAY:"#949494"},_u={CIRCLE:{path:{d:"M24 48C10.7 48 0 37.3 0 24S10.7 0 24 0s24 10.7 24 24-10.7 24-24 24z"},options:{x:-5,y:-5,scale:.2}},CROSS:{path:{d:"M0 16h16V0h16v16h16v16H32v16H16V32H0V16z"},options:{x:-6.2,y:-6,scale:.25}},DIAMOND:{path:{d:"M24 0l12 24-12 24-12-24L24 0z"},options:{x:-8.2,y:-8,scale:.33}},RHOMBUS:{path:{d:"M24 0l24 24-24 24L0 24 24 0z"},options:{x:-6.2,y:-6,scale:.25}},SQUARE:{path:{d:"M0 0h48v48H0V0z"},options:{x:-5,y:-5,scale:.2}},TEAR_ALT:{path:{d:"M24 48s-4.8-5.9-14.5-17.6c-6.4-8.1-5.1-19.9 2.9-26.3s19.6-5.1 26 3c5.4 6.8 5.4 16.5 0 23.4C28.8 42.1 24 48 24 48z"},options:{x:-6.1,y:-6,scale:.24}},TEAR_DROP:{path:{d:"M24 0s4.8 5.9 14.5 17.6c6.4 8.1 5.1 19.9-2.9 26.3s-19.6 5.1-26-3c-5.4-6.8-5.4-16.5 0-23.4C19.2 5.9 24 0 24 0z"},options:{x:-6.1,y:-6,scale:.24}},TRIANGLE:{path:{d:"M24 4l24 40H0L24 4z"},options:{x:-6.3,y:-6,scale:.25}},TRIANGLE_DOWN:{path:{d:"M24 44L0 4h48L24 44z"},options:{x:-6.2,y:-6,scale:.25}},VERTICAL_BAR:{path:{d:"M14 0h20v48H14V0"},options:{x:-6.2,y:-6,scale:.25}},X:{path:{d:"M0 12L12 0l12 12L36 0l12 12-12 12 12 12-12 12-12-12-12 12L0 36l12-12L0 12z"},options:{x:-6.2,y:-6,scale:.25}}},Au={CIRCLE:{circle:{cx:"24",cy:"24",r:"21",fill:"#FFF"},path:{d:"M24.1 0C10.7 0 0 10.7 0 24s10.7 24 24 24 24-10.7 24-24C48 10.8 37.3 0 24.1 0zM24 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21z"},options:{x:-5,y:-5,scale:.2}},CROSS:{path:[{fill:"#FFF",d:"M45 19v10H29v16H19V29H3V19h16V3h10v16z"},{d:"M32 16V0H16v16H0v16h16v16h16V32h16V16H32zm13 13H29v16H19V29H3V19h16V3h10v16h16v10z"}],options:{x:-6.2,y:-6,scale:.25}},DIAMOND:{path:[{fill:"#FFF",d:"M34.5 24L24 42 13.5 24 24 6z"},{d:"M24 0L10 24l14 24 14-24L24 0zm0 6l10.5 18L24 42 13.5 24 24 6z"}],options:{x:-8.2,y:-8,scale:.33}},RHOMBUS:{path:[{fill:"#FFF",d:"M4.2 24L24 4.201 43.798 24 24 43.799z"},{d:"M24 0L0 24l24 24 24-24L24 0zm19.8 24L24 43.8 4.2 24 24 4.2 43.8 24z"}],options:{x:-6.2,y:-6,scale:.25}},SQUARE:{path:[{fill:"#FFF",d:"M3 3h42v42H3z"},{d:"M0 0v48h48V0H0zm45 45H3V3h42v42z"}],options:{x:-5,y:-5,scale:.2}},TEAR_ALT:{path:[{fill:"#FFF",d:"M36.1 28.6c-5.7 6.9-9.7 11.8-12.1 14.6-2.3-2.8-6.4-7.8-12.2-14.7-5.4-6.8-4.3-16.6 2.4-22.1C17.1 4.2 20.5 3 24 3c4.7 0 9.2 2.2 12.1 5.9 4.6 5.8 4.6 13.9 0 19.7z"},{d:"M38.5 7.1C35 2.6 29.6 0 24 0c-4.2 0-8.2 1.4-11.5 4.1-8 6.5-9.3 18.2-2.9 26.3C19.3 42.1 24.1 48 24.1 48s4.8-5.9 14.4-17.5c5.4-6.9 5.4-16.5 0-23.4zM11.8 28.5c-5.4-6.8-4.3-16.6 2.4-22.1C17.1 4.2 20.5 3 24 3c4.7 0 9.2 2.2 12.1 5.9 4.6 5.8 4.6 13.9 0 19.7-5.7 6.9-9.7 11.8-12.1 14.6-2.3-2.8-6.4-7.8-12.2-14.7z"}],options:{x:-6.2,y:-6,scale:.25}},TEAR_DROP:{path:[{fill:"#FFF",d:"M33.7 41.6C27 46.9 17.4 45.9 12 39.2c0-.1-.1-.1-.1-.2-4.6-5.8-4.6-13.9 0-19.7 5.7-6.8 9.7-11.7 12-14.5 2.3 2.8 6.4 7.8 12.2 14.7 5.4 6.8 4.3 16.6-2.4 22.1z"},{d:"M38.4 17.6C28.7 5.9 23.9 0 23.9 0S19.1 5.9 9.5 17.5c-5.4 6.9-5.4 16.5 0 23.4 6.3 8 17.8 9.4 25.8 3.2.1 0 .1-.1.2-.2 8-6.5 9.3-18.2 2.9-26.3zM12 39.2c0-.1-.1-.1-.1-.2-4.6-5.8-4.6-13.9 0-19.7 5.7-6.8 9.7-11.7 12-14.5 2.3 2.8 6.4 7.8 12.2 14.7 5.4 6.8 4.3 16.6-2.4 22.1-6.7 5.3-16.3 4.3-21.7-2.4z"}],options:{x:-6.2,y:-6,scale:.25}},TRIANGLE:{path:[{fill:"#FFF",d:"M42.7 41H5.3L24 9.8z"},{d:"M24 4L0 44h48L24 4zm0 5.8L42.7 41H5.3L24 9.8z"}],options:{x:-6.3,y:-6,scale:.25}},TRIANGLE_DOWN:{path:[{fill:"#FFF",d:"M42.7 7L24 38.2 5.3 7z"},{d:"M0 4l24 40L48 4H0zm42.7 3L24 38.2 5.3 7h37.4z"}],options:{x:-6.2,y:-6,scale:.25}},VERTICAL_BAR:{path:[{fill:"#FFF",d:"M17 3h14v42H17z"},{d:"M14 0v48h20V0H14zm17 45H17V3h14v42z"}],options:{x:-6.2,y:-6,scale:.25}},X:{path:[{fill:"#FFF",d:"M33.9 26.1l9.9 9.9-7.8 7.8-9.9-9.9-2.1-2.1-2.1 2.1-9.9 9.9L4.2 36l9.9-9.9 2.1-2.1-2.1-2.1L4.2 12 12 4.2l9.9 9.9 2.1 2.1 2.1-2.1L36 4.2l7.8 7.8-9.9 9.9-2.1 2.1z"},{d:"M48 12L36 0 24 12 12 0 0 12l12 12L0 36l12 12 12-12 12 12 12-12-12-12 12-12zM36 43.8l-9.9-9.9-2.1-2.1-2.1 2.1-9.9 9.9L4.2 36l9.9-9.9 2.1-2.1-2.1-2.1L4.2 12 12 4.2l9.9 9.9 2.1 2.1 2.1-2.1L36 4.2l7.8 7.8-9.9 9.9-2.1 2.1 2.1 2.1 9.9 9.9-7.8 7.8z"}],options:{x:-6.2,y:-6,scale:.25}}},wu={DEFAULT:"default",TIME_SERIES:"timeseries"},ku={LINEAR:kc,SPLINE:Pc},Iu={X:{TOP:"top",BOTTOM:"bottom"},Y:{LEFT:"left",RIGHT:"right"}},Su={PADDING:{top:10,bottom:10,left:30,right:50,trackLabel:100},LEGEND_PADDING:{top:4,bottom:4,left:8,right:8},PIE_LEGEND_PADDING:{top:8,bottom:8,left:8,right:8},PAIR_ITEM_TYPES:["high","mid","low"],ISO8601_DATE_TIME_MILLI:/(\d{4}-\d{2}-\d{2})T(\d{2}:\d{2}(:\d{2}(\.\d+)*)*)Z/,RESIZE_THROTTLE:1e3/60,BASE_CANVAS_WIDTH_PADDING:10,BASE_LABEL_ICON_SPACING:20,BASE_LABEL_ICON_WIDTH_PADDING:5,BASE_LABEL_ICON_HEIGHT_PADDING:12,TEXT_LABEL_ICON_WIDTH_PADDING:8,TEXT_LABEL_ICON_HEIGHT_PADDING:5,TEXT_LABEL_VERTICAL_POSITION:{top:-10,bottom:20},DEFAULT_TICKSCOUNT:7,TICKSCOUNT_MAXLIMIT:19,AXISRANGE_ONE:20,AXISRANGE_TWO:50,AXISRANGE_THREE:100,AXISRANGE_FOUR:500,TIMELINE_HEIGHT:40,PIE_CHART_DEFAULT_HEIGHT:250,DEFAULT_HEIGHT:250,DEFAULT_PLOT_SCALE:.275,DEFAULT_PLOT_SELECTION_SCALE:{posX:1.95,posY:1.95,scale:2},DEFAULT_PLOT_SELECTION_SCALE_FOR_EVENTS:{posX:9,posY:7,scale:1.3},DEFAULT_TIMELINE_PLOT_SELECTION_SCALE:{posX:2,posY:2,scale:2.2},DEFAULT_TIMELINE_SCALE:{posX:1.15,posY:1.15,scale:1.25},DEFAULT_TIMELINE_TICK_LENGTH:12,DEFAULT_LABEL_CHARACTER_LIMIT:12,DEFAULT_GANTT_TRACK_HEIGHT:41,DEFAULT_GANTT_TRACK_SELECTION:{x:1,y:1,width:2,height:1.5},DEFAULT_GANTT_TASK_HEIGHT:23,DEFAULT_GANTT_TASK_PADDING:{top:9,bottom:9},DEFAULT_GANTT_TASK_CHUNK_WIDTH:5,DEFAULT_GANTT_ACTIVITY_CHUNK_WIDTH:5,DEFAULT_GANTT_TASK_SELECTION_PADDING:25,DEFAULT_GANTT_ACTIVITY_OPACITY:.5,DEFAULT_GANTT_ACTIVITY_HEIGHT:31,DEFAULT_GANTT_ACTIVITY_PADDING:{top:5,bottom:5},DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES:{WIDTH_RATIO:.66,LEFT_SHIFT_OFFSET_RATIO:.5,LEFT_SHIFT_OFFSET_PADDING_RATIO:.16,OUTER_PADDING_RATIO:2.5,REGION_LEFT_SHIFT_OFFSET_PADDING_RATIO:.08,REGION_WIDTH_RATIO:.83},DEFAULT_BAR_HASH_COLOR:"#d3d4d5",DEFAULT_BAR_COLOR:xu.BLUE,DEFAULT_BAR_REGION_COLOR:"#bcbfc0",DEFAULT_GOAL_LINE_STROKE_WIDTH:5,DEFAULT_REGION_LINE_STROKE_WIDTH:5,DEFAULT_BAR_SELECTION_PADDING:5,DEFAULT_ACTIVITY_BAR_HASH_COLOR:"#d3d4d5",DEFAULT_TASK_BAR_HASH_COLOR:xu.BLUE,DEFAULT_BAR_STRIPE_COLOR:"#fff",DEFAULT_GANTT_TASK_STRIPE_WIDTH:4,DEFAULT_GANTT_TASK_STRIPE_DISTANCE:2,DEFAULT_GANTT_ACTIVITY_STRIPE_WIDTH:7,DEFAULT_GANTT_ACTIVITY_STRIPE_DISTANCE:2,DEFAULT_CHARACTER_SVG_ELEMENT_WIDTH:16.5,DEFAULT_Y_AXIS_SPACING:30,HOVER_EVENT:{MOUSE_ENTER:"enter",MOUSE_EXIT:"exit"},VIEW_BOX_SIZE:"0 0 48 48",DEFAULT_COLOR:xu.BLACK,DEFAULT_PIE_COLOR:xu.BLUE,DEFAULT_PIE_LEGEND_SHAPE:_u.SQUARE,DEFAULT_PIE_INNER_RADIUS:1,DEFAULT_PIE_PAD_ANGLE:.01,X_AXIS:"x",Y_AXIS:"y",Y2_AXIS:"y2",MIN_TICKS:3,MAX_TICK_VARIANCE:140,DEFAULT_INTERPOLATION:kc,SELECTION_INDICATOR_X_POSITION:10,SELECTION_INDICATOR_Y_POSITION:12.5,D3_TRANSITION_PROPERTIES_ENABLED:{duration:250,ease:Wr},D3_TRANSITION_PROPERTIES_DISABLED:{duration:0,ease:Wr},d3Transition:function(t){return function(n){return n.duration(t.duration).ease(t.ease)}},TICK_ORIENTATION:{TOP:-1,BOTTOM:1},NO_DATA_VIEW_PROPORTION:3,NO_DATA_LABEL_PADDING:15,DEFAULT_BUBBLE_RADIUS_MIN:3,DEFAULT_BUBBLE_RADIUS_MAX:30,DEFAULT_BUBBLE_SELECTOR_RADIUS:4,DEFAULT_BUBBLE_OPACITY:"0.4",DEFAULT_BUBBLE_BLUR_OPACITY:"0.1",DEFAULT_BUBBLE_STROKE_OPACITY:"1",DEFAULT_BUBBLE_BLUR_STROKE_OPACITY:"0.3",DEFAULT_LEGEND_LINE_WIDTH:28,DEFAULT_LEGEND_LINE_WIDTH_WITH_SYMBOL:18,LEGEND_LINE_POSITION:1.5},Du=e(21),Lu=e.n(Du),Cu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return function(){return!t.apply(void 0,arguments)}},Nu=function(t){return Array.isArray(t)},Ru=function(t){return void 0===t},Pu=Cu(Ru),Ou=function(t){return null==t||function(t){return"string"==typeof t}(t)&&0===t.length||"object"===Lu()(t)&&0===Object.keys(t).length},Mu=Cu(Ou),Gu=function(t){return Su.ISO8601_DATE_TIME_MILLI.test(t)},Uu=function(t){return t instanceof Date},Fu=function(t){return new Date(t)},Hu={deepClone:function t(n){return Nu(n)?n.map(t):n&&"object"===Lu()(n)?Object.keys(n).reduce((function(e,i){return Pu(n[i])&&(e[i]=t(n[i])),e}),{}):n},isFunction:function(t){return"function"==typeof t},isArray:Nu,isEmptyArray:function(t){return Array.isArray(t)&&0===t.length},isDefined:Pu,isUndefined:Ru,isEmpty:Ou,notEmpty:Mu,hasValue:function(t,n){return Object.keys(t).some((function(e){return t[e]===n}))},sanitize:function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},getNumber:function(t){return t?Number(t):0},isDate:Gu,isNumber:function(t){return"number"==typeof t&&!Number.isNaN(t)},parseDateTime:Fu,getTime:function(t){return Fu(t).getTime()},isDateInstance:Uu,isEqual:function(t,n){return Gu(t)||Uu(t)?function(t,n){return t.getTime()===n.getTime()}(Fu(t),Fu(n)):t===n},isBoolean:function(t){return"boolean"==typeof t&&!Number.isNaN(t)}},Bu=function(t){if(Hu.isEmpty(t))throw new Error(D);if(Hu.isEmpty(t.key))throw new Error(I);if(!Hu.isArray(t.values))throw new Error(w)},Yu=function(t,n){return Hu.isUndefined(t)?n:t},Vu=function(t){return Yu(t,wu.DEFAULT)},Xu=function(){return"carbon-".concat(+new Date,"-clip")},zu=function(){return"carbon-".concat(+new Date,"-dateline-clip")},Ku=function(t){return Yu(t,ku.LINEAR)},ju=function(t){return Vu(t)===wu.TIME_SERIES?tc():Ya()},Wu=function(t,n,e){return Vu(t)===wu.TIME_SERIES?[Hu.parseDateTime(n),Hu.parseDateTime(e)]:[Hu.getNumber(n),Hu.getNumber(e)]},qu=function(t,n){return Vu(n)===wu.TIME_SERIES?Hu.parseDateTime(t):Hu.getNumber(t)},Ju=function(t){return Hu.isDefined(t.pan)&&t.pan.enabled},Zu=function(t){return Yu(t.strokeDashArray,"0")},$u=function(){function t(){}var n=t.prototype;return n.load=function(t){throw new Error(G)},n.unload=function(t){throw new Error(U)},n.resize=function(t){throw new Error(F)},n.redraw=function(t){throw new Error(H)},t}(),Qu={container:"carbon-graph-container",canvas:"carbon-graph-canvas",canvasXAxis:"carbon-x-axis-canvas",axis:"carbon-axis",axisX:"carbon-axis-x",axisY:"carbon-axis-y",axisY2:"carbon-axis-y2",axisReferenceLine:"carbon-axis-reference-line",grid:"carbon-grid",gridH:"carbon-horizontal-grid",gridV:"carbon-vertical-grid",gridLowerStep:"carbon-lower-step-grid",gridMidpoint:"carbon-midpoint-grid",gridUpperStep:"carbon-upper-step-grid",highlight:"carbon-highlight",blur:"carbon-blur",bubbleBlur:"carbon-bubble-blur",svgIcon:"carbon-svgIcon",axisLabelX:"carbon-x-axis-label",axisLabelY:"carbon-y-axis-label",axisLabelY2:"carbon-y2-axis-label",axisLabelYShapeContainer:"carbon-y-axis-label-shape-container",axisLabelY2ShapeContainer:"carbon-y2-axis-label-shape-container",axisLabelRow:"carbon-axis-label-row",axisLabel:"carbon-axis-label-item",axisYTrackLabel:"carbon-y-axis-track-label",legend:"carbon-legend",legendItem:"carbon-legend-item",legendItemBtn:"carbon-legend-item-btn",legendItemIcon:"carbon-legend-item-icon",legendItemLine:"carbon-legend-item-line",legendItemLineWithIcon:"carbon-legend-item-line-with-icon",legendItemSpan:"carbon-legend-item-span",legendItemWhiteLine:"carbon-legend-white-line",legendItemText:"carbon-legend-item-text",contentContainer:"carbon-content-container",datelineContent:"carbon-dateline-content",datelineGroup:"carbon-dateline-group",datelinePoint:"carbon-dateline-point",dateline:"carbon-dateline",eventlineContent:"carbon-eventline-content",eventlineGroup:"carbon-eventline-group",eventline:"carbon-eventline",noDataContainer:"carbon-no-data-container",noDataLabel:"carbon-no-data-label",noDataOverlay:"carbon-no-data-overlay",labelPopupOverlay:"carbon-label-popup-overlay",labelPopupTooltip:"carbon-label-popup-tooltip",lineGraphContent:"carbon-line-graph-content",currentLinesGroup:"carbon-data-lines-group",currentPointsGroup:"carbon-data-points-group",dataPointSelection:"carbon-selected-data-point",dataPointDisplayEnable:"carbon-data-pair--selected",bubbleGraphContent:"carbon-bubble-graph-content",pairedBoxGroup:"carbon-data-pairs-group",pairedBox:"carbon-data-pair",pointGroup:"carbon-data-points",line:"carbon-line",point:"carbon-point",pairedLine:"carbon-paired-line",pairedPoint:"carbon-paired-point",high:"carbon-high",low:"carbon-low",mid:"carbon-mid",regionGroup:"carbon-region-group",regionPairGroup:"carbon-region-pair-group",region:"carbon-region",regionHighlight:"carbon-region-highlight",regionBlur:"carbon-region-blur",valueRegion:"carbon-value-region",criticalityOuterPoint:"carbon-criticality-outer",criticalityInnerPoint:"carbon-criticality-inner",criticalityTimelineOuterPoint:"carbon-timeline-criticality-outer",criticalityTimelineInnerPoint:"carbon-timeline-criticality-inner",ganttChartContent:"carbon-gantt-chart-content",trackGroup:"carbon-data-track-group",ganttTrackSelectorGroup:"carbon-gantt-track-selector-group",ganttTrackBarSelection:"carbon-track-selected-bar",taskGroup:"carbon-data-task-group",task:"carbon-data-task",taskBar:"carbon-data-bar",taskBarSelection:"carbon-data-selected-bar",taskBarCompletion:"carbon-data-completion-bar",activityGroup:"carbon-data-activity-group",activity:"carbon-data-activity",activityBar:"carbon-data-activity-bar",timelineGraphContent:"carbon-timeline-graph-content",timelineContentGroup:"carbon-timeline-content-group",bar:"carbon-bar-graph",barGraphContent:"carbon-bar-graph-content",currentBarsGroup:"carbon-data-bars-group",barHashedRect:"carbon-data-bar--hashed",barSelectionGroup:"carbon-bar-selector-group",barGoalLine:"carbon-bar-goal-line",axisInfoRow:"carbon-axis-info-row",axisInfoRowItem:"carbon-axis-info-row-item",axisInfoRowIcon:"carbon-axis-info-row-icon",axisInfoRowDisplay:"carbon-axis-info-row-item-display",axisInfoRowSecondaryDisplay:"carbon-axis-info-row-item-sec-display",pieChartCanvas:"carbon-pie-chart-canvas",pieChartContent:"carbon-pie-chart-content",pieContentGroup:"carbon-data-pie-group",pieContentSlice:"carbon-data-pie-slice",pieLegendItem:"carbon-pie-legend-item",pieLegendItemIcon:"carbon-pie-legend-item-icon",pieLegendItemSliceHover:"carbon-pie-legend-item-slice-hover",scatterGraphContent:"carbon-scatter-graph-content"},tl={PATH:"path",CIRCLE:"circle",RECT:"rect",POLYGON:"polygon",G:"g",STYLE:"style"},nl=function(t){return document.createElementNS(Sn.svg,t)},el=function(t,n,e){return(Hu.isArray(e)?e:[e]).forEach((function(i){t.append((function(){return(t=i,r=Ie(nl(n)),Object.keys(t).forEach((function(n){"_html"!==n?r.attr(n,t[n]||""):r.html(e._html)})),r).node();var t,r}))})),t},il=function(t,n,e,i){t.attr("transform",e(i)),Object.keys(tl).forEach((function(e){n[tl[e]]&&el(t,tl[e],n[tl[e]])}))},rl=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t,e){return n.forEach((function(n){return Object.prototype.hasOwnProperty.call(e,n)?t.attr(n,e[n]):void 0}))}},al=function(t){return t.attr("viewBox",Su.VIEW_BOX_SIZE)},ol=function(t,n){var e=n.svgClassNames,i=n.svgStyles,r=n.transformFn,a=n.onClickFn,o=n.a11yAttributes,s=n.additionalAttributes,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=Ie(nl("svg")).attr("x",t.options.x).attr("y",t.options.y).attr("style",i).attr("class","".concat(Qu.svgIcon," ").concat(e)).attr("role","img").attr("pointer-events",s["pointer-events"]?"none":"auto").on("click",a);c&&al(u),rl("aria-describedby","aria-hidden","aria-selected","aria-disabled")(u,o);var l=u.append("g");return il(l,t,r,t.options.scale),u.node()},sl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.svgClassNames,e=void 0===n?"":n,i=t.svgStyles,r=void 0===i?"":i,a=t.transformFn,o=void 0===a?function(){}:a,s=t.onClickFn,c=void 0===s?function(){}:s,u=t.a11yAttributes,l=void 0===u?{}:u,f=t.additionalAttributes,h=void 0===f?{}:f;return{svgClassNames:e,svgStyles:r,transformFn:o,onClickFn:c,a11yAttributes:l,additionalAttributes:h}},cl=function(){function t(t){!function(t){if(Hu.isEmpty(t[tl.PATH]))throw new Error(m);if(Hu.isEmpty(t.options))throw new Error(x);if(Hu.isEmpty(t.options.x)||Hu.isEmpty(t.options.y)||Hu.isEmpty(t.options.scale))throw new Error(b)}(t),this.shape=t}return t.prototype.getShapeElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ol(this.shape,t||sl(),n)},t}();cl.getDefaultSVGProps=sl;var ul=cl,ll=e(32),fl=e.n(ll),hl={decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],noData:"No Data"},dl=hl,gl={de_DE:{decimal:",",thousands:".",grouping:[3],currency:[""," "],dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],noData:"Keine Daten"},en_AU:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],noData:"No Data"},en_CA:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],noData:"No Data"},en_GB:{decimal:".",thousands:",",grouping:[3],currency:["",""],dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],noData:"No Data"},en_US:hl,es_ES:{decimal:",",thousands:".",grouping:[3],currency:[""," "],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],shortDays:["dom","lun","mar","mi","jue","vie","sb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],noData:"Sin datos"},fr_FR:{decimal:",",thousands:".",grouping:[3],currency:[""," "],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortMonths:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],noData:"Aucune donne"},pt_BR:{decimal:",",thousands:".",grouping:[3],currency:["R$",""],dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],noData:"Sem dados"},ja_JP:{decimal:".",thousands:",",grouping:[3],currency:["",""],dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],noData:""},nl_NL:{decimal:",",thousands:".",grouping:[3],currency:[" ",""],dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],noData:"Geen gegevens"},sv_SE:{decimal:",",thousands:".",grouping:[3],currency:[""," kr"],dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],shortDays:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],noData:"Ingen information"}},pl=gl,yl="lowerStepTickValues",vl="midpointTickValues",ml="upperStepTickValues",xl=function(t,n,e,i){return{axis:{x:{ticks:{values:t},orientation:"".concat(e)}},height:"".concat(n),settingsDictionary:{transition:i}}},bl=function(t){switch(t){case yl:return Qu.gridLowerStep;case vl:return Qu.gridMidpoint;case ml:return Qu.gridUpperStep;default:return""}},Tl=function(t,n,e,i,r,a,o,s){var c=xl(e,r,i,a);s(t,n,bl(o),c)},El=function(t,n,e,i,r,a,o,s){var c=xl(e,r,i,a);s(t,n,bl(o),c)},_l=function(t){var n=[];return Hu.notEmpty(t.values)&&(n=n.concat(t.values)),Hu.notEmpty(t.upperStepTickValues)&&(n=n.concat(t.upperStepTickValues)),n},Al=function(t){return!Hu.isEmpty(t)&&(Hu.notEmpty(t.midpointTickValues)||Hu.notEmpty(t.upperStepTickValues)||Hu.notEmpty(t.lowerStepTickValues))},wl=function(t,n,e,i){Al(e.axis.x.ticks)?function(t,n,e,i){Hu.notEmpty(e.axis.x.ticks.values)&&Hu.isEmpty(e.axis.x.ticks.lowerStepTickValues)?Tl(t,n,e.axis.x.ticks.values,e.axis.x.orientation,e.height,e.settingsDictionary.transition,yl,i):Hu.notEmpty(e.axis.x.ticks.lowerStepTickValues)&&Tl(t,n,e.axis.x.ticks.lowerStepTickValues,e.axis.x.orientation,e.height,e.settingsDictionary.transition,yl,i),Hu.notEmpty(e.axis.x.ticks.midpointTickValues)&&Tl(t,n,e.axis.x.ticks.midpointTickValues,e.axis.x.orientation,e.height,e.settingsDictionary.transition,vl,i),Hu.notEmpty(e.axis.x.ticks.upperStepTickValues)&&Tl(t,n,e.axis.x.ticks.upperStepTickValues,e.axis.x.orientation,e.height,e.settingsDictionary.transition,ml,i)}(t,n,e,i):i(t,n,Qu.gridV,e)},kl=function(t,n,e,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.axis.x.orientation;if(Al(e.axis.x.ticks)){var a=e.axis.x.ticks.lowerStepTickValues?e.axis.x.ticks.lowerStepTickValues:e.axis.x.ticks.values,o={values:a,upperStepTickValues:e.axis.x.ticks.upperStepTickValues};n.x=i(t,_l(o),e,r)}},Il=function(t,n,e,i){Al(e.axis.x.ticks)?function(t,n,e,i){Hu.notEmpty(e.axis.x.ticks.values)&&Hu.isEmpty(e.axis.x.ticks.lowerStepTickValues)?El(t,n,e.axis.x.ticks.values,e.axis.x.orientation,e.height,e.settingsDictionary.transition,yl,i):Hu.notEmpty(e.axis.x.ticks.lowerStepTickValues)&&El(t,n,e.axis.x.ticks.lowerStepTickValues,e.axis.x.orientation,e.height,e.settingsDictionary.transition,yl,i),Hu.notEmpty(e.axis.x.ticks.midpointTickValues)&&El(t,n,e.axis.x.ticks.midpointTickValues,e.axis.x.orientation,e.height,e.settingsDictionary.transition,vl,i),Hu.notEmpty(e.axis.x.ticks.upperStepTickValues)&&El(t,n,e.axis.x.ticks.upperStepTickValues,e.axis.x.orientation,e.height,e.settingsDictionary.transition,ml,i)}(t,n,e,i):i(t,n,Qu.gridV,e)},Sl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS;return Jt(t[n].domain())<0&&qt(t[n].domain())>0},Dl=function(t){return[{x:t.x.domain()[0],y:0},{x:t.x.domain()[1],y:0}]},Ll=function(t,n){return Dc().x((function(n){return t.x(n.x)})).y((function(e){return t[n](e.y)}))},Cl=function(t){return Hu.isDefined(t.y2)&&t.y2.show},Nl=function(t){return t===Iu.X.TOP},Rl=function(t){var n=t.scale().tickFormat().toString();return"".concat(n.slice(0,n.length-1),"~").concat(n.slice(n.length-1))},Pl=function(t){return Hu.isEmpty(t)?null:t.map((function(t){return Hu.isDate(t)?Hu.parseDateTime(t):t}))},Ol=function(t,n,e,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Iu.X.BOTTOM,a=cn(t);return Nl(r)&&(a=on(t)),a.ticks(Math.max(e/Su.MAX_TICK_VARIANCE,Su.MIN_TICKS)).tickValues(Pl(n)).tickFormat(i),a},Ml=function(t){return t.canvasWidth-t.axisSizes.y-t.axisSizes.y2-t.axisLabelWidths.y-t.axisLabelWidths.y2},Gl=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wu.DEFAULT;if(""===n)return n;var i=e===wu.TIME_SERIES?Js(t):ma(t);return Hu.isEmpty(n)?null:i.format(n)},Ul=function(t,n,e,i){return un(t).ticks(e/Su.DEFAULT_Y_AXIS_SPACING).tickValues(n).tickFormat(i)},Fl=function(t,n,e,i){return sn(t).ticks(e/Su.DEFAULT_Y_AXIS_SPACING).tickValues(n).tickFormat(i)},Hl=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Su.DEFAULT_TICKSCOUNT,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=Math.abs(e);var r=[];if(i){var a=Ya().domain([t,n]).nice().domain(),o=fl()(a,2);t=o[0],n=o[1]}r.push(t),r.push(n),t<0&&r.push(0);for(var s=(n-t)/(e+1),c=1;c<=e;c+=1)r.push(t+s*c);return r},Bl=function(t){var n;switch(!0){case t<=Su.AXISRANGE_ONE:n=Su.DEFAULT_TICKSCOUNT-4;break;case t<=Su.AXISRANGE_TWO:n=Su.DEFAULT_TICKSCOUNT-3;break;case t<=Su.AXISRANGE_THREE:n=Su.DEFAULT_TICKSCOUNT-2;break;case t<=Su.AXISRANGE_FOUR:n=Su.DEFAULT_TICKSCOUNT-1;break;default:n=Su.DEFAULT_TICKSCOUNT}return n},Yl=function(t,n,e){var i,r,a,o,s,c;if(e.axis.x.suppressTrailingZeros&&e.axis.x.type===wu.DEFAULT&&Hu.isUndefined(e.axis.x.ticks.format)&&(t.x=Nl(e.axis.x.orientation)?on(n.x):cn(n.x),i=Rl(t.x)),t.x=Ol(n.x,e.axis.x.ticks.values,Ml(e),Gl(e.d3Locale,Hu.isDefined(e.axis.x.ticks.format)?e.axis.x.ticks.format:i,e.axis.x.type),e.axis.x.orientation),i=null,t.axisInfoRow.x=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iu.X.BOTTOM,e=cn(t);return Nl(n)&&(e=on(t)),e.tickValues([]),e}(n.x,(r=e.axis.x.orientation,Nl(r)?Iu.X.BOTTOM:Iu.X.TOP)),Cl(e.axis)){if(Hu.isDefined(e.axis.y.ticks.values))return e.axis.y.suppressTrailingZeros&&Hu.isUndefined(e.axis.y.ticks.format)&&(t.y=un(n.y),i=Rl(t.y)),t.y=Ul(n.y,e.axis.y.ticks.values,e.height,Gl(e.locale,Hu.isDefined(e.axis.y.ticks.format)?e.axis.y.ticks.format:i)),i=null,e.axis.y2.suppressTrailingZeros&&Hu.isUndefined(e.axis.y2.ticks.format)&&(t.y2=sn(n.y2),i=Rl(t.y2)),t.y2=Fl(n.y2,e.axis.y2.ticks.values,e.height,Gl(e.locale,Hu.isDefined(e.axis.y2.ticks.format)?e.axis.y2.ticks.format:i)),t;if(Hu.isDefined(e.ticksCount)&&e.ticksCount<=Su.TICKSCOUNT_MAXLIMIT){var u=Hl(e.axis.y.domain.lowerLimit,e.axis.y.domain.upperLimit,e.ticksCount,e.allowCalibration),l=Hl(e.axis.y2.domain.lowerLimit,e.axis.y2.domain.upperLimit,e.ticksCount,e.allowCalibration);e.axis.y.suppressTrailingZeros&&Hu.isUndefined(e.axis.y.ticks.format)&&(t.y=un(n.y),i=Rl(t.y)),t.y=Ul(n.y,u,e.height,Gl(e.locale,Hu.isDefined(e.axis.y.ticks.format)?e.axis.y.ticks.format:i)),i=null,e.axis.y2.suppressTrailingZeros&&Hu.isUndefined(e.axis.y2.ticks.format)&&(t.y2=sn(n.y2),i=Rl(t.y2)),t.y2=Fl(n.y2,l,e.height,Gl(e.locale,Hu.isDefined(e.axis.y2.ticks.format)?e.axis.y2.ticks.format:i))}else{var f=(a=e.axis.y.domain.upperLimit-e.axis.y.domain.lowerLimit,o=e.axis.y2.domain.upperLimit-e.axis.y2.domain.lowerLimit,s=Bl(a),c=Bl(o),Math.round((s+c)/2)),h=Hl(e.axis.y.domain.lowerLimit,e.axis.y.domain.upperLimit,f,e.allowCalibration),d=Hl(e.axis.y2.domain.lowerLimit,e.axis.y2.domain.upperLimit,f,e.allowCalibration);e.axis.y.suppressTrailingZeros&&Hu.isUndefined(e.axis.y.ticks.format)&&(t.y=un(n.y),i=Rl(t.y)),t.y=Ul(n.y,h,e.height,Gl(e.locale,Hu.isDefined(e.axis.y.ticks.format)?e.axis.y.ticks.format:i)),i=null,e.axis.y2.suppressTrailingZeros&&Hu.isUndefined(e.axis.y2.ticks.format)&&(t.y2=sn(n.y2),i=Rl(t.y2)),t.y2=Fl(n.y2,d,e.height,Gl(e.locale,Hu.isDefined(e.axis.y2.ticks.format)?e.axis.y2.ticks.format:i))}}else if(Hu.isDefined(e.axis.y.ticks.values))e.axis.y.suppressTrailingZeros&&Hu.isUndefined(e.axis.y.ticks.format)&&(t.y=un(n.y),i=Rl(t.y)),t.y=Ul(n.y,e.axis.y.ticks.values,e.height,Gl(e.locale,Hu.isDefined(e.axis.y.ticks.format)?e.axis.y.ticks.format:i));else if(Hu.isDefined(e.ticksCount)||e.ticksCount<=Su.TICKSCOUNT_MAXLIMIT){var g=Hl(e.axis.y.domain.lowerLimit,e.axis.y.domain.upperLimit,e.ticksCount,e.allowCalibration);e.axis.y.suppressTrailingZeros&&Hu.isUndefined(e.axis.y.ticks.format)&&(t.y=un(n.y),i=Rl(t.y)),t.y=Ul(n.y,g,e.height,Gl(e.locale,Hu.isDefined(e.axis.y.ticks.format)?e.axis.y.ticks.format:i))}else e.axis.y.suppressTrailingZeros&&Hu.isUndefined(e.axis.y.ticks.format)&&(t.y=un(n.y),i=Rl(t.y)),t.y=Ul(n.y,void 0,e.height,Gl(e.locale,Hu.isDefined(e.axis.y.ticks.format)?e.axis.y.ticks.format:i));return t},Vl=function(t,n,e,i){return Ol(t.x,n,Ml(e),Gl(e.d3Locale,e.axis.x.ticks.format,e.axis.x.type),i)},Xl=function(t){return t.axisSizes.y+t.axisLabelWidths.y},zl=function(t){return Nl(t.axis.x.orientation)?t.axisLabelHeights.x?2*t.axisLabelHeights.x+t.padding.top:t.padding.top:t.padding.bottom},Kl=function(t){return t.height},jl=function(t){return Nl(t.axis.x.orientation)?zl(t):Kl(t)+zl(t)},Wl=function(t){return t.attr("font-size",null).attr("font-family",null)},ql=function(t){return Xl(t)},Jl=function(t){return zl(t)},Zl=function(t){return ql(t)+Ml(t)},$l=function(t){return zl(t)},Ql=function(t){return Nl(t.axis.x.orientation)?Kl(t)+zl(t):zl(t)},tf=function(t){switch(t){case Su.Y_AXIS:return-90;case Su.Y2_AXIS:return 90;default:return 0}},nf=function(t){return Xl(t)+Ml(t)/2},ef=function(t){return Nl(t.axis.x.orientation)?zl(t)-2*t.axisLabelHeights.x:jl(t)+2*t.axisLabelHeights.x+2*(t.padding.bottom-t.axisInfoRowLabelHeight)},rf=function(t){return Cl(t.axis)?t.padding.left-t.axisLabelWidths.y:t.padding.left},af=function(t){return Jl(t)+(Kl(t)-t.padding.left/2)/2},of=function(t){return Zl(t)+t.padding.right+t.axisLabelWidths.y2},sf=function(t){if(t.padding.hasCustomPadding)return t.padding.bottom;var n=cn(ju(t.axis.x.type).domain(t.axis.x.domain).range([0,t.canvasWidth])),e=Ie("body").append("div"),i=e.append("svg").append("g").call(n).node().getBoundingClientRect().height;return e.remove(),i},cf=function(t){return[0,Ml(t)]},uf=function(t){return[Kl(t),0]},lf=function(t,n){return ah(t,Math.abs(n))?oh(t,Math.abs(n)):t},ff=function(t,n,e){return t.append("text").attr("text-anchor","middle").append("tspan").text(lf(n,e))},hf=function(t,n,e){var i,r=Ie("body").append("div"),a=r.append("svg").append("g").attr("transform","rotate(".concat(tf(n),")"));return ff(a,t),i=Hu.isDefined(e)&&Cl(e.axis)&&0===t.trim().length?Su.DEFAULT_CHARACTER_SVG_ELEMENT_WIDTH:a.node().getBoundingClientRect().width,r.remove(),i},df=function(t){var n=Ie("body").append("div"),e=n.append("svg").append("g");ff(e,t);var i=e.node().getBoundingClientRect().height;return n.remove(),i},gf=function(t,n){if(n.padding.hasCustomPadding)return n.padding.left;var e=un(Ya().domain([n.axis[t].domain.lowerLimit,n.axis[t].domain.upperLimit]).range([n.height,0])),i=Ie("body").append("div"),r=i.append("svg").append("g").call(e).node().getBoundingClientRect().width;return i.remove(),r},pf=function(t){t.axisSizes={},t.axisSizes.y=gf(Su.Y_AXIS,t)+t.padding.left,t.axisSizes.y2=function(t){return t.padding.hasCustomPadding?t.padding.right:Cl(t.axis)?gf(Su.Y2_AXIS,t):20}(t)+t.padding.right,t.axisSizes.x=sf(t)},yf=function(t,n){var e=(t.axis[n].domain.upperLimit-t.axis[n].domain.lowerLimit)/2;return t.axis[n].domain.lowerLimit+e},vf=function(t){var n=[],e=function(n){var e=t.axis[n].domain.lowerLimit,i=yf(t,n),r=Math.abs((i-function(t,n,e){var i=t.axis[n].dataRange.min;return i<e?i:e}(t,n,e))/(i-e));return r>1?r:1};return n.push(e(Su.Y_AXIS)),Cl(t.axis)&&n.push(e(Su.Y2_AXIS)),n},mf=function(t){t.axis.x.domain=Wu(t.axis.x.type,t.axis.x.lowerLimit,t.axis.x.upperLimit)},xf=function(t){var n=[],e=function(n){var e=t.axis[n].domain.upperLimit,i=yf(t,n),r=Math.abs((function(t,n,e){var i=t.axis[n].dataRange.max;return i>e?i:e}(t,n,e)-i)/(e-i));return r>1?r:1};return n.push(e(Su.Y_AXIS)),Cl(t.axis)&&n.push(e(Su.Y2_AXIS)),n},bf=function(t){var n=function(t,n){return n-t};return{upperLimit:xf(t).sort(n)[0],lowerLimit:vf(t).sort(n)[0]}},Tf=function(t,n,e,i){Yl(t,n,e),kl(n,t,e,Vl),i.select(".".concat(Qu.axisX)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(Xl(e),",").concat(jl(e),")")).call(t.x),i.select(".".concat(Qu.axisY)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(ql(e),", ").concat(Jl(e),")")).call(t.y),Cl(e.axis)&&i.select(".".concat(Qu.axisY2)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(Zl(e),", ").concat($l(e),")")).call(t.y2),i.select(".".concat(Qu.axisInfoRow)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(Xl(e),", ").concat(Ql(e),")")).call(t.axisInfoRow.x)},Ef=function(t,n,e){if(t instanceof Pd){var i=0,r=0;return n.filter((function(n){return n instanceof Pd&&n.config.group===t.config.group})).forEach((function(t){r+=t.valuesRange[e].max,i+=t.valuesRange[e].min})),{min:i,max:r}}return{min:t.valuesRange[e].min,max:t.valuesRange[e].max}},_f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS,e=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(Hu.isEmpty(e.axis.y.dataRange)&&(e.axis.y.dataRange={}),Cl(e.axis)&&Hu.isEmpty(e.axis.y2.dataRange)&&(e.axis.y2.dataRange={}),!Hu.isEmpty(t)&&!Hu.isEmpty(t.valuesRange)){var r=Ef(t,i,n),a=e.axis[n].dataRange.oldMin,o=e.axis[n].dataRange.oldMax,s=!(a&&o&&(a<=r.min||o>=r.max));e.axis[n].dataRange.isRangeModified=s,s&&(e.axis[n].dataRange.oldMin=e.axis[n].dataRange.min,e.axis[n].dataRange.oldMax=e.axis[n].dataRange.max,e.axis[n].dataRange.min=r.min,e.axis[n].dataRange.max=r.max)}},Af=function(t,n){return(Hu.isDate(t)||Hu.isDateInstance(t))&&Vu(n)===wu.TIME_SERIES||!Hu.isDate(t)&&!Hu.isDateInstance(t)&&Vu(n)!==wu.TIME_SERIES},wf=function(t){return Math.round(100*(t+1e-5))/100},kf=function(t,n){return t[0]*n[0]+t[1]*n[1]},If=function(t){var n=Math.sqrt(kf(t,t));return n&&(t[0]/=n,t[1]/=n),n},Sf=function(t){return function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"transform",t);var e,i,r,a=n.transform.baseVal.consolidate(),o=a?a.matrix:{a:1,b:0,c:0,d:1,e:0,f:0},s=[o.a,o.b],c=[o.c,o.d],u=If(s),l=kf(s,c),f=If(((e=c)[0]+=(r=-l)*(i=s)[0],e[1]+=r*i[1],e))||0;return s[0]*c[1]<c[0]*s[1]&&(s[0]*=-1,s[1]*=-1,u*=-1),{translate:[o.e,o.f],scale:[u,f]}}(function(t){return Ie(t).attr("transform")}(t)).scale.map((function(t){return wf(t)}))},Df=function(t,n,e,i){if(!Hu.isEmpty(n.dateline)){var r=e.selectAll(".".concat(Qu.datelineGroup)).transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr("transform","translate(".concat(Xl(n),",").concat(i(n),")"));r.selectAll(".".concat(Qu.datelinePoint)).select("g").attr("transform",(function(n){return"translate(".concat(t.x(Hu.parseDateTime(n.value)),", 0) scale(").concat(Sf(this),")")})),r.selectAll(".".concat(Qu.dateline)).attr("x1",(function(n){return t.x(Hu.parseDateTime(n.value))})).attr("y1",0).attr("x2",(function(n){return t.x(Hu.parseDateTime(n.value))})).attr("y2",Kl(n))}},Lf=function(t,n){Hu.isEmpty(t.onClick)||function(t){var n=Ie(t.parentNode);return n.attr("aria-selected",!("true"===n.attr("aria-selected"))),n}(n).call((function(e){return t.onClick((function(){e.attr("aria-selected",!1)}),t,Ie(n))}))},Cf=function(){var t=[];return rc(".".concat(Qu.datelinePoint)).each((function(){var n=this.getBBox().height;t.push(n)})),Math.max.apply(Math,t)},Nf=function(t,n,e){var i;if(i=n.settingsDictionary.shouldCreateDatelineDefs?e.append("g").classed(Qu.datelineContent,!0).attr("clip-path","url(#".concat(n.datelineClipPathId,")")):e.append("g").classed(Qu.datelineContent,!0),n.dateline.forEach((function(t){var e=i.append("g").classed(Qu.datelineGroup,!0).datum(t).attr("style",(function(t){return"fill: ".concat(t.color,"; stroke: ").concat(t.color,";")})).attr("aria-selected",!1),r=!!Hu.isDefined(n.clickPassThrough)&&n.clickPassThrough.datelines;e.append("line").classed(Qu.dateline,!0).attr("style",(function(t){return"fill: ".concat(t.color,"; stroke: ").concat(t.color)})).attr("pointer-events",r?"none":"auto"),e.append((function(n){return new ul(Zf(n)).getShapeElement(sl({svgClassNames:Qu.datelinePoint,svgStyles:"fill: ".concat(n.color,"; stroke: ").concat(n.color),transformFn:function(t){return"scale(".concat(t,")")},onClickFn:function(){Lf(n,this)},a11yAttributes:{"aria-hidden":!t.showDatelineIndicator,"aria-disabled":!Hu.isFunction(t.onClick)}}))}))})),Df(t,n,e,Jl),n.settingsDictionary.shouldCreateDatelineDefs&&n.dateline.length>0){var r=Math.floor(Cf()/2);e.select("clipPath#".concat(n.datelineClipPathId)).selectAll("rect").attr("height",Kl(n)+r).attr(Su.Y_AXIS,Jl(n)-r)}},Rf=function(t,n,e){e.select(".".concat(Qu.datelineContent)).empty()||(e.select(".".concat(Qu.datelineContent)).remove(),Nf(t,n,e))},Pf=function(t){if(Hu.isEmpty(t))throw new Error(ht);if(Hu.isEmpty(t.value))throw new Error(dt);if(!Hu.isDate(t.value))throw new Error(gt);if(Hu.isEmpty(t.color))throw new Error(pt);if(t.showDatelineIndicator&&Hu.isEmpty(t.shape))throw new Error(yt)},Of=function(t,n,e,i){if(!Hu.isEmpty(n.eventline)){var r=e.selectAll(".".concat(Qu.eventlineGroup)).transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr("transform","translate(".concat(Xl(n),",").concat(i(n),")"));r.selectAll(".".concat(Qu.eventlinePoint)).select("g").attr("transform",(function(n){return"translate(".concat(t.x(Hu.parseDateTime(n.value)),", 0) scale(").concat(Sf(this),")")})),r.selectAll(".".concat(Qu.eventline)).attr("x1",(function(n){return t.x(Hu.parseDateTime(n.value))})).attr("y1",0).attr("x2",(function(n){return t.x(Hu.parseDateTime(n.value))})).attr("y2",Kl(n))}},Mf=function(t,n,e){var i=e.append("g").classed(Qu.eventlineContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")"));n.eventline.forEach((function(t){var e=i.append("g").classed(Qu.eventlineGroup,!0).datum(t).attr("style",(function(t){return"fill: ".concat(t.color,"; stroke: ").concat(t.color,";")})).attr("aria-selected",!1),r=!!Hu.isDefined(n.clickPassThrough)&&n.clickPassThrough.eventlines;e.append("line").classed(Qu.eventline,!0).attr("style",(function(t){return"fill: ".concat(t.color,"; stroke: ").concat(t.color,"; stroke-dasharray: ").concat(void 0!==t.style&&void 0!==t.style.strokeDashArray?t.style.strokeDashArray:"2,2")})).attr("pointer-events",r?"none":"auto").attr("aria-hidden",!1)})),Of(t,n,e,Jl)},Gf=function(t){if(Hu.isEmpty(t))throw new Error(vt);if(Hu.isEmpty(t.value))throw new Error(mt);if(!Hu.isDate(t.value))throw new Error(xt);if(Hu.isEmpty(t.color))throw new Error(bt)},Uf=Su.BASE_CANVAS_WIDTH_PADDING,Ff=Su.DEFAULT_HEIGHT,Hf=function(t,n){return n.attr("height",t.canvasHeight+function(t){return Hu.isDefined(t.axisInfoRowLabelHeight)?t.axisInfoRowLabelHeight:0}(t)).attr("width",t.padding.hasCustomPadding?t.canvasWidth:t.canvasWidth-Uf)},Bf=function(t,n){var e;if(Hu.notEmpty(n.axis.y.ticks.values)){var i=n.axis.y.ticks.values;e=t.y.tickValues(Pl(i)).tickSize(-1*Ml(n),0,0).tickFormat("")}else e=t.y.tickSize(-1*Ml(n),0,0).tickFormat("");return e},Yf=function(t,n){var e,i=Nl(n.axis.x.orientation)?Su.TICK_ORIENTATION.TOP:Su.TICK_ORIENTATION.BOTTOM;if(Hu.notEmpty(n.axis.x.ticks.values)){var r=n.axis.x.ticks.values;e=t.x.tickValues(Pl(r)).tickSize(Kl(n)*i,0,0).tickFormat("")}else e=t.x.tickSize(Kl(n)*i,0,0).tickFormat("");return e},Vf=function(t,n,e,i){t.select(".".concat(e)).transition().call(Su.d3Transition(i.settingsDictionary.transition)).call(Yf(n,i))},Xf=function(t){return{xAxisLimit:Ml(t)/7.33,yAndY2AxisLimit:t.height/8}},zf=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=t.lowerLimit,i=t.upperLimit,r=Math.abs(i-e),a=.05*r;return{lowerLimit:e-(n?a:0),upperLimit:i+(n?a:0)}},Kf=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.outlierStretchFactor=bf(t);var e=function(n,e,i,r){var a=(i-e)/2,o=(i+e)/2;return zf({lowerLimit:o-a*n.lowerLimit,upperLimit:o+a*n.upperLimit},t.axisPadding[r])};if(Hu.notEmpty(n)){var i=n.config.yAxis||Su.Y_AXIS;t.axis[i].domain=e(t.outlierStretchFactor,t.axis[i].domain.lowerLimit,t.axis[i].domain.upperLimit,i)}return t},jf=function(t,n,e,i){t.append("g").classed(e,!0).call(Yf(n,i))},Wf=function(t,n,e,i,r){return t.selectAll(".".concat(n," text")).each((function(){var t=this;ah(e.label,i)&&Ie(this).style("cursor","pointer").on("click",(function(){Hu.isDefined(e.onLabelClick)&&Hu.isFunction(e.onLabelClick)?e.onLabelClick(e.label,Ie(t)):sh(e.label,r)}))}))},qf=function(t,n){t.x=ju(n.axis.x.type).domain(n.axis.x.domain).range(cf(n)).clamp(n.settingsDictionary.shouldClamp),t.y=Ya().domain([n.axis.y.domain.lowerLimit,n.axis.y.domain.upperLimit]).range(uf(n)).clamp(n.allowCalibration),n.axis.x.rangeRounding&&t.x.nice(),n.allowCalibration&&n.axis.y.rangeRounding&&t.y.nice(),Cl(n.axis)&&(t.y2=Ya().domain([n.axis.y2.domain.lowerLimit,n.axis.y2.domain.upperLimit]).range(uf(n)).clamp(n.allowCalibration),n.allowCalibration&&n.axis.y2.rangeRounding&&t.y2.nice())},Jf=function(t){var n,e,i,r;Hf(t.config,t.svg),function(t,n){if(n.select("clipPath#".concat(t.clipPathId)).selectAll("rect").attr("height",t.height).attr("width",Ml(t)).attr(Su.Y_AXIS,t.axis.x.orientation&&zl(t)),t.settingsDictionary.shouldCreateDatelineDefs&&t.dateline.length>0){var e=Math.floor(Cf()/2);n.select("clipPath#".concat(t.datelineClipPathId)).selectAll("rect").attr("height",t.height+e).attr("width",Ml(t)).attr(Su.Y_AXIS,t.axis.x.orientation&&zl(t)-e)}}(t.config,t.svg),Tf(t.axis,t.scale,t.config,t.svg),n=t.axis,e=t.scale,i=t.config,r=t.svg,Yl(n,e,i),r.select(".".concat(Qu.grid)).attr("transform","translate(".concat(Xl(i),",").concat(zl(i),")")),i.showHGrid&&r.select(".".concat(Qu.gridH)).transition().call(Su.d3Transition(i.settingsDictionary.transition)).call(Bf(n,i)),i.showVGrid&&Il(r,n,i,Vf),function(t,n){n.select(".".concat(Qu.contentContainer)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("width",Ml(t)).attr("height",t.height).attr(Su.Y_AXIS,t.axis.x.orientation&&zl(t))}(t.config,t.svg),function(t,n){var e=Xf(t);t.axis.x.label&&(n.select(".".concat(Qu.axisLabelX)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("transform","translate(".concat(nf(t),",").concat(ef(t),") rotate(").concat(tf(Su.X_AXIS),")")),n.selectAll(".".concat(Qu.axisLabelX," text")).each((function(){Ie(this).text(lf(t.axis.x.label,e.xAxisLimit))}))),t.axis.y.label&&(n.select(".".concat(Qu.axisLabelY)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("transform","translate(".concat(rf(t),", ").concat(af(t),") rotate(").concat(tf(Su.Y_AXIS),")")),n.selectAll(".".concat(Qu.axisLabelY," text")).each((function(){Ie(this).text(lf(t.axis.y.label,e.yAndY2AxisLimit))}))),Cl(t.axis)&&(n.select(".".concat(Qu.axisLabelY2)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("transform","translate(".concat(of(t),", ").concat(af(t),") rotate(").concat(tf(Su.Y2_AXIS),")")),n.selectAll(".".concat(Qu.axisLabelY2," text")).each((function(){Ie(this).text(lf(t.axis.y2.label,e.yAndY2AxisLimit))})))}(t.config,t.svg),yh(t.config,t.axesLabelShapeGroup),function(t,n,e,i){var r=function(t,i){return t.transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("aria-hidden",!1).attr("d",Ll(n,i)(Dl(n)))};Sl(n,Su.Y_AXIS)&&r(i.select("path.".concat(Qu.axis,".").concat(Qu.axisY,".").concat(Qu.axisReferenceLine)),Su.Y_AXIS),Cl(e.axis)&&Sl(n,Su.Y2_AXIS)&&r(i.select("path.".concat(Qu.axis,".").concat(Qu.axisY2,".").concat(Qu.axisReferenceLine)),Su.Y2_AXIS)}(t.axis,t.scale,t.config,t.svg),Df(t.scale,t.config,t.svg,Jl),Of(t.scale,t.config,t.svg,Jl),function(t,n){n.select(".".concat(Qu.noDataOverlay)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("height",Kl(t)/Su.NO_DATA_VIEW_PROPORTION).attr("width",Ml(t)),n.select(".".concat(Qu.noDataLabel)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("x",nf(t)).attr("y",af(t)+Su.NO_DATA_LABEL_PADDING)}(t.config,t.svg)},Zf=function(t){return t.shape||_u.CIRCLE},$f=function(t){return t.color||Su.DEFAULT_COLOR},Qf=function(t){var n,e=0,i=t.resize.bind(t),r=function(){return window.requestAnimationFrame(i)},a=(n=t.config,function(){clearTimeout(e),e=Gi(r,n.throttle)});window.addEventListener("resize",a,!0),t.resizeHandler=a},th=function(t){window.removeEventListener("resize",t.resizeHandler,!0)},nh=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(e?t.selectAll(n).remove():t.select(n).remove())},eh=function(t,n){var e=n.config,i=e.yAxis?e.yAxis:Su.Y_AXIS;Hu.notEmpty(e.axisPadding)&&(t[i]=e.axisPadding)},ih=function(t){nh(t,".".concat(Qu.noDataContainer))},rh=function(t,n){ih(n);var e=Kl(t)/Su.NO_DATA_VIEW_PROPORTION,i=n.append("g").classed(Qu.noDataContainer,!0);return i.append("rect").classed(Qu.noDataOverlay,!0).attr(Su.X_AXIS,Xl(t)).attr(Su.Y_AXIS,zl(t)+e).attr("height",e).attr("width",Ml(t)),i.append("text").classed(Qu.noDataLabel,!0).attr("x",nf(t)).attr("y",af(t)+Su.NO_DATA_LABEL_PADDING).append("tspan").text(t.locale.noData),n},ah=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.DEFAULT_LABEL_CHARACTER_LIMIT;return t.length>n},oh=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.DEFAULT_LABEL_CHARACTER_LIMIT;return t.substring(0,n).concat("...")},sh=function(t,n){return Ie("#".concat(Qu.labelPopupOverlay)).remove(),Ie("#".concat(Qu.labelPopupTooltip)).attr("style","").selectAll("g").remove(),function(t){var n=document.querySelector("#".concat(Qu.labelPopupTooltip));return Ie("body").append("div","#".concat(Qu.labelPopupTooltip)).attr("id",Qu.labelPopupOverlay).classed(Qu.labelPopupOverlay,!0).on("click",(function t(){Ie(n).attr("style","display:none;").selectAll("g").remove(),Ie("#".concat(Qu.labelPopupOverlay)).remove(),n.removeEventListener("click",t),window.removeEventListener("resize",t)})),"y2"===t?Ie("#".concat(Qu.labelPopupTooltip)).style("left","".concat(ge.pageX-250,"px")).style("top","".concat(ge.pageY+5,"px")):Ie("#".concat(Qu.labelPopupTooltip)).style("left","".concat(ge.pageX+5,"px")).style("top","".concat(ge.pageY+5,"px"))}(n).append("g").append("g").classed("popup-item",!0).append("g").classed("popup-text",!0).text(t)},ch=function(t){return t.selectAll("svg").size()},uh=function(t,n){return n.transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("transform","translate(".concat(function(t){return rf(t)+Su.BASE_LABEL_ICON_HEIGHT_PADDING}(t),", ").concat(function(t,n){return af(t)+n*Su.BASE_LABEL_ICON_HEIGHT_PADDING/1.5}(t,ch(n)),") rotate(").concat(tf(Su.Y_AXIS),")"))},lh=function(t,n){return n.transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("transform","translate(".concat(function(t){return of(t)-Su.BASE_LABEL_ICON_HEIGHT_PADDING}(t),", ").concat(function(t,n){return af(t)-n*Su.BASE_LABEL_ICON_HEIGHT_PADDING/1.5}(t,ch(n)),") rotate(").concat(tf(Su.Y2_AXIS),")"))},fh=function(t,n){var e=n.append("g").classed(Qu.axisLabelYShapeContainer,!0);return uh(t,e),e},hh=function(t,n){var e=n.append("g").classed(Qu.axisLabelY2ShapeContainer,!0);return lh(t,e),e},dh=function(t,n){return t.selectAll("svg").transition().call(Su.d3Transition(n.settingsDictionary.transition)).each((function(t,n){Ie(this).attr("x",(function(){return Su.BASE_LABEL_ICON_SPACING*n}))}))},gh=function(t,n,e){n.label&&n.label.display&&e&&(!function(t,n){if(n.values.length>0)n.showShapes||void 0===n.showShapes?t.append((function(){return new ul(n.shape||_u.CIRCLE).getShapeElement(sl({svgStyles:"fill: ".concat($f(n),";"),transformFn:function(t){return"scale(".concat(t,")")},a11yAttributes:{"aria-describedby":n.key}}))})):t.append((function(){return new ul("0"===n.style.strokeDashArray?vu:mu).getShapeElement(sl({svgStyles:"fill: ".concat($f(n),'; stroke-dasharray: "').concat(n.style.strokeDashArray,'"'),transformFn:function(t){return"scale(".concat(t,")")},a11yAttributes:{"aria-describedby":n.key}}))}))}(e,n),dh(e,t))},ph=function(t,n,e){Hu.notEmpty(t)&&(nh(t,'svg[aria-describedby="'.concat(n.key,'"]')),dh(t,e))},yh=function(t,n){Cl(t.axis)&&Hu.notEmpty(n)&&(uh(t,n[Su.Y_AXIS]),lh(t,n[Su.Y2_AXIS]))},vh=function(){Ie("body").append("div").attr("id",Qu.labelPopupTooltip).style("display","none").classed(Qu.labelPopupTooltip,!0)},mh=function(){if(document.querySelector(".".concat(Qu.labelPopupTooltip))){var t=document.querySelector(".".concat(Qu.labelPopupTooltip));t.parentNode&&t.parentNode.removeChild(t)}},xh=function(t){if(!t)throw new Error(Lt);if(Hu.isDefined(t.format)&&!Hu.isFunction(t.format))throw new Error(Ct)},bh=function(t){return Hu.sanitize(t)},Th=function(t){return t.legendOptions&&!1===t.legendOptions.showElement&&Hu.isEmptyArray(t.values)?"none":""},Eh=function(t,n){return t.append((function(){return new ul(Zf(n)).getShapeElement(sl({svgClassNames:Qu.legendItemIcon,svgStyles:"fill: ".concat($f(n),";")}),!0)}))},_h=function(t,n){n.legendOptions?((n.showShapes||void 0===n.showShapes)&&n.legendOptions.showShape&&Eh(t,n),n.legendOptions.showLine&&function(t,n){var e=n.legendOptions,i=t.append("svg").classed(e.showShape?Qu.legendItemLineWithIcon:Qu.legendItemLine,!0);i.append("line").attr("x2",Su.DEFAULT_LEGEND_LINE_WIDTH).classed(Qu.legendItemWhiteLine,!0),i.append("line").attr("x1",1).attr("x2",e.showShape?Su.DEFAULT_LEGEND_LINE_WIDTH_WITH_SYMBOL-1:Su.DEFAULT_LEGEND_LINE_WIDTH-1).attr("y1",Su.LEGEND_LINE_POSITION).attr("y2",Su.LEGEND_LINE_POSITION).attr("style","stroke: ".concat($f(n),";\n            stroke-dasharray: ").concat(e.style.strokeDashArray,";\n            stroke-width: 1px;"))}(t,n)):Eh(t,n)},Ah=function(t,n,e,i){if(!Hu.isFunction(i.clickHandler))throw new Error("Invalid Argument: eventHandlers needs a clickHandler callback function.");if(!Hu.isFunction(i.hoverHandler))throw new Error("Invalid Argument: eventHandlers needs a hoverHandler callback function.");xh(n.label);var r=bh(n.label.display),a=e.shownTargets.indexOf(n.key),o=!!n.label.isDisabled||Hu.isEmptyArray(n.values),s=t.append("li").classed(Qu.legendItem,!0).attr("aria-current",o||a>-1).attr("aria-disabled",o).style("display",Th(n)).attr("role","listitem").attr("aria-labelledby",r).attr("aria-describedby",n.key).style("margin",e.legendPadding.hasCustomLegendPadding&&0).style("padding","".concat(e.legendPadding.top,"px ").concat(e.legendPadding.right,"px ").concat(e.legendPadding.bottom,"px ").concat(e.legendPadding.left,"px"));!o&&a>-1&&s.on("click",(function(){return i.clickHandler(this,n)})).on("mouseenter",(function(){return i.hoverHandler(n,Su.HOVER_EVENT.MOUSE_ENTER)})).on("mouseleave",(function(){return i.hoverHandler(n,Su.HOVER_EVENT.MOUSE_EXIT)}));var c=s.append("button").classed(Qu.legendItemBtn,!0).attr("title",r).attr("tabindex",o?-1:0).append("span").attr("class",Qu.legendItemSpan);return _h(c,n),s.append("label").classed(Qu.legendItemText,!0).attr("tabindex",-1).text(r),t},wh=function(t,n){return nh(t,'li[aria-describedby="'.concat(n.key,'"]'))},kh=function(t,n){return n.append("ul").classed(Qu.legend,!0).attr("role","list").style("flex-direction",t.bindLegendTo&&"column")},Ih=function(t){return"true"!==t.attr("aria-current")},Sh=function(t){var n=Ie(t);return n.attr("aria-current",Ih(n))},Dh=function(t,n,e,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];t.filter((function(t){return t!==e})).forEach((function(a){n.selectAll('svg[aria-describedby="'.concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll('path[aria-describedby="'.concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll(".".concat(Qu.pairedLine)).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll('rect[aria-describedby="'.concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll(".".concat(Qu.barGoalLine,'[aria-describedby="region_').concat(a,'"]')).attr("aria-hidden",i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll('[aria-describedby="text_label_'.concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER),Hu.notEmpty(r)&&r.forEach((function(r){return r(t,n,e,i,a)}))}))},Lh=function(t,n,e,i){var r=e.hoverHandler;xh(n.label);var a,o,s,c=(a=n.label.display,o=n.value,(s=n.label.format)?s(a,o):"".concat(bh(a),": ").concat(o)),u=t.append("li").classed(Qu.pieLegendItem,!0).attr("role","listitem").attr("tabindex",0).attr("aria-labelledby",c).attr("aria-describedby",n.key).style("margin",i.legendPadding.hasCustomLegendPadding&&0).style("padding","".concat(i.legendPadding.top,"px ").concat(i.legendPadding.right,"px ").concat(i.legendPadding.bottom,"px ").concat(i.legendPadding.left,"px"));u.append((function(){return new ul(Zf(n)).getShapeElement(sl({svgClassNames:Qu.pieLegendItemIcon,svgStyles:"fill: ".concat($f(n),";")}),!0)})),u.append("label").classed(Qu.legendItemText,!0).text(c),u.on("mouseenter",(function(){return r(n,Su.HOVER_EVENT.MOUSE_ENTER)})).on("mouseleave",(function(){return r(n,Su.HOVER_EVENT.MOUSE_EXIT)}))},Ch=function(t,n){var e=Yu(n.legendOptions,{showShape:!0,showLine:!1===n.showShapes,showElement:!0});return e.showShape=!1!==n.showShapes&&Yu(e.showShape,!0),e.showLine=Yu(e.showLine,!1),e.showElement=Yu(e.showElement,!0),e.style=Yu(e.style,{}),e.style.strokeDashArray?e.style={strokeDashArray:Zu(e.style)}:!1===n.showShapes?e.style.strokeDashArray=n.style.strokeDashArray:e.style={strokeDashArray:Zu(e.style)},e},Nh=function(t,n){return Hu.isDefined(t.legendPadding)?{top:Yu(n.top,Su.LEGEND_PADDING.top),bottom:Yu(n.bottom,Su.LEGEND_PADDING.bottom),right:Yu(n.right,Su.LEGEND_PADDING.right),left:Yu(n.left,Su.LEGEND_PADDING.left),hasCustomLegendPadding:!0}:{top:Su.LEGEND_PADDING.top,bottom:Su.LEGEND_PADDING.bottom,right:Su.LEGEND_PADDING.right,left:Su.LEGEND_PADDING.left,hasCustomLegendPadding:!1}},Rh=function(t,n,e,i){var r=e.config.shownTargets.indexOf(n.key),a=!!n.label.isDisabled||Hu.isEmptyArray(n.values),o=t.select('li[aria-describedby="'.concat(n.key,'"]')).attr("aria-current",a||r>-1).attr("aria-disabled",a).style("display",Th(n));return a?o.on("click",(function(){return null})).on("mouseenter",(function(){return null})).on("mouseleave",(function(){return null})):o.on("click",(function(){return i.clickHandler(this,n)})).on("mouseenter",(function(){return i.hoverHandler(n,Su.HOVER_EVENT.MOUSE_ENTER)})).on("mouseleave",(function(){return i.hoverHandler(n,Su.HOVER_EVENT.MOUSE_EXIT)})),t},Ph=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Bu(this.input),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),Oh=Ph,Mh=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,e=n.color||Su.DEFAULT_BAR_COLOR,i="fill: ".concat(e,"; stroke: ").concat(e,";");return Hu.isEmpty(t)||(!0===t.isDotted&&(i="".concat(i,"; stroke-width: 1; stroke-dasharray: 2, 2;")),!0===t.isHollow&&(i="".concat(i," fill: ").concat(xu.WHITE,"; stroke-width: 1;")),!0===t.isHashed&&(i="".concat(i," stroke-width: 1;"))),i},Gh=function(t,n,e,i,r){return t.append("rect").attr("x",n).attr("y",e).attr("width",i).attr("height",r)},Uh=function(t,n,e,i,r,a){return Gh(t,n,e,i,r).classed(Qu.taskBar,!0).attr("style",a),t},Fh=function(t,n,e,i,r,a){return Uh(t,n,e,Su.DEFAULT_GANTT_TASK_CHUNK_WIDTH,r,a),t},Hh=function(t,n,e,i,r,a,o,s){return(Hu.isEmpty(n)||n.empty())&&t.append("defs"),t.select("#".concat("pattern-stripe")).empty()&&n.append("pattern").attr("id","pattern-stripe").attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").attr("width",Su.DEFAULT_GANTT_TASK_STRIPE_WIDTH).attr("height",o).attr("style","fill: ".concat(Su.DEFAULT_BAR_STRIPE_COLOR,";")).append("rect").attr("width",Su.DEFAULT_GANTT_TASK_STRIPE_DISTANCE).attr("height",o),Gh(e,i,r,a,o).classed(Qu.taskBar,!0).attr("style",s||"fill: ".concat(Su.DEFAULT_TASK_BAR_HASH_COLOR,";")),Gh(e,i,r,a,o).classed(Qu.taskBar,!0).attr("style","fill: url(#".concat("pattern-stripe",");")),e},Bh=function(t,n){if(Hu.isEmpty(t))throw new Error(K);if(Hu.isEmpty(t.start)&&Hu.isEmpty(t.end))throw new Error(q);if(Hu.notEmpty(t.axis)&&(t.axis!==Su.Y_AXIS&&t.axis!==Su.Y2_AXIS||t.axis!==n))throw new Error(j);if(Hu.isEmpty(t.axis)&&Su.Y_AXIS!==n)throw new Error(j);if(t.start&&!Hu.isNumber(t.start)||t.end&&!Hu.isNumber(t.end))throw new Error(W);if(Number(t.start)>Number(t.end))throw new Error(J)},Yh=function(t,n){return nh(t,'[aria-describedby="region_'.concat(n.key,'"]'),!0)},Vh=function(t){return t.axis||Su.Y_AXIS},Xh=function(t,n){return function(e){return e.end?wf(t[Vh(e)](e.end))+zl(n):zl(n)}},zh=function(t,n,e,i){var r=i.height,a=Hu.getNumber(t.attr(Su.Y_AXIS));return(n.start?wf(e[Vh(n)](n.start))+zl(i):r+zl(i))-a||Su.DEFAULT_REGION_LINE_STROKE_WIDTH},Kh=function(t,n,e,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Su.Y_AXIS;i.forEach((function(i){Bh(i,a),e.append("rect").datum(i).classed(Qu.region,!0).attr("aria-hidden",!1).attr("aria-describedby",r).attr("style",i.color?"fill: ".concat(i.color,";"):"").attr(Su.X_AXIS,Xl(n)).attr(Su.Y_AXIS,Xh(t,n)(i)).attr("width",Ml(n)).attr("height",(function(){return zh(Ie(this),i,t,n)}))}))},jh=function(t,n,e){return function(){var t=Ic,n=null,e=ac(0),i=Sc,r=ac(!0),a=null,o=kc,s=null;function c(c){var u,l,f,h,d,g=c.length,p=!1,y=new Array(g),v=new Array(g);for(null==a&&(s=o(d=Br())),u=0;u<=g;++u){if(!(u<g&&r(h=c[u],u,c))===p)if(p=!p)l=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=l;--f)s.point(y[f],v[f]);s.lineEnd(),s.areaEnd()}p&&(y[u]=+t(h,u,c),v[u]=+e(h,u,c),s.point(n?+n(h,u,c):y[u],i?+i(h,u,c):v[u]))}if(d)return s=null,d+""||null}function u(){return Dc().defined(r).curve(o).context(a)}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:ac(+e),n=null,c):t},c.x0=function(n){return arguments.length?(t="function"==typeof n?n:ac(+n),c):t},c.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:ac(+t),c):n},c.y=function(t){return arguments.length?(e="function"==typeof t?t:ac(+t),i=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:ac(+t),c):e},c.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:ac(+t),c):i},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(i)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(t){return arguments.length?(r="function"==typeof t?t:ac(!!t),c):r},c.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),c):o},c.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),c):a},c}().curve(e).x((function(n){return t.x(n.x)})).y0((function(e){return t[n](e.start)})).y1((function(e){return t[n](e.end)}))},Wh=function(t,n,e,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Su.Y_AXIS,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ku.LINEAR;return i.forEach((function(i){return e.append("g").attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")).append("path").attr("aria-describedby",r).attr("aria-hidden",!1).classed(Qu.region,!0).classed(Qu.valueRegion,1===i.values.length).datum(i.values).attr("style","fill: ".concat(i.color,"; \n                stroke: ").concat(i.color,";")).attr("d",jh(t,a,o))}))},qh=function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Su.Y_AXIS,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ku.LINEAR;return r?e.selectAll(".".concat(Qu.region)).transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr("d",jh(t,i,a)):e.selectAll(".".concat(Qu.region)).attr(Su.X_AXIS,Xl(n)).attr(Su.Y_AXIS,Xh(t,n)).transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr("width",Ml(n)).attr("height",(function(e){return zh(Ie(this),e,t,n)}))},Jh=function(t){var n=t.selectAll(".".concat(Qu.region)).data(),e=n[0];return!n.some((function(t){return!(!Hu.isArray(e)&&!Hu.isArray(t))||(e.start!==t.start||e.end!==t.end||e.axis!==t.axis)}))},Zh=function(t){return t.selectAll(".".concat(Qu.region)).attr("aria-hidden",!0)},$h=function(t,n){var e=0;return n.forEach((function(n){e+=t.includes(n.dataTarget.key)&&!Hu.isEmptyArray(n.dataTarget.values)?1:0})),1===e},Qh=function(t,n,e){var i=t.content,r=n.shownTargets,a=n.shouldHideAllRegion;$h(r,i)?function(t,n){n.forEach((function(n){return t.selectAll(".".concat(Qu.region,'[aria-describedby="region_').concat(n,'"]')).attr("aria-hidden",(function(){return!("true"===Ie(this).attr("aria-hidden"))}))}))}(e,r):function(t,n){t.shownTargets.length>1&&!t.shouldHideAllRegion&&Jh(n)?n.selectAll(".".concat(Qu.region)).attr("aria-hidden",!1):Zh(n)}({shownTargets:r,shouldHideAllRegion:a},e)},td=function(t,n,e,i){var r=i===Su.HOVER_EVENT.MOUSE_ENTER&&t.indexOf(e)>-1;n.selectAll(".".concat(Qu.region,'[aria-describedby="region_').concat(e,'"]')).classed(Qu.regionHighlight,r)},nd=function(t,n,e){var i=n.x0.bandwidth()*Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.LEFT_SHIFT_OFFSET_RATIO,r=n.x1(e.group),a=n.x1.bandwidth()*Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.REGION_LEFT_SHIFT_OFFSET_PADDING_RATIO;return t.x(e.x)+r-i+a},ed=function(t,n,e,i){if(Bh(t,n),Hu.isEmpty(t.x)&&!Hu.isDateInstance(t.x))throw new Error(_t);if(!Af(t.x,i))throw new Error(wt);if(!e.filter((function(n){return Hu.isEqual(n,t.x)})).length)throw new Error(At)},id=function(t){return t.axis||Su.Y_AXIS},rd=function(t){return function(n){return n.end?wf(t[id(n)](n.end)):0}},ad=function(t,n,e,i){var r=n.end?wf(e[id(n)](n.end)):0;return(n.start?wf(e[id(n)](n.start))+Su.DEFAULT_GOAL_LINE_STROKE_WIDTH:i.height+Su.DEFAULT_GOAL_LINE_STROKE_WIDTH)-r||Su.DEFAULT_GOAL_LINE_STROKE_WIDTH},od=Su.DEFAULT_BAR_SELECTION_PADDING,sd=function(t,n,e){n.selectAll(".".concat(Qu.taskBarSelection)).each((function(n){var i=t.filter((function(t){return e.axis.x.type===wu.TIME_SERIES?t.x.toISOString()===n.x:t.x===n.x}));Hu.notEmpty(i)&&n.valueSubsetArray.push(i[0])}))},cd=function(t,n,e,i){return e.selectAll(".".concat(Qu.taskBarSelection)).each((function(r,a){var o=function(t,n,e,i){var r=gd(t,n),a=i.filter((function(t){return e.indexOf(t.key)>-1})),o=function(t){var n=0;if(Hu.notEmpty(t)){var e=Math.max(0,t[0].y+t[0].y0);t.forEach((function(t,i){var r=Math.max(0,t.y+t.y0);e<=r&&(n=i,e=r)}))}return n}(a),s=function(t){var n=0;if(Hu.notEmpty(t)){var e=Math.min(0,t[0].y+t[0].y0);t.forEach((function(t,i){var r=Math.min(0,t.y+t.y0);e>=r&&(n=i,e=r)}))}return n}(a),c=function(t){var n=0;if(Hu.notEmpty(t)){var e=0;t.forEach((function(t,i){var a=Math.max(e,r.x(t));a>e&&(n=i,e=a)}))}return n}(a),u=Hu.notEmpty(a)?r.x(a[0]):0,l=Hu.notEmpty(a)?r.y(a[o]):0,f=Hu.notEmpty(a)?r.x(a[c])+r.width():0,h=Hu.notEmpty(a)?r.y(a[s])+r.height(a[s]):0;return{x:function(){return Hu.notEmpty(a)?u-od:0},y:function(){return Hu.notEmpty(a)?l-od:0},height:function(){return Hu.notEmpty(a)?h-l+2*od:0},width:function(){return Hu.notEmpty(a)?f-u+2*od:0}}}(t,n,i.shownTargets,r.valueSubsetArray);e.select("rect[aria-describedby=bar-selector-".concat(a,"]")).transition().call(Su.d3Transition(i.settingsDictionary.transition)).attr("x",o.x()).attr("y",o.y()).attr("height",o.height()).attr("width",o.width())}))},ud=function(t,n){return n.some((function(n){return t.indexOf(n.x)<0}))},ld=function(t,n){if(Hu.isEmpty(t.axis.x.ticks)||Hu.isEmpty(t.axis.x.ticks.values))throw new Error(Et);if(e=t.axis.x.type,n.values.some((function(t){return!Af(t.x,e)})))throw new Error(O);var e;if(ud(t.axis.x.ticks.values,n.values))throw new Error(Tt);if(Hu.isDefined(n.axisInfoRow)){if(Hu.isEmpty(n.axisInfoRow))throw new Error(kt);if(ud(t.axis.x.ticks.values,n.axisInfoRow))throw new Error(It);if(n.axisInfoRow.some((function(t){return Hu.isUndefined(t.value)})))throw new Error(St);if(function(t){return t.some((function(t){return Hu.isUndefined(t.value.label)||Hu.isUndefined(t.value.label.display)}))}(n.axisInfoRow))throw new Error(Dt)}return t.shownTargets.push(n.key),function(t,n){var e=t.axis.x.type;return Hu.notEmpty(n.axisInfoRow)&&(n.axisInfoRow.forEach((function(t){t.group=n.group})),t.axisInfoRowLabelHeight||(t.axisInfoRowLabelHeight=function(t){return t.axisInfoRow.some((function(t){return t.value.label.secondaryDisplay}))}(n)?2*df("dummyString"):df("dummyString"),t.padding.bottom+=t.axisInfoRowLabelHeight)),n.internalValuesSubset=n.values.map((function(t){var i,r=!!n.style&&n.style.isHashed;return{onClick:n.onClick,x:(i=t.x,Vu(e)===wu.TIME_SERIES?Hu.parseDateTime(i):Hu.getNumber(i)),y:t.y,y0:0,color:n.color||xu.BLUE,label:n.label,yAxis:n.yAxis||Su.Y_AXIS,key:n.key,isHashed:t.style?t.style.isHashed:r,style:Mh(t.style?t.style:n.style,n),group:n.group}})),n.shape=_u.SQUARE,n.color=n.color||xu.BLUE,n}(t,n)},fd=function(t){return t.axisSizes.y+t.axisLabelWidths.y},hd=function(t,n){t.attr("aria-hidden",!n),t.attr("aria-selected",n)},dd=function(t,n,e,i,r,a){Hu.isEmpty(t.onClick)||function(t,n,e,i){var r=n.select("rect[aria-describedby=bar-selector-".concat(e===wu.TIME_SERIES?i.indexOf(new Date(t.x).toISOString()):i.indexOf(t.x),"]")),a="true"===r.attr("aria-hidden");return hd(r,a),r}(t,e,i,r).call((function(e){return t.onClick((function(){hd(e,!1)}),t.key,n,a,e)}))},gd=function(t,n){var e=n.x0.bandwidth()*Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.LEFT_SHIFT_OFFSET_RATIO,i=n.x1.bandwidth()*Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.LEFT_SHIFT_OFFSET_PADDING_RATIO;return{x:function(r){var a=n.x1(r.group);return function(n,r){return t.x(n)+i+r-e}(r.x,a||0)||0},y:function(n){return n.y<0?t[n.yAxis](n.y0):t[n.yAxis](n.y+n.y0)},height:function(n){return Math.abs(t[n.yAxis](0)-t[n.yAxis](+n.y))},width:function(){return n.x1.bandwidth()*Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.WIDTH_RATIO}}},pd=function(t,n,e,i,r,a,o){var s=gd(t,n);return r.append("g").classed(Qu.bar,!0).each((function(r,c){var u=Ie(this);if((r.isHashed?Hh(i,i.append("defs"),u,s.x(r),s.y(r),s.width(),s.height(r),r.style).selectAll("rect"):Gh(u,s.x(r),s.y(r),s.width(),s.height(r)).attr("style","".concat(r.style))).attr("aria-describedby",r.key).classed(Qu.taskBar,!0).attr("aria-hidden",e.shownTargets.indexOf(r.key)<0).attr("aria-disabled",!Hu.isFunction(r.onClick)).on("click",(function(t){dd(t,c,i,e.axis.x.type,e.axis.x.ticks.values,function(t,n,e){return t.select("rect[aria-describedby=bar-selector-".concat(e.axis.x.type===wu.TIME_SERIES?e.axis.x.ticks.values.indexOf(new Date(n.x).toISOString()):e.axis.x.ticks.values.indexOf(n.x),"]")).datum().valueSubsetArray.filter((function(t){return e.shownTargets.indexOf(t.key)>-1}))}(i,t,e))})),Hu.notEmpty(a)){var l=a.filter((function(t){return Hu.isEqual(t.x,r.x)}));Hu.notEmpty(l)&&function(t,n,e,i,r){var a=e.selectAll("g").data(i);a.enter().append("rect").classed(Qu.region,!0).classed(Qu.barGoalLine,!0).attr("aria-hidden",n.shownTargets.indexOf(r)<0).attr("aria-describedby","region_".concat(r)).attr("style",(function(t){return"fill: ".concat(t.color||Su.DEFAULT_BAR_REGION_COLOR,";")})).attr(Su.X_AXIS,(function(t){return t.xRange||0})).attr(Su.Y_AXIS,rd(t)).attr("width",(function(t){return t.width||0})).attr("height",(function(e){return ad(Ie(this),e,t,n)})),a.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()}(t,e,u,l,r.key)}if(Hu.notEmpty(o)){var f=o.filter((function(t){return Hu.isEqual(t.x,r.x)}));Hu.notEmpty(f)&&_d(n,t,e,i,f[0],r.key,o.indexOf(f[0]))}}))},yd=function(t,n,e,i,r){i.select(".".concat(Qu.barSelectionGroup)).empty()&&function(t,n,e,i){var r=e.axis.x.ticks.values.map((function(t){return{x:t,valueSubsetArray:[]}})),a=i.append("g").classed(Qu.barSelectionGroup,!0).attr("transform","translate(".concat(fd(e),",").concat(zl(e),")")).selectAll("".concat(Qu.taskBarSelection)).data(r);a.enter().append("rect").attr("aria-hidden",!0).classed(Qu.taskBarSelection,!0).attr("aria-describedby",(function(t){return"bar-selector-".concat(r.indexOf(t))})).attr("rx",3).attr("ry",3),a.exit().transition().call(Su.d3Transition(e.settingsDictionary.transition)).remove()}(0,0,e,i);var a=i.append("g").classed(Qu.barGraphContent,!0).attr("clip-path","url(#".concat(e.clipPathId,")")).attr("aria-hidden",e.shownTargets.indexOf(r.key)<0).attr("aria-describedby",r.key).append("g").classed(Qu.currentBarsGroup,!0).attr("transform","translate(".concat(fd(e),",").concat(zl(e),")")).data([r]).selectAll(".".concat(Qu.bar)).data(r.internalValuesSubset);pd(t,n,e,i,a.enter(),r.regions,r.axisInfoRow)},vd=function(t,n){return nh(t,'g[aria-describedby="'.concat(n,'"]'))},md=function(t,n,e){return Hu.isDefined(e)&&e<n.length?t.x(n[e])+t.width()/2:t.x(n)+t.width()/2},xd=function(t){return Nl(t.axis.x.orientation)?Su.TEXT_LABEL_VERTICAL_POSITION.bottom:Su.TEXT_LABEL_VERTICAL_POSITION.top},bd=function(t,n){t.attr("aria-selected",n)},Td=function(t,n,e,i,r){Hu.isEmpty(t.onClick)||function(t,n,e,i,r){var a=n.selectAll("g[aria-describedby=text_label_".concat(i,"]")),o=Ie(a.nodes()[r]),s="true"===o.attr("aria-selected");return bd(o,!s),o}(0,e,0,r,n).call((function(e){return t.onClick((function(){bd(e,!1)}),t,n,r,e)}))},Ed=function(t,n){return ah(t,n)?oh(t,n):t},_d=function(t,n,e,i,r,a,o){var s=r;e.axis.x.type===wu.TIME_SERIES&&(s.x=Hu.parseDateTime(s));var c=gd(n,t),u=i.select(".".concat(Qu.axisInfoRow)).attr("aria-hidden",!1).datum(r.value).append("g").classed(Qu.axisInfoRowItem,!0).attr("text-anchor","middle").attr("transform","translate(".concat(md(c,r),", ").concat(xd(e),")")).attr("aria-describedby","text_label_".concat(a)).attr("aria-hidden",e.shownTargets.indexOf(a)<0);(ah(r.value.label.display,r.value.characterCount)||r.value.label.secondaryDisplay&&ah(r.value.label.secondaryDisplay,r.value.characterCount))&&u.attr("aria-disabled",!Hu.isFunction(r.value.onClick)).on("click",(function(t){Td(t,o,i,e.axis.x.type,a)})),Hu.notEmpty(r.value.shape)&&(u.append("g").classed(Qu.axisInfoRowIcon,!0).attr("transform","translate(".concat(-hf(Ed(r.value.label.display,r.value.characterCount))/2-Su.TEXT_LABEL_ICON_WIDTH_PADDING,",\n                ").concat(-Su.TEXT_LABEL_ICON_HEIGHT_PADDING,")")),function(t,n,e,i){t.select(".".concat(Qu.axisInfoRowIcon)).append((function(){return new ul(Zf(e.value)).getShapeElement(sl({svgClassNames:Qu.point,svgStyles:"fill: ".concat($f(e.value.shape)),transformFn:function(t){return"scale(".concat(t,")")},a11yAttributes:{"aria-hidden":n.shownTargets.indexOf(i)<0,"aria-describedby":i}}))}))}(u,e,r,a)),function(t,n,e){t.append("text").classed(Qu.axisInfoRowDisplay,!0).text(Ed(e.value.label.display,e.value.characterCount)).attr("style","fill: ".concat(e.value.color,";")),e.value.label.secondaryDisplay&&t.append("text").classed(Qu.axisInfoRowSecondaryDisplay,!0).text(Ed(e.value.label.secondaryDisplay,e.value.characterCount)).attr("dy",Nl(n.axis.x.orientation)?n.axisLabelHeights.x:-n.axisLabelHeights.x)}(u,e,r)},Ad=function(t,n){return nh(t,'g[aria-describedby="text_label_'.concat(n,'"]'),!0)},wd=function(t){return function(){t.resize()}},kd=function(t,n,e,i){return function(n,r){var a,o,s;0===e.shownTargets.length&&t.contentKeys.forEach((function(t){i.selectAll(".".concat(Qu.taskBar,'[aria-describedby="').concat(t,'"]')).attr("aria-hidden",Ih(Ie(n)))})),Sh(n),a=e.shownTargets,o=r,(s=a.indexOf(o.key))>-1?a.splice(s,1):a.push(o.key),e.shownTargets.length>=1?(i.selectAll('g[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",Ih(Ie(n))),i.selectAll(".".concat(Qu.taskBar,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",Ih(Ie(n))),i.selectAll(".".concat(Qu.region,'[aria-describedby="region_').concat(r.key,'"]')).attr("aria-hidden",(function(){return!("true"===Ie(this).attr("aria-hidden"))})),hd(i.selectAll(".".concat(Qu.taskBarSelection)),!1),window.requestAnimationFrame(wd(t))):(i.selectAll(".".concat(Qu.region,'[aria-describedby="region_').concat(r.key,'"]')).attr("aria-hidden",(function(){return!("true"===Ie(this).attr("aria-hidden"))})),i.selectAll('g[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",Ih(Ie(n))),hd(i.selectAll(".".concat(Qu.taskBarSelection)),!1),window.requestAnimationFrame(wd(t)))}},Id=function(t,n){return function(e,i){Dh(t,n,e.key,i,[])}},Sd=function(t,n){var e=[];return Hu.notEmpty(t)&&t.forEach((function(t){var i;t instanceof Pd&&n.indexOf(t.config.key)>-1&&(i=t.config.group,e.indexOf(i)<0&&e.push(i))})),e},Dd=function(t,n,e){Hu.notEmpty(n.axis.x.ticks)&&Hu.notEmpty(n.axis.x.ticks.values)&&(t.x0=Sa().domain(n.axis.x.ticks.values).range(cf(n)).paddingInner(function(t,n){return Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.OUTER_PADDING_RATIO/(3*Sd(t,n).length+Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.OUTER_PADDING_RATIO)}(e,n.shownTargets)),t.x1=Sa())},Ld=function(t,n,e,i,r){var a=r.shownTargets,o=n.filter((function(t){return t.key===e.config.key||t.group===e.config.group&&-1!==a.indexOf(t.key)}));!function(t,n){t.forEach((function(t){var e=0,i=0;n.forEach((function(n){var r=n.values.filter((function(n){return Hu.isEqual(n.x,t.x)}));r.length>0&&(r[0].y>0?e+=r[0].y:i+=r[0].y)})),t.y0=t.y<0?i:e}))}(e.dataTarget.internalValuesSubset,o.splice(o.indexOf(e.config)+1)),function(t,n,e,i){Hu.isEmpty(n)||Hu.isEmpty(t)||Hu.isEmpty(i.axis.x.ticks)||Hu.isEmpty(i.axis.x.ticks.values)||e.x1.domain(t).range([0,e.x0.bandwidth()])}(Sd(t,r.shownTargets),t,i,r)},Cd=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS,e=Math.min.apply(Math,h()(t.map((function(t){return t.y})))),i=Math.max.apply(Math,h()(t.map((function(t){return t.y}))));return r()({},n,{min:e<0?e:0,max:i>0?i:0})},Nd=function(t){return t.config={},t.bandScale={x0:{},x1:{}},t.dataTarget={},t.valuesRange={},t},Rd=function(t){function n(n){var e,i;return e=t.call(this)||this,Nd(c()(e)),e.config=(i=n,(new Oh).setInput(i).validateInput().clone().getConfig()),e.type="Bar",e.config.yAxis=Yu(e.config.yAxis,Su.Y_AXIS),e.config.axisPadding=!1,e.valuesRange=Cd(e.config.values,e.config.yAxis),e}l()(n,t);var e=n.prototype;return e.load=function(t){var n,e;return n=this.config,e=t.content,Hu.isEmpty(n.group)?n.group=n.key:e.filter((function(t){return t.config.key===n.group})).length||(n.group=n.key),Dd(this.bandScale,t.config,t.content),this.dataTarget=ld(t.config,this.config),yd(t.scale,this.bandScale,t.config,t.svg,this.dataTarget),sd(this.dataTarget.internalValuesSubset,t.svg,t.config),function(t,n,e,i){e.label&&e.label.display&&i&&Ah(i,e,t,n)}(t.config,{clickHandler:kd(t,0,t.config,t.svg),hoverHandler:Id(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),gh(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this},e.unload=function(t){var n,e;return vd(t.svg,this.dataTarget.key),wh(t.legendSVG,this.dataTarget),ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),Ad(t.svg.select(".".concat(Qu.axisInfoRow)),this.dataTarget.key),n=t.svg,e=this.dataTarget.key,n.selectAll(".".concat(Qu.taskBarSelection)).each((function(t){var n=t.valueSubsetArray.findIndex((function(t){return t.key===e}));n>-1&&t.valueSubsetArray.splice(n,1)})),Nd(this),this},e.resize=function(t){var n,e,i,r,a,o;return Dd(this.bandScale,t.config,t.content),Ld(t.content,t.contentConfig,this,this.bandScale,t.config),n=t.scale,e=this.bandScale,i=t.svg,r=this.dataTarget,a=t.config,o=gd(n,e),cd(n,e,i,a),i.selectAll("rect[aria-describedby=".concat(r.key,"]")).transition().call(Su.d3Transition(a.settingsDictionary.transition)).attr("x",(function(t){return o.x(t)})).attr("y",(function(t){return o.y(t)})).attr("width",o.width()).attr("height",(function(t){return o.height(t)})),Hu.notEmpty(this.dataTarget.axisInfoRow)&&function(t,n,e,i,r,a){var o=gd(n,t);i.select(".".concat(Qu.axisInfoRow)).selectAll('g[aria-describedby="text_label_'.concat(a.key,'"]')).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform",(function(t,n){return"translate(".concat(md(o,r,n),", ").concat(xd(e),")")}))}(this.bandScale,t.scale,t.config,t.svg,this.dataTarget.axisInfoRow,this.dataTarget),Hu.notEmpty(this.dataTarget.regions)&&(function(t,n,e,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Su.Y_AXIS,a=n.x1.bandwidth()*Su.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES.REGION_WIDTH_RATIO;i.regions.forEach((function(o){ed(o,r,e.axis.x.ticks.values,e.axis.x.type),o.x=qu(o.x,e.axis.x.type),o.group=i.group,o.xRange=nd(t,n,o),o.width=a}))}(t.scale,this.bandScale,t.config,this.dataTarget,this.config.yAxis),function(t,n,e){e.transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr(Su.X_AXIS,(function(t){return t.xRange||0})).attr(Su.Y_AXIS,rd(t)).attr("width",(function(t){return t.width||0})).attr("height",(function(e){return ad(Ie(this),e,t,n)}))}(t.scale,t.config,t.svg.selectAll("rect[aria-describedby=region_".concat(this.dataTarget.key,"]")))),this},e.reflow=function(t,n){var e={clickHandler:kd(t,0,t.config,t.svg),hoverHandler:Id(t.config.shownTargets,t.svg)};this.config.values=n.values,this.dataTarget=ld(t.config,this.config);var i=t.config.shownTargets.lastIndexOf(n.key);i>-1&&t.config.shownTargets.splice(i,1),Rh(t.legendSVG,t.content.filter((function(t){return t.config.key===n.key}))[0].config,t,e);var r=t.config.axis.x.ticks.values.map((function(t){return{x:t,valueSubsetArray:[]}}));Hu.isEmpty(n.values)&&ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),Dd(this.bandScale,t.config,t.content);var a=t.svg.select(".".concat(Qu.barSelectionGroup)).selectAll(".".concat(Qu.taskBarSelection)).data(r);a.enter().append("rect").attr("aria-hidden",!0).classed(Qu.taskBarSelection,!0).attr("aria-describedby",(function(t){return"bar-selector-".concat(r.indexOf(t))})).attr("rx",3).attr("ry",3),a.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove(),sd(this.dataTarget.internalValuesSubset,t.svg,t.config);var o=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select('[class="'.concat(Qu.currentBarsGroup,'"]')).data([this.dataTarget]);o.selectAll(".".concat(Qu.bar)).data(this.dataTarget.internalValuesSubset).exit().remove();var s=o.selectAll(".".concat(Qu.bar," > rect")).data(this.dataTarget.internalValuesSubset);pd(t.scale,this.bandScale,t.config,t.svg,s.enter(),this.dataTarget.regions,this.dataTarget.axisInfoRow),this.resize(t),this.valuesRange=Cd(this.config.values,this.config.yAxis),this.resize(t)},e.redraw=function(t){return vd(t.svg,this.dataTarget.key),Ad(t.svg.select(".".concat(Qu.axisInfoRow)),this.dataTarget.key),yd(t.scale,this.bandScale,t.config,t.svg,this.dataTarget),this},n}($u),Pd=Rd,Od=function(){function t(){}var n=t.prototype;return n.generate=function(t){throw new Error(d)},n.loadContent=function(t){throw new Error(g)},n.unloadContent=function(t){throw new Error(p)},n.resize=function(){throw new Error(y)},n.destroy=function(){throw new Error(v)},t}(),Md=function(t,n){Hu.isArray(t)?t.forEach((function(t){return n(t)})):n(t)},Gd=function(t){var n=t.node(),e=window.getComputedStyle(n),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)+i},Ud=e(16),Fd=e.n(Ud),Hd=function(t,n){var e=Hu.deepClone(t.axis);return n.clipPathId=Xu(),n.datelineClipPathId=zu(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.padding=function(t,n){return Hu.isDefined(t.padding)?{top:Yu(n.top,Su.PADDING.top),bottom:Yu(n.bottom,Su.PADDING.bottom),right:Yu(n.right,Su.PADDING.right),left:Yu(n.left,Su.PADDING.trackLabel),hasCustomPadding:!0}:{top:Su.PADDING.top,bottom:Su.PADDING.bottom,right:Su.PADDING.right,left:Su.PADDING.trackLabel,hasCustomPadding:!1}}(n,t.padding),n.legendPadding=Nh(n,t.legendPadding),n.axis={x:{},y:{}},n.d3Locale=Yu(t.locale,dl),n.throttle=Yu(t.throttle,Su.RESIZE_THROTTLE),n.dateline=Yu(Hu.deepClone(t.dateline),[]),n.eventline=Yu(Hu.deepClone(t.eventline),[]),n.actionLegend=Yu(Hu.deepClone(t.actionLegend),[]),n.settingsDictionary=function(t){return Ju(t)?{shouldClamp:!1,transition:Su.D3_TRANSITION_PROPERTIES_DISABLED,shouldCreateDatelineDefs:!0}:{shouldClamp:!0,transition:Su.D3_TRANSITION_PROPERTIES_ENABLED,shouldCreateDatelineDefs:!1}}(t),n.showActionLegend=Yu(t.showActionLegend,!1),n.axis.x=Fd()(e.x,{type:wu.TIME_SERIES,show:Yu(e.x.show,!0),ticks:Yu(e.x.ticks,{}),domain:Wu(wu.TIME_SERIES,e.x.lowerLimit,e.x.upperLimit),rangeRounding:Yu(e.x.rangeRounding,!0)}),n.axis.y={show:!e.y||Yu(e.y.show,!0),trackCount:0,trackList:{},rangeRounding:!!e.y&&Yu(e.y.rangeRounding,!0)},n.shownTargets=[],n},Bd=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Hu.isEmpty(this.input))throw new Error(_);if(Hu.isEmpty(this.input.bindTo))throw new Error(E);if(Hu.isEmpty(this.input.axis)||Hu.isEmpty(this.input.axis.x))throw new Error(L);if(Hu.isEmpty(this.input.axis.x.lowerLimit)||Hu.isEmpty(this.input.axis.x.upperLimit))throw new Error(C);if(!Hu.isDate(this.input.axis.x.lowerLimit)||!Hu.isDate(this.input.axis.x.upperLimit))throw new Error(P);return Hu.notEmpty(this.input.dateline)&&this.input.dateline.forEach((function(t){Pf(t)})),Hu.notEmpty(this.input.eventline)&&this.input.eventline.forEach((function(t){Gf(t)})),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),Yd=Bd,Vd=function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(Z);if(Hu.isEmpty(t.startDate)&&Hu.isEmpty(t.endDate))throw new Error($);if((Hu.isEmpty(t.startDate)||Hu.isEmpty(t.endDate))&&Hu.isEmpty(t.duration))throw new Error(Q);if(t.startDate&&!Hu.isDate(t.startDate)||t.endDate&&!Hu.isDate(t.endDate))throw new Error(tt);if(Hu.getTime(t.startDate)>Hu.getTime(t.endDate))throw new Error(nt)},Xd=function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(rt);if(Hu.isEmpty(t.startDate)&&Hu.isEmpty(t.endDate))throw new Error(at);if((Hu.isEmpty(t.startDate)||Hu.isEmpty(t.endDate))&&Hu.isEmpty(t.duration))throw new Error(ot);if(t.startDate&&!Hu.isDate(t.startDate)||t.endDate&&!Hu.isDate(t.endDate))throw new Error(st);if(Hu.getTime(t.startDate)>Hu.getTime(t.endDate))throw new Error(ct)},zd=function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(I);if(Hu.isEmpty(t.values))throw new Error(w)},Kd=function(t,n){var e=n.posX,i=n.posY,r=n.scale,a=Hu.deepClone(t);return a.options.x=t.options.x*e,a.options.y=t.options.y*i,a.options.scale*=r,a},jd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mh(t.style,{color:t.color})},Wd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color||xu.BLUE,e="fill: ".concat(n,"; fill-opacity: ").concat(Su.DEFAULT_GANTT_ACTIVITY_OPACITY,"; stroke-width: 1px; stroke: ").concat(n);return Hu.isEmpty(t.style)||!0===t.style.isHashed&&(e="fill: ".concat(t.color||Su.DEFAULT_ACTIVITY_BAR_HASH_COLOR,"; fill-opacity: ").concat(Su.DEFAULT_GANTT_ACTIVITY_OPACITY,";")),e},qd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;return Hu.isEmpty(n)?Hu.parseDateTime(Hu.getTime(e)-t):Hu.parseDateTime(n)},Jd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;return Hu.isEmpty(e)?Hu.parseDateTime(Hu.getTime(n)+t):Hu.parseDateTime(e)},Zd=function(t,n){return Hu.getTime(n)-Hu.getTime(t)==0},$d=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e*(n-t)/100},Qd=function(t,n,e){var i=e.duration?function(t){if(t&&!Hu.isFunction(t))throw new Error(ut);var n=t();if("number"!=typeof n)throw new Error(lt);return n}(e.duration):0;return{y:n.display,startDate:qd(i,e.startDate,e.endDate),endDate:Jd(i,e.startDate,e.endDate),dependencies:e.dependencies,color:e.color||xu.BLUE,label:e.label||null,key:e.key,style:Wd(e),isHashed:Jg(e.style),clickPassThrough:!!Hu.isDefined(t.clickPassThrough)&&t.clickPassThrough.activities}},tg=function(t,n,e){return{path:Ie(e),x:t.x(n.startDate),y:t.y(n.y)+Su.DEFAULT_GANTT_ACTIVITY_PADDING.top,width:t.x(n.endDate)-t.x(n.startDate)||Su.DEFAULT_GANTT_TASK_CHUNK_WIDTH,height:Su.DEFAULT_GANTT_ACTIVITY_HEIGHT}},ng=function(t,n,e,i,r,a){return Gh(t,n,e,i,r).classed(Qu.activityBar,!0).attr("style",a),t},eg=function(t,n,e,i,r,a){return ng(t,n,e,Su.DEFAULT_GANTT_TASK_CHUNK_WIDTH,r,a),t},ig=function(t,n,e){var i=tg(t,n,e);(Zd(n.startDate,n.endDate)?eg:ng)(i.path,i.x,i.y,i.width,i.height,n.style).attr("pointer-events",(function(){return n.clickPassThrough?"none":"auto"}))},rg=function(t,n,e,i){var r=tg(n,e,i);(function(t,n,e,i,r,a,o,s){var c="pattern-stripe-gantt-activity";return(Hu.isEmpty(n)||n.empty())&&t.append("defs"),t.select("#".concat(c)).empty()&&n.append("pattern").attr("id",c).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(135)").attr("width",Su.DEFAULT_GANTT_ACTIVITY_STRIPE_WIDTH).attr("height",o).attr("style","fill: ".concat(Su.DEFAULT_BAR_STRIPE_COLOR,";")).append("rect").attr("width",Su.DEFAULT_GANTT_ACTIVITY_STRIPE_DISTANCE).attr("height",o),Gh(e,i,r,a,o).classed(Qu.activityBar,!0).attr("style",s),Gh(e,i,r,a,o).classed(Qu.activityBar,!0).attr("style","fill: url(#".concat(c,"); fill-opacity: 0.7;")),e})(t,t.select("defs"),r.path,r.x,r.y,r.width,r.height,e.style).attr("pointer-events",(function(){return e.clickPassThrough?"none":"auto"}))},ag=function(t,n,e,i,r,a){var o=r.selectAll("g").data(a.map((function(t){return Qd(e,i,Hu.deepClone(t))})));o.enter().append("g").classed(Qu.activity,!0).attr("aria-selected",!1).attr("aria-describedby",(function(t){return t.key})).each((function(e){e.isHashed?rg(t,n,e,this):ig(n,e,this)})),o.exit().transition().call(Su.d3Transition(e.settingsDictionary.transition)).remove()},og=function(t,n,e,i){return{path:e,x:Su.DEFAULT_GANTT_TRACK_SELECTION.x,y:n.y(i.trackLabel.display)+Su.DEFAULT_GANTT_TRACK_SELECTION.y,width:Yg(t)-Su.DEFAULT_GANTT_TRACK_SELECTION.width,height:t.axis.y.trackList[i.key].trackHeight-Su.DEFAULT_GANTT_TRACK_SELECTION.height}},sg=function(t,n){Gh(t.path,t.x,t.y,t.width,t.height).attr("aria-selected",!1).classed(Qu.ganttTrackBarSelection,!0).attr("aria-describedby",n.key).attr("aria-disabled",!Hu.isFunction(n.onClick)).on("click",(function(){return function(t,n){var e,i,r;Hu.isEmpty(n.onClick)||(e=t,i=n.key,r=e.select("[aria-describedby='".concat(i,"']")),r.attr("aria-selected",!("true"===r.attr("aria-selected"))),r).call((function(t){return n.onClick((function(){var n="true"===t.attr("aria-selected");t.attr("aria-selected",!n)}),n.key,n,t)}))}(t.path,n)}))},cg=".".concat(Qu.axisYTrackLabel," .tick text"),ug=function(t,n,e){var i=function(t,n){return t.y.domain().indexOf(n)}(t,e);if(!t||function(t,n,e,i){return i<0||Hu.isEmpty(n.axis.y.trackList)||t.y.domain().length>Object.keys(n.axis.y.trackList).length}(t,n,0,i))return 0;var r;return(r=n.axis.y.trackList,Object.keys(r).map((function(t){return r[t].trackHeight})))[i]/2},lg=function(t,n){return t?t.x(n):0},fg=function(t,n,e,i){Xg(t,n,e),kl(n,t,e,Vl,Iu.X.TOP),i.select(".".concat(Qu.axisX)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(Xl(e),",").concat(Bg(e),")")).call(t.x),i.select(".".concat(Qu.axisY)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(ql(e),", ").concat(Vg(e),")")).call(t.y)},hg=function(t,n){var e;if(Hu.notEmpty(n.axis.x.ticks.values)){var i=n.axis.x.ticks.values;e=t.x.tickValues(Pl(i)).tickSize(-1*Kl(n),0,0).tickFormat("")}else e=t.x.tickSize(-1*Kl(n),0,0).tickFormat("");return e},dg=function(t,n){return t.y.tickSize(-1*Yg(n),0,0).tickFormat("")},gg=function(t,n,e,i){t.select(".".concat(e)).transition().call(Su.d3Transition(i.settingsDictionary.transition)).call(hg(n,i))},pg=function(t,n,e){return e.selectAll(cg).attr("transform",function(t,n){return function(e){return"translate(".concat(lg(),", ").concat(ug(t,n,e),")")}}(t,n))},yg=function(t,n){return function(e){return function(i){return"translate(".concat(lg(t,e.x),",").concat(function(t,n,e){return(t?t.y(e):0)+ug(t,n,e)}(t,n,e.y),") scale(").concat(i,")")}}},vg=function(t,n,e,i){return e.selectAll(i).each((function(e){Ie(this).select("g").transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr("transform",(function(){return yg(t,n)(e)(Sf(this))}))}))},mg=function(t){var n,e,i,r;Hf(t.config,t.svg),function(t,n){if(n.select("clipPath#".concat(t.clipPathId)).selectAll("rect").attr("height",Kl(t)).attr("width",Yg(t)),t.settingsDictionary.shouldCreateDatelineDefs&&t.dateline.length>0){var e=Math.floor(Cf()/2);n.select("clipPath#".concat(t.datelineClipPathId)).selectAll("rect").attr("height",t.height+e).attr("width",Yg(t)).attr(Su.Y_AXIS,Vg(t)-e)}}(t.config,t.svg),fg(t.axis,t.scale,t.config,t.svg),n=t.axis,e=t.scale,i=t.config,r=t.svg,Xg(n,e,i),r.select(".".concat(Qu.grid)).attr("transform","translate(".concat(Xl(i),",").concat(Bg(i),")")),r.select(".".concat(Qu.gridH)).transition().call(Su.d3Transition(i.settingsDictionary.transition)).call(dg(n,i)),Il(r,n,i,gg),function(t,n){n.select(".".concat(Qu.contentContainer)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("width",Yg(t)).attr("height",Kl(t))}(t.config,t.svg),Df(t.scale,t.config,t.svg,Vg),Of(t.scale,t.config,t.svg,Vg)},xg=function(t,n,e){return e.selectAll("g.".concat(Qu.task)).selectAll("rect").each((function(){var e=Ie(this);e.classed(Qu.taskBarSelection)?function(t,n,e){var i=Math.floor(Su.DEFAULT_GANTT_TASK_SELECTION_PADDING/2),r=Math.floor(Su.DEFAULT_GANTT_TASK_SELECTION_PADDING/4);n.transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("x",(function(n){return t.x(n.startDate)-r})).attr("y",(function(n){return t.y(n.y)+Su.DEFAULT_GANTT_TASK_PADDING.top-r})).attr("width",(function(n){return(t.x(n.endDate)-t.x(n.startDate)||Su.DEFAULT_GANTT_TASK_CHUNK_WIDTH)+i})).attr("height",Su.DEFAULT_GANTT_TASK_HEIGHT+i)}(t,e,n):function(t,n,e){n.transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("x",(function(n){return t.x(n.startDate)})).attr("y",(function(n){return t.y(n.y)+Su.DEFAULT_GANTT_TASK_PADDING.top})).attr("width",(function(n){return n.percentage?Ie(this).classed(Qu.taskBarCompletion)?$d(t.x(n.startDate),t.x(n.endDate),n.percentage):t.x(n.endDate)-t.x(n.startDate):t.x(n.endDate)-t.x(n.startDate)||Su.DEFAULT_GANTT_TASK_CHUNK_WIDTH}))}(t,e,n)}))},bg=function(t,n,e){return e.selectAll("g.".concat(Qu.activity)).selectAll("rect.".concat(Qu.activityBar)).each((function(){!function(t,n,e){n.transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("x",(function(n){return t.x(n.startDate)})).attr("y",(function(n){return t.y(n.y)+Su.DEFAULT_GANTT_ACTIVITY_PADDING.top})).attr("width",(function(n){return t.x(n.endDate)-t.x(n.startDate)||Su.DEFAULT_GANTT_ACTIVITY_CHUNK_WIDTH}))}(t,Ie(this),n)}))},Tg=function(t,n,e){e.append("g").classed(Qu.pointGroup,!0).each((function(e,i){var r=Ie(this);Hu.isFunction(e.onClick)&&tp(t,n,r,e,i),function(t,n,e,i,r){e.append((function(){return new ul(Zf(i)).getShapeElement(sl({svgClassNames:Qu.point,svgStyles:"fill: ".concat($f(i),";"),transformFn:yg(t,n)(i),onClickFn:function(){Qg(i,r,this)},a11yAttributes:{"aria-hidden":!1,"aria-describedby":i.key,"aria-disabled":!Hu.isFunction(i.onClick)},additionalAttributes:{"pointer-events":i.clickPassThrough&&!Hu.isFunction(i.onClick)}}))}))}(t,n,r,e,i)}))},Eg=function(t,n,e){var i=function(t){if(!Hu.isDate(t))throw new Error(O);return Hu.parseDateTime(t)};return e.values.map((function(r){return{key:e.key,onClick:e.onClick,x:i(r),y:n.display,label:e.label,color:e.color||"",shape:e.shape||_u.CIRCLE,clickPassThrough:!!Hu.isDefined(t.clickPassThrough)&&t.clickPassThrough.events}}))},_g=function(t){return zd(t),Hu.deepClone(t)},Ag=function(t,n,e){Hu.isEmpty(t.onClick)||function(t){var n=Ie(t),e=n.select(".".concat(Qu.taskBarSelection));return n.attr("aria-selected",!("true"===n.attr("aria-selected"))),e.attr("aria-hidden",!("true"===e.attr("aria-hidden"))),n}(e).call((function(e){return t.onClick((function(){var t=e.select(".".concat(Qu.taskBarSelection));t.attr("aria-hidden",!("true"===t.attr("aria-hidden"))),e.attr("aria-selected",!1)}),t.key,n,t,e)}))},wg=function(t,n,e){var i=e.duration?function(t){if(t&&!Hu.isFunction(t))throw new Error(et);var n=t();if("number"!=typeof n)throw new Error(it);return n}(e.duration):0;return{onClick:e.onClick,y:n.display,startDate:qd(i,e.startDate,e.endDate),endDate:Jd(i,e.startDate,e.endDate),percentage:e.percentage,dependencies:e.dependencies,color:e.color||xu.BLUE,label:e.label||null,key:e.key,style:jd(e),isHashed:Jg(e.style),clickPassThrough:!!Hu.isDefined(t.clickPassThrough)&&t.clickPassThrough.tasks}},kg=function(t,n,e){return{path:Ie(e),x:t.x(n.startDate),y:t.y(n.y)+Su.DEFAULT_GANTT_TASK_PADDING.top,width:t.x(n.endDate)-t.x(n.startDate)||Su.DEFAULT_GANTT_TASK_CHUNK_WIDTH,height:Su.DEFAULT_GANTT_TASK_HEIGHT}},Ig=function(t,n,e,i){var r,a,o,s,c,u,l,f=kg(t,n,i);(r=f.path,a=f.x,o=f.y,s=f.width,c=f.height,u=$d(t.x(n.startDate),t.x(n.endDate),n.percentage),l=n.color,Gh(r,a,o,s,c).classed(Qu.taskBar,!0).attr("style","fill: ".concat(xu.WHITE,"; stroke: ").concat(l,"; stroke-width: 1;")),Gh(r,a,o,u,c).classed(Qu.taskBarCompletion,!0).attr("style","fill: ".concat(l,";")),r).attr("aria-disabled",!Hu.isFunction(n.onClick)).attr("pointer-events",(function(){return n.clickPassThrough&&!Hu.isFunction(n.onClick)?"none":"auto"})).on("click",(function(){return Ag(n,e,i)}))},Sg=function(t,n,e,i){var r=kg(t,n,i);(Zd(n.startDate,n.endDate)?Fh:Uh)(r.path,r.x,r.y,r.width,r.height,n.style).attr("aria-disabled",!Hu.isFunction(n.onClick)).attr("pointer-events",(function(){return n.clickPassThrough&&!Hu.isFunction(n.onClick)?"none":"auto"})).on("click",(function(){return Ag(n,e,i)}))},Dg=function(t,n,e,i,r,a){var o=r.selectAll("g").data(a.map((function(t){return wg(e,i,Hu.deepClone(t))})));o.enter().append("g").classed(Qu.task,!0).attr("aria-selected",!1).attr("aria-describedby",(function(t){return t.key})).each((function(e,i){var r,a=kg(n,e,this);Gh((r=a).path,r.x,r.y,r.width,r.height).classed(Qu.taskBarSelection,!0).attr("rx",3).attr("ry",3).attr("aria-hidden",!0),e.percentage?Ig(n,e,i,this):e.isHashed?function(t,n,e,i,r){var a=kg(n,e,r);Hh(t,t.select("defs"),a.path,a.x,a.y,a.width,a.height,e.style).attr("aria-disabled",!Hu.isFunction(e.onClick)).attr("pointer-events",(function(){return e.clickPassThrough&&!Hu.isFunction(e.onClick)?"none":"auto"})).on("click",(function(){return Ag(e,i,r)}))}(t,n,e,i,this):Sg(n,e,i,this)})),o.exit().transition().call(Su.d3Transition(e.settingsDictionary.transition)).remove()},Lg=function(t,n){return t.selectAll(".".concat(Qu.axisYTrackLabel," .tick text")).each((function(t){var e,i,r=this;t&&(e=this,i=n.display,Ie(e).datum()===i)&&ah(n.display)&&Ie(this).style("cursor","pointer").on("click",(function(){Hu.isDefined(n.onClick)&&Hu.isFunction(n.onClick)?n.onClick(n.display,Ie(r)):sh(n.display,"y")}))}))},Cg=function(t){function n(n){var e,i;return(e=t.call(this)||this).config=(i=n,Hu.deepClone(i)),e.config.actionKeys=[],e.config.eventKeys=[],e.config.activityKeys=[],e.config.taskKeys=[],e.trackGroupPath=null,e}l()(n,t);var e=n.prototype;return e.load=function(t){if(n=t.tracks,e=this.config.key,!(n.indexOf(e)<0))throw new Error(I);var n,e,i,r,a,o;return this.trackGroupPath=Wg(t.config,t.svg,this.config),Mg(t.config,this.config,!0),i=t,r=this.trackGroupPath,a=this.config,o=r.append("g").classed(Qu.ganttTrackSelectorGroup,!0).attr("transform","translate(".concat(Xl(i.config),",").concat(Bg(i.config),")")),sg(og(i.config,i.scale,o,a),a),Hu.notEmpty(this.config.activities)&&function(t,n,e,i){var r=n.append("g").classed(Qu.activityGroup,!0).attr("transform","translate(".concat(Xl(t.config),",").concat(Bg(t.config),")"));i.activities.forEach((function(t,n){Xd(t),i.activityKeys.splice(n,0,t.key)})),ag(t.svg,t.scale,t.config,e,r,i.activities)}(t,this.trackGroupPath,this.config.trackLabel,this.config),Hu.notEmpty(this.config.tasks)&&function(t,n,e,i){var r=n.append("g").classed(Qu.taskGroup,!0).attr("transform","translate(".concat(Xl(t.config),",").concat(Bg(t.config),")"));i.tasks.forEach((function(t,n){Vd(t),i.taskKeys.splice(n,0,t.key)})),Dg(t.svg,t.scale,t.config,e,r,i.tasks)}(t,this.trackGroupPath,this.config.trackLabel,this.config),Hu.notEmpty(this.config.events)&&function(t,n,e,i){i.events.forEach((function(r,a){$g(t.scale,t.config,n,Eg(t.config,e,_g(r)),Tg,!0),i.eventKeys.splice(a,0,r.key)}))}(t,this.trackGroupPath,this.config.trackLabel,this.config),Hu.notEmpty(this.config.actions)&&cp(t,this.trackGroupPath,this.config.trackLabel,this.config),this},e.unload=function(t){return Mg(t.config,this.config),this.trackGroupPath.select("g.".concat(Qu.ganttTrackSelectorGroup)).remove(),Hu.notEmpty(this.config.activities)&&this.trackGroupPath.select("g.".concat(Qu.activityGroup)).remove(),Hu.notEmpty(this.config.tasks)&&function(t,n){n.select("g.".concat(Qu.taskGroup)).remove()}(0,this.trackGroupPath),Hu.notEmpty(this.config.events)&&function(t,n){n.selectAll("g.".concat(Qu.currentPointsGroup)).remove()}(0,this.trackGroupPath),Hu.notEmpty(this.config.actions)&&lp(t,this.trackGroupPath),qg(t.svg,this.config.key),this.config={},this},e.resize=function(t){var n,e,i,r;return zg(t.scale,t.config),Hu.notEmpty(this.trackGroupPath)&&(n=t.scale,e=t.config,i=this.trackGroupPath,r=this.config,i.select(".".concat(Qu.ganttTrackSelectorGroup)).select("rect").each((function(){var t=Ie(this),i=og(e,n,t,r);t.transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("y",i.y).attr("width",i.width).attr("height",i.height)}))),Hu.notEmpty(this.config.activities)&&bg(t.scale,t.config,this.trackGroupPath),Hu.notEmpty(this.config.tasks)&&xg(t.scale,t.config,this.trackGroupPath),(Hu.notEmpty(this.config.actions)||Hu.notEmpty(this.config.events))&&function(t,n,e){vg(t,n,e,".".concat(Qu.point)),vg(t,n,e,".".concat(Qu.dataPointSelection))}(t.scale,t.config,this.trackGroupPath),this},e.reflow=function(t,n){var e=this;if(Hu.notEmpty(n.activities)&&Hu.notEmpty(this.config.activities)){n.activityKeys=[],n.activities.forEach((function(t){if(n.activityKeys.push(t.key),e.config.activityKeys.includes(t.key)){var i=e.config.activityKeys.indexOf(t.key);e.config.activities[i].startDate=t.startDate,e.config.activities[i].endDate=t.endDate}})),this.config.activityKeys.slice(0).forEach((function(t){if(!n.activityKeys.includes(t)){var i=e.config.activityKeys.indexOf(t);e.config.activityKeys.splice(i,1),e.config.activities.splice(i,1)}}));var i=t.svg.selectAll(".".concat(Qu.trackGroup,'[aria-describedby="').concat(this.config.key,'"]'));!function(t,n,e,i,r){i.config.activities.forEach((function(t){Xd(t)}));var a=r.selectAll(".".concat(Qu.activityGroup));a.selectAll("g").remove(),ag(t,e,n,i.config.trackLabel,a,i.config.activities)}(t.svg,t.config,t.scale,this,i)}if(Hu.notEmpty(n.tasks)&&Hu.notEmpty(this.config.tasks)){n.taskKeys=[],n.tasks.forEach((function(t){if(n.taskKeys.push(t.key),e.config.taskKeys.includes(t.key)){var i=e.config.taskKeys.indexOf(t.key);e.config.tasks[i].startDate=t.startDate,e.config.tasks[i].endDate=t.endDate}})),this.config.taskKeys.slice(0).forEach((function(t){if(!n.taskKeys.includes(t)){var i=e.config.taskKeys.indexOf(t);e.config.taskKeys.splice(i,1),e.config.tasks.splice(i,1)}}));var r=t.svg.selectAll(".".concat(Qu.trackGroup,'[aria-describedby="').concat(this.config.key,'"]'));!function(t,n,e,i,r){i.config.tasks.forEach((function(t){Vd(t)}));var a=r.selectAll(".".concat(Qu.taskGroup));a.selectAll("g").remove(),Dg(t,e,n,i.config.trackLabel,a,i.config.tasks)}(t.svg,t.config,t.scale,this,r)}if(Hu.notEmpty(n.events)&&Hu.notEmpty(this.config.events)){n.eventKeys=[],n.events.forEach((function(t){if(n.eventKeys.push(t.key),e.config.eventKeys.includes(t.key)){var i=e.config.eventKeys.indexOf(t.key);e.config.events[i].values=t.values}})),this.config.eventKeys.slice(0).forEach((function(t){if(!n.eventKeys.includes(t)){var i=e.config.eventKeys.indexOf(t);e.config.eventKeys.splice(i,1),e.config.events.splice(i,1)}}));var a=t.svg.selectAll(".".concat(Qu.trackGroup,'[aria-describedby="').concat(this.config.key,'"]'));!function(t,n,e,i){e.config.events.forEach((function(t){zd(t)})),i.selectAll(".".concat(Qu.currentPointsGroup,'[event="true"]')).remove(),e.config.events.forEach((function(r){$g(n,t,i,Eg(t,e.config.trackLabel,_g(r)),Tg,!0)}))}(t.config,t.scale,this,a)}if(Hu.notEmpty(n.actions)&&Hu.notEmpty(this.config.actions)){n.actionKeys=[],n.actions.forEach((function(t){if(n.actionKeys.push(t.key),e.config.actionKeys.includes(t.key)){var i=e.config.actionKeys.indexOf(t.key);e.config.actions[i].values=t.values}})),this.config.actionKeys.slice(0).forEach((function(t){if(!n.actionKeys.includes(t)){var i=e.config.actionKeys.indexOf(t);e.config.actionKeys.splice(i,1),e.config.actions.splice(i,1)}}));var o=t.svg.selectAll(".".concat(Qu.trackGroup,'[aria-describedby="').concat(this.config.key,'"]'));up(t.config,t.scale,this,o)}this.resize(t)},e.redraw=function(t){return Lg(t.svg,this.config.trackLabel),this},n}($u),Ng=function(t){return Object.keys(t).map((function(n){return t[n].trackHeight})).map((function(t,n,e){return n>0?t+e.slice(0,n).reduce((function(t,n){return t+n}),0):t}))},Rg=function(t){return Hu.isEmpty(t.axis.y.trackList)?0:parseInt(Ng(t.axis.y.trackList).pop(),10)},Pg=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?t.axis.y.trackCount+=1:t.axis.y.trackCount-=1},Og=function(t,n,e){var i=Object.keys(e).map((function(t){return[t,e[t]]}));i.splice(n,0,[t.key,{trackHeight:t.dimension?t.dimension.trackHeight:Su.DEFAULT_GANTT_TRACK_HEIGHT,trackLabel:t.trackLabel.display}]);var r={};return i.forEach((function(t){var n=[t[1]];r[t[0]]=n[0]})),r},Mg=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Pg(t,e),e||delete t.axis.y.trackList[n.key]},Gg=function(t){return t.axis.y.domain={lowerLimit:0,upperLimit:t.axis.y.trackCount||1},t},Ug=function(t){return ah(t)?oh(t):t},Fg=function(t){return Hu.isEmpty(t)?[]:Object.keys(t).map((function(n){return t[n].trackLabel}))},Hg=function(t){t.axisSizes={},t.axisSizes.x=sf(t),t.axisSizes.y=function(t){if(t.padding.hasCustomPadding)return t.padding.left;var n=un(Ia().domain(Fg(t.axis.y.trackList)).range([0].concat(h()(Ng(t.axis.y.trackList))))),e=Ie("body").append("div"),i=e.append("svg").append("g").call(n).node().getBoundingClientRect().width;return e.remove(),i}(t)},Bg=function(t){return 2*(t.padding.top+t.padding.bottom)},Yg=function(t){return t.canvasWidth-t.axisSizes.y-t.axisLabelWidths.y-Bg(t)},Vg=function(t){return Bg(t)},Xg=function(t,n,e){return t.x=Ol(n.x,e.axis.x.ticks.values,Yg(e),Gl(e.d3Locale,e.axis.x.ticks.format,e.axis.x.type),Iu.X.TOP),t.y=function(t,n){return un(t).ticks(n/Su.DEFAULT_Y_AXIS_SPACING).tickFormat(Ug).tickPadding(8)}(n.y,Kl(e)),t},zg=function(t,n){t.x=tc().domain(n.axis.x.domain).range([0,Yg(n)]).clamp(n.settingsDictionary.shouldClamp),t.y=Ia().domain(Fg(n.axis.y.trackList)).range([0].concat(h()(Ng(n.axis.y.trackList)))),n.axis.x.rangeRounding&&t.x.nice()},Kg=function(t,n,e,i){t.append("g").classed(e,!0).call(hg(n,i))},jg=function(t,n,e,i){if(function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(I);if(Hu.isEmpty(t.trackLabel)||Hu.isEmpty(t.trackLabel.display))throw new Error(S)}(e),Hu.notEmpty(e)&&Hu.notEmpty(e.loadAtIndex)){if(e.loadAtIndex<0)throw new Error(z);var r=e.loadAtIndex;return n.axis.y.trackList=Og(e,r,n.axis.y.trackList),zg(t,n),r}return n.axis.y.trackList=Og(e,i,n.axis.y.trackList),i},Wg=function(t,n,e){return n.select(".".concat(Qu.ganttChartContent)).append("g").classed(Qu.trackGroup,!0).attr("aria-labelledby",e.trackLabel.display).attr("aria-describedby",e.key)},qg=function(t,n){return t.select('g[aria-describedby="'.concat(n,'"]')).remove()},Jg=function(t){return!(Hu.isEmpty(t)||!t.isHashed)},Zg=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(e?t.selectAll(n).remove():t.select(n).remove())},$g=function(t,n,e,i,r,a){var o=e.append("g").classed(Qu.currentPointsGroup,!0).attr("transform","translate(".concat(Xl(n),", ").concat(Bg(n),")")).attr("event",a).selectAll(".".concat(Qu.point)).data(i);r(t,n,o.enter()),o.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()},Qg=function(t,n,e){Hu.isEmpty(t.onClick)||function(t){var n=Ie(t.parentNode).select(".".concat(Qu.dataPointSelection));return n.attr("aria-hidden",!("true"===n.attr("aria-hidden"))),n}(e).call((function(e){return t.onClick((function(){return e.attr("aria-hidden",!0)}),t.key,n,t,e)}))},tp=function(t,n,e,i,r){return e.append((function(){return new ul(function(t,n,e){var i=e.posX,r=e.posY,a=e.scale,o=Hu.deepClone(t);return o.options.x=n.x-i*n.scale,o.options.y=n.y-r*n.scale,o.options.scale=n.scale*a,o}(_u.CIRCLE,i.shape.options,Su.DEFAULT_PLOT_SELECTION_SCALE_FOR_EVENTS)).getShapeElement(sl({svgClassNames:Qu.dataPointSelection,svgStyles:"",transformFn:yg(t,n)(i),onClickFn:function(){Qg(i,r,this)},a11yAttributes:{"aria-hidden":!0,"aria-describedby":i.key,"aria-disabled":!Hu.isFunction(i.onClick)}}))}))},np=function(t,n,e){var i=function(t){if(!Hu.isDate(t))throw new Error(O);return Hu.parseDateTime(t)},r=function(t,n){var e=t.filter((function(t){return t.key===n}));if(!e.length)throw new Error(ft);return e[0]}(t.actionLegend,e.key);return e.values.map((function(a){return{key:e.key,onClick:e.onClick,x:i(a),y:n.display,label:r.label,color:r.color||Su.DEFAULT_COLOR,shape:r.shape||_u.CIRCLE,clickPassThrough:!!Hu.isDefined(t.clickPassThrough)&&t.clickPassThrough.actions}}))},ep=function(t,n,e){return function(t,i){var r,a,o;Sh(t),r=n.shownTargets,a=i,(o=r.indexOf(a))>-1?r.splice(o,1):r.push(a),e.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(i.key,'"]')).attr("aria-hidden",(function(){return!("true"===Ie(this).attr("aria-hidden"))}))}},ip=function(t,n){return function(e,i){Dh(t,n,e.key,i,[function(t,n,e,r,a){return n.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER)}])}},rp=function(t,n,e,i){return{clickHandler:ep(0,n,e),hoverHandler:ip(i,e)}},ap=function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(I);if(Hu.isEmpty(t.values))throw new Error(w)},op=function(t){return ap(t),Hu.deepClone(t)},sp=function(t,n,e){return e.append("g").classed(Qu.pointGroup,!0).each((function(e,i){var r=Ie(this);!function(t,n,e,i,r){e.append((function(){return new ul(Kd(_u.CIRCLE,Su.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(sl({svgClassNames:Qu.dataPointSelection,svgStyles:"",transformFn:yg(t,n)(i),onClickFn:function(){Qg(i,r,this)},a11yAttributes:{"aria-hidden":!0,"aria-describedby":i.key,"aria-disabled":!Hu.isFunction(i.onClick)}}))}))}(t,n,r,e,i),function(t,n,e,i,r){e.append((function(){return new ul(Zf(i)).getShapeElement(sl({svgClassNames:Qu.point,svgStyles:"fill: ".concat($f(i),";"),transformFn:yg(t,n)(i),onClickFn:function(){Qg(i,r,this)},a11yAttributes:{"aria-hidden":!!document.querySelector('li[aria-describedby="'.concat(i.key,'"]'))&&"false"===document.querySelector('li[aria-describedby="'.concat(i.key,'"]')).getAttribute("aria-current"),"aria-describedby":i.key,"aria-disabled":!Hu.isFunction(i.onClick)},additionalAttributes:{"pointer-events":i.clickPassThrough&&!Hu.isFunction(i.onClick)}}))}))}(t,n,r,e,i)}))},cp=function(t,n,e,i){return i.actions.forEach((function(r,a){$g(t.scale,t.config,n,np(t.config,e,op(r)),sp,!1),i.actionKeys.splice(a,0,r.key)}))},up=function(t,n,e,i){e.config.actions.forEach((function(t){ap(t)})),i.selectAll(".".concat(Qu.currentPointsGroup,'[event="false"]')).remove(),e.config.actions.forEach((function(r){$g(n,t,i,np(t,e.config.trackLabel,op(r)),sp,!1)}))},lp=function(t,n){return n.selectAll("g.".concat(Qu.currentPointsGroup)).remove()},fp=Su.BASE_CANVAS_WIDTH_PADDING,hp=function(t,n){n.canvasWidth=parseInt(t.style("width"),10)-Gd(t)},dp=function(t){return t.canvasHeight=Kl(t)+2*(2*t.padding.bottom+t.padding.top)},gp=function(t){return t.graphContainer=null,t.config={axis:{x:{},y:{}},shownTargets:{},actionLegend:[],dateline:[],eventline:[],pan:{}},t.axis={},t.scale={},t.svg=null,t.legendSVG=null,t.tracks=[],t.trackConfig=[],t.resizeHandler=null,t},pp=function(t){function n(n){var e;return e=t.call(this)||this,gp(c()(e)),e.generate(n),e}l()(n,t);var e=n.prototype;return e.generate=function(t){var n,e,i=this;this.config=(n=t,(new Yd).setInput(n).validateInput().clone().getConfig()),Hd(t,this.config),(e=this).graphContainer=Ie(e.config.bindTo),Gg(e.config),e.config.height=Rg(e.config),vh(),function(t){var n;hp(t.graphContainer,t.config),Hg(t.config),(n=t.config).axisLabelWidths={},n.axisLabelWidths.y=n.padding.left,dp(t.config),zg(t.scale,t.config)}(this);var r,a,o,s=Ie(this.config.bindTo).append("div").classed(Qu.container,!0).style("padding-top",this.config.removeContainerPadding&&0).style("padding-bottom",this.config.removeContainerPadding&&0);return this.svg=s.insert("svg",":first-child").classed(Qu.canvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.padding.hasCustomPadding?this.config.canvasWidth:this.config.canvasWidth-fp),r=this.config,a=this.svg,(o=a.append("defs")).append("clipPath").attr("id",r.clipPathId).append("rect").attr(Su.X_AXIS,Xl(r)).attr(Su.Y_AXIS,Vg(r)).attr("width",Yg(r)).attr("height",Kl(r)),r.settingsDictionary.shouldCreateDatelineDefs&&r.dateline.length>0&&o.append("clipPath").attr("id",r.datelineClipPathId).append("rect").attr(Su.X_AXIS,Xl(r)).attr(Su.Y_AXIS,Vg(r)).attr("width",Yg(r)).attr("height",0),function(t,n,e,i){Xg(t,n,e);var r=i.append("g").classed(Qu.grid,!0).attr("transform","translate(".concat(Xl(e),",").concat(Bg(e),")"));r.append("g").classed(Qu.gridH,!0).call(dg(t,e)),wl(r,t,e,Kg)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("rect").classed(Qu.contentContainer,!0).attr(Su.X_AXIS,Xl(t)).attr(Su.Y_AXIS,Bg(t)).attr("width",Yg(t)).attr("height",Kl(t))}(this.config,this.svg),function(t,n,e,i){Xg(t,n,e),kl(n,t,e,Vl,Iu.X.TOP),i.append("g").classed(Qu.axis,!0).classed(Qu.axisX,!0).attr("aria-hidden",!e.axis.x.show).attr("transform","translate(".concat(Xl(e),", ").concat(Bg(e),")")).call(t.x).call(Wl),i.append("g").classed(Qu.axis,!0).classed(Qu.axisY,!0).classed(Qu.axisYTrackLabel,!0).attr("aria-hidden",!e.axis.y.show).attr("transform","translate(".concat(ql(e),",").concat(Bg(e),")")).call(t.y).call(Wl)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("g").classed(Qu.ganttChartContent,!0).attr("clip-path","url(#".concat(t.clipPathId,")"))}(this.config,this.svg),Hu.notEmpty(this.config.dateline)&&Nf(this.scale,this.config,this.svg),Hu.notEmpty(this.config.eventline)&&Mf(this.scale,this.config,this.svg),this.config.showActionLegend&&(this.legendSVG=kh(this.config,this.config.bindLegendTo?Ie(this.config.bindLegendTo):s),this.config.shownTargets=this.config.actionLegend.map((function(t){return t.key})),this.config.actionLegend.forEach((function(t){return function(t,n,e,i){e.label&&e.label.display&&i&&Ah(i,e,t,n)}(i.config,rp(0,i.config,i.svg,i.config.shownTargets),t,i.legendSVG)}))),Qf(this),this.svg},e.resize=function(){var t=this;if(this.graphContainer)return hp(this.graphContainer,this.config),zg(this.scale,this.config),mg(this),this.trackConfig.forEach((function(n){return n.resize(t)})),pg(this.scale,this.config,this.svg),this},e.loadContent=function(t){var n=this;return Md(t,(function(t){var e=jg(n.scale,n.config,t,n.tracks.length),i=function(t){return new Cg(t)}(t);n.trackConfig.splice(e,0,i),i.load(n),n.tracks.splice(e,0,t.key)})),Gg(this.config),this.config.height=Rg(this.config),dp(this.config),this.resize(),this.trackConfig.forEach((function(t){return t.redraw(n)})),this},e.unloadContent=function(t){var n,e,i=this;return n=t,e=function(t){var n=i.tracks.indexOf(t.key);if(n<0)throw new Error(M);i.trackConfig[n].unload(i),i.tracks.splice(n,1),i.trackConfig.splice(n,1)},Hu.isArray(n)?n.forEach((function(t){return e(t)})):e(n),Gg(this.config),this.config.height=Rg(this.config),dp(this.config),this.resize(),this},e.reflow=function(t){var n=this;mf(this.config),zg(this.scale,this.config);var e,i=rp(0,this.config,this.svg,this.config.shownTargets);return fg(this.axis,this.scale,this.config,this.svg),t&&this.tracks.includes(t.key)&&(this.trackConfig.forEach((function(n,i){n.config.key===t.key&&(e=i)})),this.trackConfig[e].reflow(this,t),Rh(this.legendSVG,this.config.actionLegend[e],this,i)),this.config.height=Rg(this.config),dp(this.config),this.resize(),this.trackConfig.forEach((function(t){return t.redraw(n)})),this},e.destroy=function(){return mh(),th(this),Zg(this.graphContainer,".".concat(Qu.canvas)),Zg(this.graphContainer,".".concat(Qu.container)),gp(this),this},n}(Od),yp={ticks:{},show:!1,domain:{lowerLimit:0,upperLimit:0}},vp=function(t,n,e){var i=Hu.deepClone(t.axis),r=function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.axis[n].ticks=Yu(e[n].ticks,{}),t.axis[n].show=Yu(e[n].show,i),t.axis[n].domain={lowerLimit:Hu.getNumber(e[n].lowerLimit),upperLimit:Hu.getNumber(e[n].upperLimit)},t.axis[n].rangeRounding=Yu(e[n].rangeRounding,!0),t.axis[n].suppressTrailingZeros=Yu(e[n].suppressTrailingZeros,!1),t};return n.clipPathId=Xu(),n.datelineClipPathId=zu(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.axis=i,n.dateline=Yu(Hu.deepClone(t.dateline),[]),n.eventline=Yu(Hu.deepClone(t.eventline),[]),n.padding=function(t,n){return Hu.isDefined(t.padding)?{top:Yu(n.top,Su.PADDING.top),bottom:Yu(n.bottom,Su.PADDING.bottom),right:Yu(n.right,Su.PADDING.right),left:Yu(n.left,Su.PADDING.left),hasCustomPadding:!0}:{top:Su.PADDING.top,bottom:Su.PADDING.bottom,right:Su.PADDING.right,left:Su.PADDING.left,hasCustomPadding:!1}}(n,t.padding),n.locale=Yu(t.locale,dl),n.d3Locale=Yu(t.locale,dl),n.showNoDataText=Yu(t.showNoDataText,!0),n.throttle=Yu(t.throttle,Su.RESIZE_THROTTLE),n.settingsDictionary=function(t){return Ju(t)?{shouldClamp:!1,transition:Su.D3_TRANSITION_PROPERTIES_DISABLED,shouldCreateDatelineDefs:!0}:{shouldClamp:!0,transition:Su.D3_TRANSITION_PROPERTIES_ENABLED,shouldCreateDatelineDefs:!1}}(t),n.showLabel=Yu(t.showLabel,!0),n.showLegend=Yu(t.showLegend,!0),n.showShapes=Yu(t.showShapes,!0),n.showHGrid=Yu(t.showHGrid,!0),n.showVGrid=Yu(t.showVGrid,!0),n.dimension=Yu(t.dimension,{}),n.allowCalibration=Yu(t.allowCalibration,!0),n.removeContainerPadding=Yu(t.removeContainerPadding,!1),n.legendPadding=Nh(n,t.legendPadding),n.axis.x.type=Yu(i.x.type,wu.DEFAULT),n.axis.x.ticks=Yu(i.x.ticks,{}),n.axis.x.show=Yu(i.x.show,!0),n.axis.x.orientation=Yu(i.x.orientation,Iu.X.BOTTOM),n.axis.x.domain=Wu(e,i.x.lowerLimit,i.x.upperLimit),n.axis.x.rangeRounding=Yu(i.x.rangeRounding,!0),n.axis.x.suppressTrailingZeros=Yu(i.x.suppressTrailingZeros,!1),t.axis.y?r(n,Su.Y_AXIS,i,!0):n.axis.y=yp,t.axis.y2?r(n,Su.Y2_AXIS,i):n.axis.y2=yp,n.shownTargets=[],n.hasCriticality=!1,n.shouldHideAllRegion=!1,n.axisPadding={y:Yu(i.y.padDomain,!0),y2:Yu(i.y2.padDomain,!0)},n.axisInfoRowLabelHeight=0,n},mp=function(t,n){return!Hu.hasValue(t.map((function(t){return t.config.key})),n)},xp=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Hu.isEmpty(this.input))throw new Error(_);if(Hu.isEmpty(this.input.bindTo))throw new Error(E);if(Hu.isEmpty(this.input.axis)||Hu.isEmpty(this.input.axis.x)||Hu.isEmpty(this.input.axis.y))throw new Error(L);if(Hu.notEmpty(this.input.axis.x.type)&&!Hu.hasValue(Object.values(wu),this.input.axis.x.type))throw new Error(R);if(Hu.isEmpty(this.input.axis.x.lowerLimit)||Hu.isEmpty(this.input.axis.x.upperLimit)||Hu.isEmpty(this.input.axis.y.lowerLimit)||Hu.isEmpty(this.input.axis.y.upperLimit))throw new Error(C);if(Hu.isEmpty(this.input.axis.y.label))throw new Error(N);if(Cl(this.input.axis)){if(Hu.isEmpty(this.input.axis.y2.lowerLimit)||Hu.isEmpty(this.input.axis.y2.upperLimit))throw new Error(C);if(Hu.isEmpty(this.input.axis.y2.label))throw new Error(N)}if(Hu.notEmpty(this.input.dateline)&&this.input.axis.x.type!==wu.TIME_SERIES)throw new Error(R);if(Hu.notEmpty(this.input.dateline)&&this.input.axis.x.type===wu.TIME_SERIES&&this.input.dateline.forEach((function(t){Pf(t)})),Hu.notEmpty(this.input.eventline)&&this.input.axis.x.type!==wu.TIME_SERIES)throw new Error(R);return Hu.notEmpty(this.input.eventline)&&this.input.axis.x.type===wu.TIME_SERIES&&this.input.eventline.forEach((function(t){Gf(t)})),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),bp=Su.BASE_CANVAS_WIDTH_PADDING,Tp=function(t,n){n.canvasWidth=parseInt(t.style("width"),10)-Gd(t)},Ep=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS;return t.axis[n].dataRange.isRangeModified},_p=function(t){return t.graphContainer=null,t.config={axis:{x:{},y:{},y2:{}},shownTargets:{},dateline:[],eventline:[],pan:{}},t.axis={axisInfoRow:{x:{}}},t.scale={},t.svg=null,t.legendSVG=null,t.axesLabelShapeGroup={},t.content=[],t.contentConfig=[],t.contentKeys=[],t.resizeHandler=null,t},Ap=function(t){var n;return t.config.height=function(t,n){if(n.height)return n.height;var e=t.padding.top+t.padding.bottom,i=(Ff-e)/2;return i*t.outlierStretchFactor.upperLimit+i*t.outlierStretchFactor.lowerLimit}(t.config,t.config.dimension),Tp(t.graphContainer,t.config),pf(t.config),(n=t.config).axisLabelHeights={},n.axisLabelWidths={},n.axisLabelHeights.x=0,n.axisLabelWidths.y=0,n.axisLabelWidths.y2=0,n.axisInfoRowLabelHeight=0,n.showLabel&&(n.axis.x.label&&(n.axisLabelHeights.x=df(n.axis.x.label)),n.axis.y.label&&(n.axisLabelWidths.y=hf(n.axis.y.label,Su.Y_AXIS,n)),Cl(n.axis)&&n.axis.y2.label&&(n.axisLabelWidths.y2=Cl(n.axis)?hf(n.axis.y2.label,Su.Y2_AXIS,n):0)),function(t){t.showLabel&&t.axis.x.label||t.axis.x.show?t.canvasHeight=Kl(t)+2*(t.padding.bottom+t.padding.top+t.axisLabelHeights.x):t.canvasHeight=Kl(t)+t.padding.bottom+t.padding.top+t.axisLabelHeights.x}(t.config),qf(t.scale,t.config),t},wp=function(t){function n(n){var e;return e=t.call(this)||this,_p(c()(e)),e.generate(n),e}l()(n,t);var e=n.prototype;return e.generate=function(t){var n,e;this.config=(n=t,(new xp).setInput(n).validateInput().clone().getConfig()),vp(t,this.config,this.config.axis.x.type),(e=this).graphContainer=Ie(e.config.bindTo),_f({},"",e.config),Kf(e.config),vh(),Ap(this);var i,a,o,s=Ie(this.config.bindTo).append("div").classed(Qu.container,!0).style("padding-top",this.config.removeContainerPadding&&0).style("padding-bottom",this.config.removeContainerPadding&&0);return this.svg=s.insert("svg",":first-child").classed(Qu.canvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.padding.hasCustomPadding?this.config.canvasWidth:this.config.canvasWidth-bp),Hu.isUndefined(this.config.opaqueBackground)&&(this.config.opaqueBackground=!1),this.config.opaqueBackground&&Ie(".".concat(Qu.container)).style("background-color",xu.WHITE),i=this.config,a=this.svg,(o=a.append("defs")).append("clipPath").attr("id",i.clipPathId).append("rect").attr(Su.X_AXIS,Xl(i)).attr(Su.Y_AXIS,zl(i)).attr("width",Ml(i)).attr("height",i.height),i.settingsDictionary.shouldCreateDatelineDefs&&i.dateline.length>0&&o.append("clipPath").attr("id",i.datelineClipPathId).append("rect").attr(Su.X_AXIS,Xl(i)).attr(Su.Y_AXIS,0).attr("width",Ml(i)).attr("height",0),function(t,n){n.append("g").classed(Qu.regionGroup,!0)}(this.config,this.svg),function(t,n,e,i){Yl(t,n,e);var r=i.append("g").classed(Qu.grid,!0).attr("transform","translate(".concat(Xl(e),",").concat(zl(e),")"));e.showHGrid&&r.append("g").classed(Qu.gridH,!0).call(Bf(t,e)),e.showVGrid&&wl(r,t,e,jf)}(this.axis,this.scale,this.config,this.svg),function(t,n){n.append("rect").classed(Qu.contentContainer,!0).attr(Su.X_AXIS,Xl(t)).attr(Su.Y_AXIS,zl(t))}(this.config,this.svg),function(t,n,e,i){Yl(t,n,e),kl(n,t,e,Vl),i.append("g").classed(Qu.axis,!0).classed(Qu.axisX,!0).attr("aria-hidden",!e.axis.x.show).attr("transform","translate(".concat(Xl(e),", ").concat(jl(e),")")).call(t.x).call(Wl),i.append("g").classed(Qu.axis,!0).classed(Qu.axisY,!0).attr("aria-hidden",!e.axis.y.show).attr("transform","translate(".concat(ql(e),", ").concat(Jl(e),")")).call(t.y).call(Wl),Cl(e.axis)&&i.append("g").classed(Qu.axis,!0).classed(Qu.axisY2,!0).attr("transform","translate(".concat(Zl(e),", ").concat($l(e),")")).call(t.y2).call(Wl)}(this.axis,this.scale,this.config,this.svg),function(t,n,e,i){Yl(t,n,e),i.append("g").classed(Qu.axis,!0).classed(Qu.axisInfoRow,!0).attr("aria-hidden",!0).attr("transform","translate(".concat(Xl(e),", ").concat(Ql(e),")")).call(t.axisInfoRow.x).call(Wl)}(this.axis,this.scale,this.config,this.svg),function(t,n,e){if(t.showLabel){var i=Xf(t);if(t.axis.x.label){var a=n.append("g").classed(Qu.axisLabelX,!0).attr("transform","translate(".concat(nf(t),",").concat(ef(t),") rotate(").concat(tf(Su.X_AXIS),")"));ff(a,Hu.sanitize(t.axis.x.label),i.xAxisLimit),Wf(a,Qu.axisLabelX,t.axis.x,i.xAxisLimit,Su.X_AXIS)}if(t.axis.y.label){var o=n.append("g").classed(Qu.axisLabelY,!0).attr("transform","translate(".concat(rf(t),", ").concat(af(t),") rotate(").concat(tf(Su.Y_AXIS),")"));ff(o,Hu.sanitize(t.axis.y.label),i.yAndY2AxisLimit),Wf(o,Qu.axisLabelY,t.axis.y,i.yAndY2AxisLimit,Su.Y_AXIS)}if(Cl(t.axis)){var s,c=n.append("g").classed(Qu.axisLabelY2,!0).attr("transform","translate(".concat(of(t),", ").concat(af(t),") rotate(").concat(tf(Su.Y2_AXIS),")"));ff(c,Hu.sanitize(t.axis.y2.label),i.yAndY2AxisLimit),Wf(n,Qu.axisLabelY2,t.axis.y2,i.yAndY2AxisLimit,Su.Y2_AXIS),e.axesLabelShapeGroup=(s={},r()(s,Su.Y_AXIS,fh(t,n)),r()(s,Su.Y2_AXIS,hh(t,n)),s)}}}(this.config,this.svg,this),function(t,n,e,i){var r="translate(".concat(ql(e),", ").concat(Jl(e),")"),a=function(t,e){return t.classed(Qu.axisReferenceLine,!0).attr("aria-hidden",!Sl(n,e)).attr("transform",r).attr("d",Ll(n,e)(Dl(n)))};a(i.append("path"),Su.Y_AXIS).classed(Qu.axis,!0).classed(Qu.axisY,!0),Cl(e.axis)&&a(i.append("path"),Su.Y2_AXIS).classed(Qu.axis,!0).classed(Qu.axisY2,!0)}(this.axis,this.scale,this.config,this.svg),Hu.notEmpty(this.config.dateline)&&this.config.axis.x.type===wu.TIME_SERIES&&Nf(this.scale,this.config,this.svg),Hu.notEmpty(this.config.eventline)&&this.config.axis.x.type===wu.TIME_SERIES&&Mf(this.scale,this.config,this.svg),this.config.showLegend&&(this.legendSVG=kh(this.config,this.config.bindLegendTo?Ie(this.config.bindLegendTo):s)),this.config.showNoDataText&&rh(this.config,this.svg),Qf(this),this.svg},e.resize=function(){var t=this;return Tp(this.graphContainer,this.config),qf(this.scale,this.config),Jf(this),this.content.forEach((function(n){return n.resize(t)})),this},e.loadContent=function(t){var n,e,i;return function(t,n){if(Hu.isEmpty(n))throw new Error(A);if(!mp(t,n.config.key))throw new Error(k)}(this.content,t),this.content.push(t),this.contentConfig.push(t.config),this.contentKeys.push(t.config.key),eh(this.config.axisPadding,t),_f(t,t.config.yAxis,this.config,this.content),this.config.allowCalibration&&Ep(this.config,t.config.yAxis)&&Kf(this.config,t),t.load(this),Hu.notEmpty(this.config.dateline)&&this.config.axis.x.type===wu.TIME_SERIES&&Rf(this.scale,this.config,this.svg),Hu.notEmpty(this.config.eventline)&&this.config.axis.x.type===wu.TIME_SERIES&&(n=this.scale,e=this.config,(i=this.svg).select(".".concat(Qu.eventlineContent)).empty()||(i.select(".".concat(Qu.eventlineContent)).remove(),Mf(n,e,i))),Hu.notEmpty(t.config.values)&&ih(this.svg),this.resize(),this},e.unloadContent=function(t){var n=this.contentKeys.indexOf(t.key||t.config.key);if(n<0)throw new Error(M);return this.content[n].unload(this),this.content.splice(n,1),this.contentConfig.splice(n,1),this.contentKeys.splice(n,1),this.config.showNoDataText&&this.content.every((function(t){return Hu.isEmpty(t.config.values)}))&&rh(this.config,this.svg),this.resize(),this},e.reflow=function(t){var n,e=this;return t&&t.values&&(this.contentKeys.forEach((function(e,i){e===t.key&&(n=i)})),n>=0&&"Bar"===this.content[n].type&&t.values.length>0&&(this.config.axis.x.ticks.values=[],t.values.forEach((function(t){return e.config.axis.x.ticks.values.push(t.x)})))),mf(this.config),qf(this.scale,this.config),Tf(this.axis,this.scale,this.config,this.svg),t&&t.values&&this.contentKeys.includes(t.key)&&(this.content[n].reflow(this,t),eh(this.config.axisPadding,this.content[n]),_f(this.content[n],this.content[n].config.yAxis,this.config,this.content),this.config.allowCalibration&&Ep(this.config,this.content[n].config.yAxis)&&Kf(this.config,this.content[n]),this.config.showNoDataText&&this.content.every((function(t){return Hu.isEmpty(t.config.values)}))?(rh(this.config,this.svg),Rf(this.scale,this.config,this.svg)):Hu.notEmpty(this.content[n].config.values)&&ih(this.svg)),t&&this.config.showLabel&&(this.config.axis.x.label=Hu.sanitize(t.xLabel)||this.config.axis.x.label,this.config.axis.y.label=Hu.sanitize(t.yLabel)||this.config.axis.y.label,this.config.axis.y2.label=Hu.sanitize(t.y2Label)||this.config.axis.y2.label),this.resize(),this},e.destroy=function(){return th(this),mh(),nh(this.graphContainer,".".concat(Qu.canvas)),nh(this.graphContainer,".".concat(Qu.container)),_p(this),this},n}(Od),kp=function(t){return t.internalValuesSubset},Ip=function(t,n){return Dc().defined((function(t){return null!==t.y})).x((function(n){return t.x(n.x)})).y((function(n){return t[n.yAxis](n.y)})).curve(n.interpolationType)(kp(n))},Sp=function(t){return function(n){return function(e){var i;return"translate(".concat((i=n,t.x(i.x)),",").concat(function(n){return t[n.yAxis](n.y)}(n),") scale(").concat(e,")")}}},Dp=function(t,n,e,i){return n.selectAll(".".concat(Qu.lineGraphContent," .").concat(e)).each((function(n){Ie(this).select("g").transition().call(Su.d3Transition(i.settingsDictionary.transition)).attr("transform",(function(){return Sp(t)(n)(Sf(this))}))}))},Lp=function(t,n,e){Hu.isEmpty(t.onClick)||function(t){var n=Ie(t.parentNode).select(".".concat(Qu.dataPointSelection));return n.attr("aria-hidden",!("true"===n.attr("aria-hidden"))),n}(e).call((function(e){return t.onClick((function(){e.attr("aria-hidden",!0)}),t.key,n,t,e)}))},Cp=function(t,n,e){!function(t,n,e){n.selectAll(".".concat(Qu.lineGraphContent," .").concat(Qu.line)).select("path").transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("d",(function(n){return Ip(t,n)}))}(t,n,e),Dp(t,n,Qu.point,e),Dp(t,n,Qu.dataPointSelection,e)},Np=function(t,n,e){return e.append("g").classed(Qu.line,!0).append("path").attr("d",(function(n){return Ip(t,n)})).attr("style",(function(t){return"stroke: ".concat($f(t),"; stroke-dasharray: ").concat(t.style.strokeDashArray,";")})).attr("aria-hidden",!1).attr("aria-describedby",(function(t){return t.key}))},Rp=function(t,n,e){var i=function(n,e,i,r){return n.append((function(){var n;return new ul(Zf(e)).getShapeElement(sl({svgClassNames:"".concat(Qu.point," ").concat(r),transformFn:Sp(t)(e),onClickFn:function(){Lp(e,i,this)},a11yAttributes:{"aria-hidden":"false"===(null===(n=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===n?void 0:n.getAttribute("aria-current")),"aria-describedby":e.key,"aria-disabled":!Hu.isFunction(e.onClick)}}))}))};e.append("g").classed(Qu.pointGroup,!0).each((function(e,r){var a,o,s=Ie(this);a=e,o=r,s.append((function(){return new ul(Kd(_u.CIRCLE,Su.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(sl({svgClassNames:Qu.dataPointSelection,transformFn:Sp(t)(a),onClickFn:function(){Lp(a,o,this)},a11yAttributes:{"aria-hidden":!0,"aria-describedby":a.key,"aria-disabled":!Hu.isFunction(a.onClick)}}))})),e.isCritical&&(n.hasCriticality=!0,i(s,e,r,Qu.criticalityOuterPoint),i(s,e,r,Qu.criticalityInnerPoint)),function(n,e,i){n.append((function(){var n;return new ul(Zf(e)).getShapeElement(sl({svgClassNames:Qu.point,svgStyles:"fill: ".concat($f(e),";"),transformFn:Sp(t)(e),onClickFn:function(){Lp(e,i,this)},a11yAttributes:{"aria-hidden":"false"===(null===(n=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===n?void 0:n.getAttribute("aria-current")),"aria-describedby":e.key,"aria-disabled":!Hu.isFunction(e.onClick)}}))}))}(s,e,r)}))},Pp=function(t,n,e,i){var r=e.append("g").classed(Qu.lineGraphContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-hidden",n.shownTargets.indexOf(i.key)<0).attr("aria-describedby",i.key),a=r.append("g").classed(Qu.currentLinesGroup,!0).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")).selectAll(".".concat(Qu.line)).data([i]);if(Np(t,0,a.enter()),a.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove(),i.showShapes){var o=r.selectAll(".".concat(Qu.currentPointsGroup)).data([i]);o.enter().append("g").classed(Qu.currentPointsGroup,!0).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")),o.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove();var s=r.select(".".concat(Qu.currentPointsGroup)).selectAll(".".concat(Qu.point)).data(kp(i).filter((function(t){return null!==t.y})));Rp(t,n,s.enter()),s.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()}},Op=function(t,n){var e=t.axis.x.type,i=function(t){if(!Af(t,e))throw new Error(O);return qu(t,e)};return n.interpolationType=Ku(n.type),n.style=Yu(n.style,{}),n.style={strokeDashArray:Zu(n.style)},n.showShapes=Yu(n.showShapes,t.showShapes),n.legendOptions=Ch(0,n),t.shownTargets.push(n.key),n.internalValuesSubset=n.values.map((function(t){return{onClick:n.onClick,isCritical:t.isCritical||!1,x:i(t.x),y:t.y,color:n.color||Su.DEFAULT_COLOR,label:n.label||{},shape:n.shape||_u.CIRCLE,yAxis:n.yAxis||Su.Y_AXIS,key:n.key}})),n.valueRegionSubset=function(t,n){var e,i=[],r=[],a={color:void 0,values:[]};return t.values.forEach((function(t){Hu.isEmpty(t.region)||Hu.isEmpty(t.region.start)||Hu.isEmpty(t.region.end)?(i.push(a),e=void 0,a={color:void 0,values:[]}):(e!==t.region.color&&(a.values.length>0&&i.push(a),a={color:t.region.color,values:[]}),e=t.region.color,a.color=t.region.color,a.values.push({x:n(t.x),start:t.region.start,end:t.region.end}))})),i.push(a),i.forEach((function(t){t.values.length>0&&(r.push(t),t.values.length>1&&(r.push({color:t.color,values:t.values.slice(0,1)}),r.push({color:t.color,values:t.values.slice(t.values.length-1)})))})),r}(n,i),n},Mp=function(t,n,e,i){return function(n,r){Sh(n);var a,o,s,c=Ih(Ie(n));a=e.shownTargets,o=r,(s=a.indexOf(o.key))>-1?a.splice(s,1):a.push(o.key),i.selectAll(".".concat(Qu.dataPointSelection,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",!0),i.selectAll('path[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",c),i.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",c),window.requestAnimationFrame(function(t,n,e){return function(){Qh(t,n,e)}}(t,e,i))}},Gp=function(t,n){return function(e,i){Dh(t,n,e.key,i,[function(t,n,e,r,a){n.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER)}]),n.selectAll('path[aria-describedby="'.concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll('svg[aria-describedby="'.concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),td(t,n,e.key,i)}},Up=function(t,n){return nh(t,'g[aria-describedby="'.concat(n.key,'"]'))},Fp=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Bu(this.input),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),Hp=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS,e=t.filter((function(t){return null!==t.y})).map((function(t){return t.y}));return r()({},n,{min:Math.min.apply(Math,h()(e)),max:Math.max.apply(Math,h()(e))})},Bp=function(t){function n(n){var e,i;return(e=t.call(this)||this).config=(i=n,(new Fp).setInput(i).validateInput().clone().getConfig()),e.type="Line",e.config.yAxis=Yu(e.config.yAxis,Su.Y_AXIS),e.valuesRange=Hp(e.config.values,e.config.yAxis),e.dataTarget={},e}l()(n,t);var e=n.prototype;return e.load=function(t){var n,e,i,r;return this.dataTarget=Op(t.config,this.config),Pp(t.scale,t.config,t.svg,this.dataTarget),Hu.isEmptyArray(this.dataTarget.values)||(Hu.isEmptyArray(this.dataTarget.valueRegionSubset)?Hu.notEmpty(this.dataTarget.regions)&&Kh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget.regions,"region_".concat(this.dataTarget.key),this.config.yAxis):Wh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget.valueRegionSubset,"region_".concat(this.dataTarget.key),this.config.yAxis,this.dataTarget.interpolationType)),n=t.config,e={clickHandler:Mp(t,0,t.config,t.svg),hoverHandler:Gp(t.config.shownTargets,t.svg)},i=this.dataTarget,r=t.legendSVG,i.label&&i.label.display&&r&&Ah(r,i,n,e),gh(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this},e.unload=function(t){return Up(t.svg,this.dataTarget),Yh(t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget),wh(t.legendSVG,this.dataTarget),ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),this.dataTarget={},this.config={},this},e.resize=function(t){return!Hu.isEmptyArray(this.dataTarget.values)&&t.config.shownTargets.indexOf(this.dataTarget.key)>-1&&(Hu.notEmpty(this.dataTarget.regions)||!Hu.isEmptyArray(this.dataTarget.valueRegionSubset)?$h(t.config.shownTargets,t.content)?t.config.shouldHideAllRegion=!1:t.config.shouldHideAllRegion=!Jh(t.svg):t.config.shouldHideAllRegion=!0),t.config.shouldHideAllRegion&&Zh(t.svg),qh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup),this.dataTarget.valueRegionSubset),this.dataTarget.yAxis,!Hu.isEmptyArray(this.dataTarget.valueRegionSubset),this.dataTarget.interpolationType),Cp(t.scale,t.svg,t.config),this},e.reflow=function(t,n){this.config.values=n.values,this.dataTarget=Op(t.config,this.config);var e={clickHandler:Mp(t,0,t.config,t.svg),hoverHandler:Gp(t.config.shownTargets,t.svg)},i=t.config.shownTargets.lastIndexOf(n.key);i>-1&&t.config.shownTargets.splice(i,1),Rh(t.legendSVG,t.content.filter((function(t){return t.config.key===n.key}))[0].config,t,e);var r=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll(".".concat(Qu.line)).data([this.dataTarget]);if(Np(t.scale,t.config,r.enter()),r.exit().remove(),Hu.isEmpty(n.values)&&ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),t.config.showShapes){t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll(".".concat(Qu.pointGroup)).data(this.dataTarget).exit().remove();var a=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).selectAll('[class*="'.concat(Qu.point,'"]')).data(kp(this.dataTarget));Rp(t.scale,t.config,a.enter()),a.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove()}this.valuesRange=Hp(this.config.values,this.config.yAxis)},e.redraw=function(t){return Up(t.svg,this.dataTarget),Pp(t.scale,t.config,t.svg,this.dataTarget),this},n}($u),Yp=function(t){return t.high?t.high:t.low?t.low:t.mid},Vp=function(t,n,e){var i=Ie(e);i.select("path").classed(Qu.dataPointDisplayEnable,(function(){return!Ie(this).classed(Qu.dataPointDisplayEnable)})),i.selectAll("svg").classed(Qu.dataPointDisplayEnable,(function(){return!Ie(this).classed(Qu.dataPointDisplayEnable)}));var r=i.select("rect");r.classed(Qu.dataPointDisplayEnable,!r.classed(Qu.dataPointDisplayEnable))},Xp=function(t,n){return!(!n.high||!n.low)&&function(t,n){return t.shownTargets.indexOf(n.high.key)<0||t.shownTargets.indexOf(n.low.key)<0}(t,n)||function(t,n){return t.shownTargets.indexOf(Yp(n).key)<0}(t,n)},zp=function(t,n,e,i){Hu.isEmpty(n.onClick)||function(t,n,e){var i=Ie(e),r=i.select(".".concat(Qu.dataPointSelection));return i.attr("aria-selected",!("true"===i.attr("aria-selected"))),r.attr("aria-hidden",!("true"===r.attr("aria-hidden"))),Xp(t,n)&&Vp(0,0,e),r}(t,n,i).call((function(i){return n.onClick((function(){var e=i.node().parentNode;Ie(e).attr("aria-selected",!1),i.attr("aria-hidden",!0),Xp(t,n)&&Vp(0,0,e)}),n.key,e,n,i)}))},Kp=function(t,n,e){return t.attr("x",(function(t){return n.x(t.high.x)-Su.SELECTION_INDICATOR_X_POSITION})).attr("y",(function(t){return n[e.yAxis](t.high.y)-Su.SELECTION_INDICATOR_Y_POSITION})).attr("width",(function(t){return n.x(t.low.x)-n.x(t.high.x)+2*Su.SELECTION_INDICATOR_X_POSITION||2*Su.SELECTION_INDICATOR_X_POSITION})).attr("height",(function(t){return n[e.yAxis](t.low.y)-n[e.yAxis](t.high.y)+2*Su.SELECTION_INDICATOR_Y_POSITION}))},jp=function(t){return function(n){return function(e){var i;return"translate(".concat((i=n,t.x(Yp(i).x)),",").concat(function(e){return t[n.yAxis](Yp(e).y)}(n),") scale(").concat(e,")")}}},Wp=function(t,n,e){return e.each((function(n){return n.high&&n.low?function(t,n,e,i){return Kp(t.append("rect").classed(Qu.dataPointSelection,!0).attr("rx",3).attr("ry",3).attr("aria-hidden",!0).attr("aria-describedby",i.key),n,i)}(Ie(this),t,0,n):function(t,n,e,i){return t.append((function(){return new ul(Kd(_u.CIRCLE,Su.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(sl({svgClassNames:Qu.dataPointSelection,transformFn:jp(n)(i),a11yAttributes:{"aria-hidden":!0,"aria-describedby":i.key}}))}))}(Ie(this),t,0,n)}))},qp=function(t,n){return t?t[n]:""},Jp=function(t){return Su.PAIR_ITEM_TYPES.forEach(t)},Zp=function(t,n){return Dc().x((function(n){return t.x(n.x)})).y((function(e){return t[n.yAxis](e.y)})).curve(Su.DEFAULT_INTERPOLATION)([{x:n.high.x,y:n.high.y},{x:n.low.x,y:n.low.y}])},$p=function(t,n){return function(e){return function(i){var r;return"translate(".concat((r=e,t.x(qp(r,n).x)),",").concat(function(e){return t[e.yAxis](qp(e,n).y)}(e),") scale(").concat(i,")")}}},Qp=function(t,n,e){return e.each((function(e,i){return Ie(this).append("path").classed(Qu.pairedLine,!0).attr("aria-describedby",e.key).attr("aria-hidden",(function(t){return!function(t){var e,i;return t.high&&t.low&&Hu.hasValue(n.shownTargets,t.high.key)&&Hu.hasValue(n.shownTargets,t.low.key)&&!1!==(null===(e=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(t.high.key,'"]')))||void 0===e?void 0:e.getAttribute("aria-current"))&&!1!==(null===(i=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(t.low.key,'"]')))||void 0===i?void 0:i.getAttribute("aria-current"))}(t)})).attr("aria-disabled",!Hu.isFunction(e.onClick)).attr("d",e.high&&e.low?Zp(t,e):"").on("click",(function(){zp(n,e,i,this.parentNode)}))}))},ty=function(t,n,e){e.each((function(e,i){var r=Ie(this);Jp((function(a){if(Hu.isDefined(qp(e,a))){var o=qp(e,a),s=r.append("g").classed(Qu.pointGroup,!0);o.isCritical&&(n.hasCriticality=!0,function(t,n,e,i,r,a){var o=function(e,i,r,a,o){return e.append((function(){var e;return new ul(Zf(qp(r,i))).getShapeElement(sl({svgClassNames:"".concat(o),transformFn:$p(t,i)(r),onClickFn:function(){zp(n,r,a,this.parentNode.parentNode)},a11yAttributes:{"aria-hidden":"false"===(null===(e=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(qp(r,i).key,'"]')))||void 0===e?void 0:e.getAttribute("aria-current")),"aria-describedby":qp(r,i).key,"aria-disabled":!Hu.isFunction(r.onClick)}}))}))};o(e,i,r,a,"".concat(Qu.pairedPoint," ").concat(qp(Qu,i)," ").concat(Qu.criticalityOuterPoint)),o(e,i,r,a,"".concat(Qu.pairedPoint," ").concat(qp(Qu,i)," ").concat(Qu.criticalityInnerPoint))}(t,n,s,a,e,i)),function(e,i,r,a){e.append((function(){var e;return new ul(Zf(qp(r,i))).getShapeElement(sl({svgClassNames:"".concat(Qu.pairedPoint," ").concat(qp(Qu,i)),svgStyles:"fill: ".concat($f(qp(r,i)),";"),transformFn:$p(t,i)(r),onClickFn:function(){zp(n,r,a,this.parentNode.parentNode)},a11yAttributes:{"aria-hidden":"false"===(null===(e=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(qp(r,i).key,'"]')))||void 0===e?void 0:e.getAttribute("aria-current")),"aria-describedby":qp(r,i).key,"aria-disabled":!Hu.isFunction(r.onClick)}}))}))}(s,a,e,i)}}))}))},ny=function(t){return t.internalValuesSubset},ey=function(t,n,e,i){var r=e.append("g").classed(Qu.pairedBoxGroup,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-describedby",i.key).selectAll(".".concat(Qu.pairedBox)).data(ny(i));r.enter().append("g").classed(Qu.pairedBox,!0).attr("aria-selected",!1).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")).call((function(e){Wp(t,0,e),Qp(t,n,e),ty(t,n,e)})),r.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()},iy=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.axis.x.type,r=function(t){if(!Af(t,i))throw new Error(O);return qu(t,i)},a={high:[],low:[],mid:[]},o={high:{color:void 0,values:[]},low:{color:void 0,values:[]},mid:{color:void 0,values:[]}};n.internalValuesSubset=n.values.map((function(i){var s={};return Jp((function(c){if(Hu.isDefined(qp(i,c))){var u=qp(i,c);s[c]={x:r(u.x),y:Hu.getNumber(u.y),isCritical:u.isCritical||!1,color:qp(n.color,c)||Su.DEFAULT_COLOR,label:qp(n.label,c)||{},shape:qp(n.shape,c)||_u.CIRCLE,key:"".concat(n.key,"_").concat(c)},Hu.hasValue(t.shownTargets,s[c].key)||e||t.shownTargets.push(s[c].key),Hu.isEmpty(u.region)||Hu.isEmpty(u.region.start)||Hu.isEmpty(u.region.end)?o[c].values.length>0&&(a[c].push(o[c]),o[c]={color:void 0,values:[]}):(o[c].color!==u.region.color&&(o[c].values.length>0&&a[c].push(o[c]),o[c]={color:u.region.color,values:[]}),o[c].color=u.region.color,o[c].values.push({x:r(u.x),start:u.region.start,end:u.region.end}))}})),s.yAxis=n.yAxis||Su.Y_AXIS,s.onClick=n.onClick,s.key=n.key,s}));var s={high:[],low:[],mid:[]},c=!1;return Jp((function(t){o[t].values.length>0&&a[t].push(o[t]),a[t].forEach((function(n){c=!0,s[t].push(n),n.values.length>1&&(s[t].push({color:n.color,values:n.values.slice(0,1)}),s[t].push({color:n.color,values:n.values.slice(n.values.length-1)}))}))})),n.valueRegionSubset=c?s:void 0,n.legendOptions=Ch(0,n),n},ry=function(t,n){return n.each((function(){return Ie(this).select(".".concat(Qu.pairedLine)).attr("aria-hidden",(function(n){return!function(n){var e,i;return n.high&&n.low&&Hu.hasValue(t.shownTargets,n.high.key)&&Hu.hasValue(t.shownTargets,n.low.key)&&"true"===(null===(e=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(n.high.key,'"]')))||void 0===e?void 0:e.getAttribute("aria-current"))&&"true"===(null===(i=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(n.low.key,'"]')))||void 0===i?void 0:i.getAttribute("aria-current"))}(n)}))}))},ay=function(t,n,e){!function(t,n,e){n.selectAll(".".concat(Qu.pairedBoxGroup," rect.").concat(Qu.dataPointSelection)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).each((function(n){return Kp(Ie(this).transition().call(Su.d3Transition(e.settingsDictionary.transition)),t,n)}))}(t,n,e),function(t,n,e){n.selectAll(".".concat(Qu.pairedBoxGroup," .").concat(Qu.dataPointSelection)).each((function(n){return Ie(this).select("g").transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform",(function(){return jp(t)(n)(Sf(this))}))}))}(t,n,e),function(t,n,e){n.selectAll(".".concat(Qu.pairedBoxGroup," .").concat(Qu.pairedLine)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("d",(function(n){return n.high&&n.low?Zp(t,n):""}))}(t,n,e),function(t,n,e){Jp((function(i){n.selectAll(".".concat(Qu.pairedBoxGroup," .").concat(Qu.pairedPoint,".").concat(qp(Qu,i))).each((function(n){Ie(this).select("g").transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform",(function(){return $p(t,i)(n)(Sf(this))}))}))}))}(t,n,e)},oy=function(t,n){var e=[];return t.shownTargets.forEach((function(t){n.contentKeys.forEach((function(n){t.includes(n)&&!e.includes(n)&&e.push(n)}))})),$h(e,n.content)},sy=function(t,n,e,i){var r=i.key;oy(n,t)?n.shownTargets.concat([r]).forEach((function(t){!function(t,n,e){t.selectAll(".".concat(Qu.region,'[aria-describedby="').concat(n,'"]')).attr("aria-hidden",!e)}(e,"region_".concat(t),n.shownTargets.indexOf(t)>-1)})):!n.shouldHideAllRegion&&n.shownTargets.length>0&&Jh(e)?e.selectAll(".".concat(Qu.region)).attr("aria-hidden",!1):Zh(e)},cy=function(t,n,e,i){return function(n,r){Sh(n);var a,o,s,c=Ih(Ie(n));a=e.shownTargets,o=r,(s=a.indexOf(o.key))>-1?a.splice(s,1):a.push(o.key),i.selectAll('path[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",c),i.selectAll(".".concat(Qu.pairedPoint,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",c);var u="url(#".concat(e.clipPathId,")");rc(".".concat(Qu.pairedBoxGroup)).each((function(){if(Ie(this).attr("clip-path")===u){var t=Ie(this).selectAll(".".concat(Qu.pairedBox));ry(e,t)}})),window.requestAnimationFrame(function(t,n,e,i){return function(){sy(t,n,e,i)}}(t,e,i,r))}},uy=function(t,n){return function(e,i){Dh(t.shownTargets,n,e.key,i,[function(t,n,e,i,r){n.selectAll(".".concat(Qu.region,'[aria-describedby="region_').concat(r,'"]')).classed(Qu.regionBlur,i===Su.HOVER_EVENT.MOUSE_ENTER)}]),n.selectAll('path[aria-describedby="'.concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll(".".concat(Qu.pairedPoint,'[aria-describedby="').concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),td(t.shownTargets,n,e.key,i)}},ly=function(t,n,e,i){e.label&&i&&Jp((function(r){var a=qp(e.label,r);a&&a.display&&Ah(i,function(t,n){return{shape:qp(t.shape,n),color:qp(t.color,n),label:qp(t.label,n),key:"".concat(t.key,"_").concat(n),values:e.values,legendOptions:e.legendOptions}}(e,r),t,n)}))},fy=function(t,n){return nh(t,'g[aria-describedby="'.concat(n.key,'"]'))},hy=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Bu(this.input),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),dy=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS;return r()({},n,{min:Math.min.apply(Math,h()(t.map((function(t){return Math.min.apply(Math,h()(Object.keys(t).map((function(n){return t[n].y}))))})))),max:Math.max.apply(Math,h()(t.map((function(t){return Math.max.apply(Math,h()(Object.keys(t).map((function(n){return t[n].y}))))}))))})},gy=function(t){function n(n){var e,i;return(e=t.call(this)||this).config=(i=n,(new hy).setInput(i).validateInput().clone().getConfig()),e.type="PairedResult",e.config.yAxis=Yu(e.config.yAxis,Su.Y_AXIS),e.valuesRange=dy(e.config.values,e.config.yAxis),e.dataTarget={},e}l()(n,t);var e=n.prototype;return e.load=function(t){var n,e,i,r,a,o=this;return this.dataTarget=iy(t.config,this.config),ey(t.scale,t.config,t.svg,this.dataTarget),Hu.isEmptyArray(this.dataTarget.values)||!Hu.notEmpty(this.dataTarget.regions)&&!Hu.notEmpty(this.dataTarget.valueRegionSubset)||(n=t.scale,e=t.config,i=t.svg,r=this.dataTarget,(a=i.select(".".concat(Qu.regionGroup)).append("g").classed(Qu.regionPairGroup,!0).attr("aria-describedby","region_".concat(r.key))).call((function(){Jp((function(t){if(r.valueRegionSubset&&r.valueRegionSubset[t])Wh(n,e,a,r.valueRegionSubset[t],"region_".concat(r.key,"_").concat(t),r.yAxis);else if(r.regions&&r.regions[t]){if(!Hu.isArray(r.regions[t])||Hu.isUndefined(r.regions[t]))throw new Error(K);Kh(n,e,a,r.regions[t],"region_".concat(r.key,"_").concat(t),r.yAxis)}}))}))),ly(t.config,{clickHandler:cy(t,0,t.config,t.svg),hoverHandler:uy(t.config,t.svg)},this.dataTarget,t.legendSVG),t.axesLabelShapeGroup[this.config.yAxis]&&Jp((function(n){gh(t.config,{key:"".concat(o.dataTarget.key,"_").concat(n),label:qp(o.dataTarget.label,n),color:qp(o.dataTarget.color,n),shape:qp(o.dataTarget.shape,n),values:o.dataTarget.values},t.axesLabelShapeGroup[o.config.yAxis])})),this},e.unload=function(t){var n=this;return fy(t.svg,this.dataTarget),Yh(t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget),Jp((function(e){var i="".concat(n.dataTarget.key,"_").concat(e);wh(t.legendSVG,{key:i}),ph(t.axesLabelShapeGroup[n.config.yAxis],{key:i},t.config)})),this.dataTarget={},this.config={},this},e.resize=function(t){var n=this;if(Hu.notEmpty(this.dataTarget.values)){if(Hu.notEmpty(this.dataTarget.regions)||Hu.notEmpty(this.dataTarget.valueRegionSubset)){var e=this.dataTarget.values;if(oy(t.config,t))t.config.shouldHideAllRegion=!1;else if(t.content.length>1){var i=e.every((function(t){return function(t,n){return Object.keys(t).every((function(t){return Object.prototype.hasOwnProperty.call(n,t)}))}(t,n.dataTarget.regions||n.dataTarget.valueRegionSubset)}));t.config.shouldHideAllRegion=!i||t.config.shouldHideAllRegion||!Jh(t.svg)}qh(t.scale,t.config,t.svg.select('g[aria-describedby="region_'.concat(this.dataTarget.key,'"]')),this.dataTarget.yAxis,Hu.notEmpty(this.dataTarget.valueRegionSubset))}else t.config.shouldHideAllRegion=!0;t.config.shouldHideAllRegion&&Zh(t.svg)}return ay(t.scale,t.svg,t.config),this},e.reflow=function(t,n){var e=this,i={clickHandler:cy(t,0,t.config,t.svg),hoverHandler:uy(t.config,t.svg)},r=!!this.config.values.length;this.config.values=n.values,this.dataTarget=iy(t.config,this.config,r);["high","mid","low"].forEach((function(e){var r=qp(t.contentConfig[0].label,e);r&&r.display&&Rh(t.legendSVG,function(t,n){return{shape:qp(t.shape,n),color:qp(t.color,n),label:qp(t.label,n),key:"".concat(t.key,"_").concat(n),values:t.values,legendOptions:t.legendOptions,type:n}}(t.contentConfig.filter((function(t){return t.key===n.key}))[0],e),t,i)})),Hu.isEmpty(n.values)&&Jp((function(n){var i="".concat(e.dataTarget.key,"_").concat(n);ph(t.axesLabelShapeGroup[e.config.yAxis],{key:i},t.config)}));var a=ny(this.dataTarget);t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll(".".concat(Qu.pairedBox)).remove();var o=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll(".".concat(Qu.pairedBox)).data(a);o.enter().append("g").classed(Qu.pairedBox,!0).attr("aria-selected",!1).attr("transform","translate(".concat(Xl(t.config),",").concat(zl(t.config),")")).call((function(n){Wp(t.scale,t.config,n),Qp(t.scale,t.config,n),ty(t.scale,t.config,n)})),o.exit().remove(),this.valuesRange=dy(this.config.values,this.config.yAxis),this.resize(t)},e.redraw=function(t){return fy(t.svg,this.dataTarget),ey(t.scale,t.config,t.svg,this.dataTarget),this},n}($u),py=function(t,n){return n.height?n.height:Su.PIE_CHART_DEFAULT_HEIGHT},yy=function(){return function(){var t=Cc,n=Lc,e=null,i=ac(0),r=ac(pc),a=ac(0);function o(o){var s,c,u,l,f,h=o.length,d=0,g=new Array(h),p=new Array(h),y=+i.apply(this,arguments),v=Math.min(pc,Math.max(-pc,r.apply(this,arguments)-y)),m=Math.min(Math.abs(v)/h,a.apply(this,arguments)),x=m*(v<0?-1:1);for(s=0;s<h;++s)(f=p[g[s]=s]=+t(o[s],s,o))>0&&(d+=f);for(null!=n?g.sort((function(t,e){return n(p[t],p[e])})):null!=e&&g.sort((function(t,n){return e(o[t],o[n])})),s=0,u=d?(v-h*x)/d:0;s<h;++s,y=l)c=g[s],l=y+((f=p[c])>0?f*u:0)+x,p[c]={data:o[c],index:s,value:f,startAngle:y,endAngle:l,padAngle:m};return p}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:ac(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,e=null,o):n},o.sort=function(t){return arguments.length?(e=t,n=null,o):e},o.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ac(+t),o):i},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:ac(+t),o):r},o.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:ac(+t),o):a},o}().value((function(t){return t.value}))},vy=function(t){return function(){var t=mc,n=xc,e=ac(0),i=null,r=bc,a=Tc,o=Ec,s=null;function c(){var c,u,l=+t.apply(this,arguments),f=+n.apply(this,arguments),h=r.apply(this,arguments)-gc,d=a.apply(this,arguments)-gc,g=oc(d-h),p=d>h;if(s||(s=c=Br()),f<l&&(u=f,f=l,l=u),f>1e-12)if(g>pc-1e-12)s.moveTo(f*cc(h),f*fc(h)),s.arc(0,0,f,h,d,!p),l>1e-12&&(s.moveTo(l*cc(d),l*fc(d)),s.arc(0,0,l,d,h,p));else{var y,v,m=h,x=d,b=h,T=d,E=g,_=g,A=o.apply(this,arguments)/2,w=A>1e-12&&(i?+i.apply(this,arguments):hc(l*l+f*f)),k=lc(oc(f-l)/2,+e.apply(this,arguments)),I=k,S=k;if(w>1e-12){var D=vc(w/l*fc(A)),L=vc(w/f*fc(A));(E-=2*D)>1e-12?(b+=D*=p?1:-1,T-=D):(E=0,b=T=(h+d)/2),(_-=2*L)>1e-12?(m+=L*=p?1:-1,x-=L):(_=0,m=x=(h+d)/2)}var C=f*cc(m),N=f*fc(m),R=l*cc(T),P=l*fc(T);if(k>1e-12){var O,M=f*cc(x),G=f*fc(x),U=l*cc(b),F=l*fc(b);if(g<dc&&(O=_c(C,N,U,F,M,G,R,P))){var H=C-O[0],B=N-O[1],Y=M-O[0],V=G-O[1],X=1/fc(yc((H*Y+B*V)/(hc(H*H+B*B)*hc(Y*Y+V*V)))/2),z=hc(O[0]*O[0]+O[1]*O[1]);I=lc(k,(l-z)/(X-1)),S=lc(k,(f-z)/(X+1))}}_>1e-12?S>1e-12?(y=Ac(U,F,C,N,f,S,p),v=Ac(M,G,R,P,f,S,p),s.moveTo(y.cx+y.x01,y.cy+y.y01),S<k?s.arc(y.cx,y.cy,S,sc(y.y01,y.x01),sc(v.y01,v.x01),!p):(s.arc(y.cx,y.cy,S,sc(y.y01,y.x01),sc(y.y11,y.x11),!p),s.arc(0,0,f,sc(y.cy+y.y11,y.cx+y.x11),sc(v.cy+v.y11,v.cx+v.x11),!p),s.arc(v.cx,v.cy,S,sc(v.y11,v.x11),sc(v.y01,v.x01),!p))):(s.moveTo(C,N),s.arc(0,0,f,m,x,!p)):s.moveTo(C,N),l>1e-12&&E>1e-12?I>1e-12?(y=Ac(R,P,M,G,l,-I,p),v=Ac(C,N,U,F,l,-I,p),s.lineTo(y.cx+y.x01,y.cy+y.y01),I<k?s.arc(y.cx,y.cy,I,sc(y.y01,y.x01),sc(v.y01,v.x01),!p):(s.arc(y.cx,y.cy,I,sc(y.y01,y.x01),sc(y.y11,y.x11),!p),s.arc(0,0,l,sc(y.cy+y.y11,y.cx+y.x11),sc(v.cy+v.y11,v.cx+v.x11),p),s.arc(v.cx,v.cy,I,sc(v.y11,v.x11),sc(v.y01,v.x01),!p))):s.arc(0,0,l,T,b,p):s.lineTo(R,P)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-dc/2;return[cc(i)*e,fc(i)*e]},c.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:ac(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ac(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ac(+t),c):e},c.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:ac(+t),c):i},c.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:ac(+t),c):r},c.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ac(+t),c):a},c.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:ac(+t),c):o},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}().innerRadius(Su.DEFAULT_PIE_INNER_RADIUS).outerRadius(t).padAngle(Su.DEFAULT_PIE_PAD_ANGLE)},my=function(t){return Ie(t.parentNode).selectAll(".".concat(Qu.pieContentGroup))},xy=function(t,n,e){t.select(".".concat(Qu.pieLegendItem,'[aria-describedby="').concat(e,'"]')).classed(Qu.pieLegendItemSliceHover,!0),n.each((function(){var t=Ie(this);t.classed(Qu.blur,t.attr("aria-describedby")!==e)}))},by=function(t,n,e){var i=my(n);return xy(t,i,e),function(t,n){t.each((function(){var t=Ie(this);t.attr("aria-selected",t.attr("aria-describedby")===n)}))}(i,e),Ie(n)},Ty=function(t,n){t.selectAll(".".concat(Qu.pieLegendItem)).classed(Qu.pieLegendItemSliceHover,!1),n.each((function(){Ie(this).classed(Qu.blur,!1)}))},Ey=function(t,n,e,i){Hu.isEmpty(n.onClick)||by(t,i,n.key).call((function(r){return n.onClick((function(){Ty(t,my(i)),my(i).each((function(){Ie(this).attr("aria-selected",!1)}))}),n.key,e,n,r)}))},_y=function(t,n,e,i){var r=my(n);if(i===Su.HOVER_EVENT.MOUSE_ENTER)xy(t,r,e);else{if("true"===Ie(n).attr("aria-selected"))return;Ty(t,r)}},Ay=function(t,n){return function(e,i){var r=n.selectAll(".".concat(Qu.pieContentGroup));i===Su.HOVER_EVENT.MOUSE_ENTER?xy(t,r,e.key):Ty(t,r)}},wy=function(t,n){return t.selectAll(".".concat(Qu.pieContentSlice)).data(n(function(t){return t.selectAll(".".concat(Qu.pieContentGroup)).data()}(t)))},ky=function(t,n,e,i){var r;(r=n.selectAll(".".concat(Qu.pieContentSlice))).empty()||r.html(null),wy(n,e).append("path").attr("fill",(function(t){return t.data.color})).transition().call(Su.d3Transition(Su.D3_TRANSITION_PROPERTIES_ENABLED)).attrTween("d",(function(t){var n=Ti(t.startAngle,t.endAngle);return function(e){return t.endAngle=n(e),i(t)}}))},Iy=function(t,n){return n.clipPathId=Xu(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.dimension=Yu(t.dimension,{}),n.showLegend=Yu(t.showLegend,!0),n.legendPadding=function(t,n){return Hu.isDefined(t.legendPadding)?{top:Yu(n.top,Su.PIE_LEGEND_PADDING.top),bottom:Yu(n.bottom,Su.PIE_LEGEND_PADDING.bottom),right:Yu(n.right,Su.PIE_LEGEND_PADDING.right),left:Yu(n.left,Su.PIE_LEGEND_PADDING.left),hasCustomLegendPadding:!0}:{top:Su.PIE_LEGEND_PADDING.top,bottom:Su.PIE_LEGEND_PADDING.bottom,right:Su.PIE_LEGEND_PADDING.right,left:Su.PIE_LEGEND_PADDING.left,hasCustomLegendPadding:!1}}(n,t.legendPadding),n},Sy=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Hu.isEmpty(this.input))throw new Error(T);if(Hu.isEmpty(this.input.bindTo))throw new Error(E);return this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt);function Dy(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function Ly(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Dy(Object(e),!0).forEach((function(n){r()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Dy(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var Cy=function(t,n,e,i,r){var a=function(t,n,e,i,r){return n.append("g").classed(Qu.pieContentGroup,!0).attr("transform","translate(".concat(t.canvasRadius,",").concat(t.canvasRadius,")")).attr("aria-labelledby",i.label.display).attr("aria-describedby",i.key).attr("aria-disabled",!Hu.isFunction(r.onClick)).attr("aria-selected",!1).on("click",(function(t,n){Ey(e,t,n,this)})).on("mouseenter",(function(t){_y(e,this,t.key,Su.HOVER_EVENT.MOUSE_ENTER)})).on("mouseleave",(function(t){_y(e,this,t.key,Su.HOVER_EVENT.MOUSE_EXIT)}))}(n.config,e,i,t.config,r);a.data([r]),n.config,a.append("g").classed(Qu.pieContentSlice,!0)},Ny=function(t){return function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(I);if(Hu.isEmpty(t.label)||Hu.isEmpty(t.label.display))throw new Error(S);if(Hu.isEmpty(t.value))throw new Error(w)}(t),Hu.deepClone(t)},Ry=function(t){function n(n){var e;return(e=t.call(this)||this).config=Ny(n),e.dataTarget=null,e}l()(n,t);var e=n.prototype;return e.load=function(t){if(!mp(t.contentConfig,this.config.key))throw new Error(I);var n;return this.dataTarget=(t.config,Ly(Ly({},n=this.config),{},{onClick:n.onClick,color:n.color||Su.DEFAULT_PIE_COLOR,shape:Su.DEFAULT_PIE_LEGEND_SHAPE,label:n.label||{},key:n.key})),Cy(this,t,t.svg.select(".".concat(Qu.pieChartContent)),t.legendSVG,this.dataTarget),function(t,n,e,i){e&&Lh(e,t,{hoverHandler:Ay(e,n)},i)}(this.dataTarget,t.svg,t.legendSVG,t.config),this},e.unload=function(t){var n,e;return n=t.svg,e=this.dataTarget,nh(n,'g[aria-describedby="'.concat(e.key,'"]')),wh(t.legendSVG,this.dataTarget),this.dataTarget={},this.config={},this},e.resize=function(t){return ky(t.config,t.svg.select(".".concat(Qu.pieChartContent)),t.d3PieLayoutTransformer,t.d3PieArcTransformer),this},e.redraw=function(){return this},n}($u),Py=function(t){return t.graphContainer=null,t.config={},t.svg=null,t.legendSVG=null,t.content=[],t.contentConfig=[],t.resizeHandler=null,t.d3PieLayoutTransformer=null,t.d3PieArcTransformer=null,t},Oy=function(t){var n;return t.graphContainer,(n=t.config).canvasWidth=n.width,function(t){t.canvasHeight=t.height}(t.config),function(t){t.canvasRadius=Jt([t.height,t.width])/2}(t.config),t.d3PieLayoutTransformer=yy(),t.d3PieArcTransformer=vy(t.config.canvasRadius),t},My=function(t){function n(n){var e;return e=t.call(this)||this,Py(c()(e)),e.generate(n),e}l()(n,t);var e=n.prototype;return e.generate=function(t){var n,e;this.config=(n=t,(new Sy).setInput(n).validateInput().clone().getConfig()),Iy(t,this.config),(e=this).graphContainer=Ie(e.config.bindTo),e.config.height=py(e.config,e.config.dimension),e.config.width=py(e.config,e.config.dimension),Oy(this);var i,r=Ie(this.config.bindTo).append("div").classed(Qu.container,!0).style("padding-top",this.config.removeContainerPadding&&0).style("padding-bottom",this.config.removeContainerPadding&&0);return this.svg=r.insert("svg",":first-child").classed(Qu.pieChartCanvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.canvasWidth),i=this.config,this.svg.append("defs").append("clipPath").attr("id",i.clipPathId).append("rect").attr(Su.X_AXIS,0).attr(Su.Y_AXIS,0).attr("width",i.height).attr("height",i.height),function(t,n){n.append("g").classed(Qu.pieChartContent,!0).attr("clip-path","url(#".concat(t.clipPathId,")"))}(this.config,this.svg),this.config.showLegend&&(this.legendSVG=kh(this.config,this.config.bindLegendTo?Ie(this.config.bindLegendTo):r)),Qf(this),this.svg},e.resize=function(){var t,n;return n=(t=this).config,t.svg.select("clipPath#".concat(n.clipPathId)).selectAll("rect").attr("height",n.canvasHeight).attr("width",n.canvasWidth),this},e.loadContent=function(t){var n=this;return Md(t,(function(t){var e=new Ry(t);e.load(n),n.content.push(t.key),n.contentConfig.push(e)})),this.contentConfig.forEach((function(t){return t.resize(n)})),this},e.unloadContent=function(t){var n=this,e=this.content.indexOf(t.key);if(e<0)throw new Error(M);return this.contentConfig[e].unload(this),this.content.splice(e,1),this.contentConfig.splice(e,1),this.contentConfig.forEach((function(t){return t.resize(n)})),this},e.destroy=function(){return th(this),nh(this.graphContainer,".".concat(Qu.pieChartCanvas)),nh(this.graphContainer,".".concat(Qu.container)),Py(this),this},n}(Od),Gy=function(t,n,e,i){jy(t,n,e),i.select(".".concat(Qu.axisX)).transition().call(Su.d3Transition(e.settingsDictionary.transition)).attr("transform","translate(".concat(Yy(e),",").concat(Vy(e),")")).call(t.x)},Uy=function(t,n){return function(e){return function(i){var r;return"translate(".concat((r=e,t.x(r.x)),",").concat(Vy(n),") scale(").concat(i,")")}}},Fy=function(t,n,e,i,r){return e.select(".".concat(Qu.timelineContentGroup,'[aria-describedby="').concat(i,'"]')).selectAll(r).each((function(e){Ie(this).select("g").transition().call(Su.d3Transition(n.settingsDictionary.transition)).attr("transform",(function(){return Uy(t,n)(e)(Sf(this))}))}))},Hy=function(t){var n;Hf(t.config,t.svg),n=t.config,t.svg.select("clipPath#".concat(n.clipPathId)).selectAll("rect").attr("height",Kl(n)).attr("width",Xy(n)),Gy(t.axis,t.scale,t.config,t.svg),function(t,n){t.axis.x.label&&n.select(".".concat(Qu.axisLabelX)).transition().call(Su.d3Transition(t.settingsDictionary.transition)).attr("transform","translate(".concat(zy(t),",").concat(Ky(t),") rotate(").concat(tf(Su.X_AXIS),")"))}(t.config,t.svg)},By=Su.TIMELINE_HEIGHT,Yy=function(t){return t.padding.left},Vy=function(t){return 1.5*t.padding.top+t.padding.bottom},Xy=function(t){return t.canvasWidth-t.padding.left-t.padding.right},zy=function(t){return Yy(t)+Xy(t)/2},Ky=function(t){return Vy(t)+2*t.axisLabelHeights.x+4*t.padding.bottom},jy=function(t,n,e){return t.x=Ol(n.x,e.axis.x.ticks.values,Xy(e),Gl(e.d3Locale,e.axis.x.ticks.format,e.axis.x.type)).tickSize(Su.DEFAULT_TIMELINE_TICK_LENGTH),t},Wy=function(t,n){t.x=tc().domain(n.axis.x.domain).range([0,Xy(n)]).clamp(n.settingsDictionary.shouldClamp),n.axis.x.rangeRounding&&t.x.nice()},qy=function(t,n){return n.append("defs").append("clipPath").attr("id",t.clipPathId).append("rect").attr(Su.X_AXIS,Yy(t)).attr(Su.Y_AXIS,Vy(t)/2).attr("width",Xy(t)).attr("height",Kl(t))},Jy=function(t,n,e,i){jy(t,n,e),i.append("g").classed(Qu.axis,!0).classed(Qu.axisX,!0).attr("aria-hidden",!1).attr("transform","translate(".concat(Yy(e),", ").concat(Vy(e),")")).call(t.x)},Zy=function(t,n,e){Hu.isEmpty(t.onClick)||function(t){var n=Ie(t.parentNode).select(".".concat(Qu.dataPointSelection));return n.attr("aria-hidden",!("true"===n.attr("aria-hidden"))),n}(e).call((function(e){return t.onClick((function(){e.attr("aria-hidden",!0)}),t.key,n,t,e)}))},$y=function(t,n,e){var i=t.path,r=t.value,a=t.index,o=n.objectScale,s=n.hiddenConfig,c=n.fillStyle,u=n.shapeStyle,l=n.pointStyle,f=e.scale,h=e.config,d=e.cls;i.append((function(){return new ul(Kd(u,o)).getShapeElement(sl({svgClassNames:"".concat(l," ").concat(d),svgStyles:"fill: ".concat(c,";"),transformFn:Uy(f,h)(r),onClickFn:function(){Zy(r,a,this)},a11yAttributes:{"aria-describedby":r.key,"aria-hidden":s,"aria-disabled":!Hu.isFunction(r.onClick)}}))}))},Qy=function(t,n,e){var i=function(n,e,i,r,a){var o,s=Su.DEFAULT_TIMELINE_SCALE,c="false"===(null===(o=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===o?void 0:o.getAttribute("aria-current")),u=Zf(e);$y({path:n,value:e,index:i},{objectScale:s,hiddenConfig:c,fillStyle:void 0,shapeStyle:u,pointStyle:Qu.point},{scale:t,config:a,cls:r})};e.append("g").classed(Qu.pointGroup,!0).each((function(e,r){var a,o,s,c,u=Ie(this);a=u,o=e,s=r,c=Su.DEFAULT_TIMELINE_PLOT_SELECTION_SCALE,$y({path:a,value:o,index:s},{objectScale:c,hiddenConfig:!0,fillStyle:void 0,shapeStyle:_u.CIRCLE,pointStyle:void 0},{scale:t,config:n,cls:Qu.dataPointSelection}),e.isCritical&&(i(u,e,r,Qu.criticalityTimelineOuterPoint,n),i(u,e,r,Qu.criticalityTimelineInnerPoint,n)),function(e,i,r){var a,o=Su.DEFAULT_TIMELINE_SCALE,s="false"===(null===(a=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(i.key,'"]')))||void 0===a?void 0:a.getAttribute("aria-current")),c=$f(i),u=Zf(i);$y({path:e,value:i,index:r},{objectScale:o,hiddenConfig:s,fillStyle:c,shapeStyle:u,pointStyle:Qu.point},{scale:t,config:n,cls:void 0})}(u,e,r)}))},tv=function(t,n,e,i){return function(t,n){var r,a,o;Sh(t),r=e.shownTargets,a=n,(o=r.indexOf(a.key))>-1?r.splice(o,1):r.push(a.key),i.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(n.key,'"]')).attr("aria-hidden",Ih(Ie(t))),window.requestAnimationFrame((function(){}))}},nv=function(t,n){return function(e,i){Dh(t,n,e.key,i,[function(t,n,e,r,a){n.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER)}])}},ev=function(t,n){return nh(t,'g[aria-describedby="'.concat(n.key,'"]'))},iv=function(t,n){var e=Hu.deepClone(t.axis);return n.clipPathId=Xu(),n.bindTo=t.bindTo,n.bindLegendTo=t.bindLegendTo,n.padding=function(t,n){return Hu.isDefined(t.padding)?{top:Yu(n.top,Su.PADDING.top),bottom:Yu(n.bottom,Su.PADDING.bottom),right:Yu(n.right,Su.PADDING.right),left:Yu(n.left,Su.PADDING.left),hasCustomPadding:!0}:{top:Su.PADDING.top,bottom:Su.PADDING.bottom,right:Su.PADDING.right,left:Su.PADDING.left,hasCustomPadding:!1}}(n,t.padding),n.padding.hasCustomPadding=Hu.isDefined(t.padding),n.legendPadding=Nh(n,t.legendPadding),n.axis={x:{}},n.d3Locale=Yu(t.locale,dl),n.throttle=Yu(t.throttle,Su.RESIZE_THROTTLE),n.settingsDictionary=function(t){return Ju(t)?{shouldClamp:!1,transition:Su.D3_TRANSITION_PROPERTIES_DISABLED}:{shouldClamp:!0,transition:Su.D3_TRANSITION_PROPERTIES_ENABLED}}(t),n.showLabel=Yu(t.showLabel,!0),n.showLegend=Yu(t.showLegend,!0),n.axis.x=Fd()(e.x,{type:wu.TIME_SERIES,show:!0,ticks:Yu(e.x.ticks,{}),domain:Wu(wu.TIME_SERIES,e.x.lowerLimit,e.x.upperLimit),rangeRounding:Yu(e.x.rangeRounding,!0)}),n.shownTargets=[],n},rv=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){if(Hu.isEmpty(this.input))throw new Error(_);if(Hu.isEmpty(this.input.bindTo))throw new Error(E);if(Hu.isEmpty(this.input.axis)||Hu.isEmpty(this.input.axis.x))throw new Error(L);if(Hu.isEmpty(this.input.axis.x.lowerLimit)||Hu.isEmpty(this.input.axis.x.upperLimit))throw new Error(C);if(!Hu.isDate(this.input.axis.x.lowerLimit)||!Hu.isDate(this.input.axis.x.upperLimit))throw new Error(P);return this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),av=function(t){if(!Hu.isDate(t))throw new Error(O);return Hu.parseDateTime(t)},ov=function(t,n){return t.shownTargets.push(n.key),n.internalValuesSubset=n.values.map((function(t){return{onClick:n.onClick,isCritical:t.isCritical||!1,x:av(t.x),content:t.content,color:n.color||Su.DEFAULT_COLOR,label:n.label||{},shape:n.shape||_u.CIRCLE,key:n.key}})),n},sv=function(t,n,e,i,r){var a=function(t,n,e){return n.append("g").classed(Qu.timelineContentGroup,!0).attr("transform","translate(".concat(Yy(t),",0)")).attr("aria-labelledby",e.label.display).attr("aria-describedby",e.key)}(e,i,t.config).selectAll(".".concat(Qu.point)).data(r.internalValuesSubset);Qy(n,e,a.enter()),a.exit().transition().call(Su.d3Transition).remove()},cv=function(t){return function(t){if(Hu.isEmpty(t))throw new Error(A);if(Hu.isEmpty(t.key))throw new Error(I);if(Hu.isEmpty(t.label)||Hu.isEmpty(t.label.display))throw new Error(S);if(Hu.isEmpty(t.values))throw new Error(w)}(t),Hu.deepClone(t)},uv=function(t){function n(n){var e;return(e=t.call(this)||this).config=cv(n),e.dataTarget=null,e}l()(n,t);var e=n.prototype;return e.load=function(t){if(!mp(t.contentConfig,this.config.key))throw new Error(I);var n,e,i,r;return this.dataTarget=ov(t.config,this.config),sv(this,t.scale,t.config,t.svg.select(".".concat(Qu.timelineGraphContent)),this.dataTarget),n=t.config,e={clickHandler:tv(0,0,t.config,t.svg),hoverHandler:nv(t.config.shownTargets,t.svg)},i=this.dataTarget,r=t.legendSVG,i.label&&i.label.display&&r&&Ah(r,i,n,e),this},e.unload=function(t){return ev(t.svg,this.dataTarget),wh(t.legendSVG,this.dataTarget),this.dataTarget={},this.config={},this},e.resize=function(t){return Fy(t.scale,t.config,t.svg,this.config.key,".".concat(Qu.point)),Fy(t.scale,t.config,t.svg,this.config.key,".".concat(Qu.dataPointSelection)),this},e.reflow=function(t,n){this.config.values=n.values,this.dataTarget=ov(t.config,this.config);var e=t.config.shownTargets.lastIndexOf(n.key);e>-1&&t.config.shownTargets.splice(e,1),t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll(".".concat(Qu.pointGroup)).data(this.dataTarget).exit().remove();var i=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll('[class*="'.concat(Qu.point,'"]')).data(this.dataTarget.internalValuesSubset);Qy(t.scale,t.config,i.enter()),i.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove(),this.resize(t)},e.redraw=function(t){return ev(t.svg,this.dataTarget),sv(this,t.scale,t.config,t.svg.select(".".concat(Qu.timelineGraphContent)),this.dataTarget),this},n}($u),lv=Su.BASE_CANVAS_WIDTH_PADDING,fv=function(t,n){n.canvasWidth=parseInt(t.style("width"),10)-Gd(t)},hv=function(t){var n;return t.graphContainer=Ie(t.config.bindTo),t.config.height=(n=t.config,By+n.padding.top-n.padding.bottom),t},dv=function(t){return t.graphContainer=null,t.config={axis:{x:{}},shownTargets:{},pan:{}},t.axis={},t.scale={},t.svg=null,t.legendSVG=null,t.content=[],t.contentConfig=[],t.resizeHandler=null,t},gv=function(t){var n;return fv(t.graphContainer,t.config),(n=t.config).axisSizes={},n.axisSizes.x=sf(n),function(t){t.axisLabelHeights={},t.axisLabelHeights.x=0,t.showLabel&&t.axis.x.label&&(t.axisLabelHeights.x=df(t.axis.x.label))}(t.config),function(t){t.canvasHeight=Kl(t)+2*(2*t.padding.bottom+t.padding.top)}(t.config),Wy(t.scale,t.config),t},pv=function(t){function n(n){var e;return e=t.call(this)||this,dv(c()(e)),e.generate(n),e}l()(n,t);var e=n.prototype;return e.generate=function(t){var n;this.config=(n=t,(new rv).setInput(n).validateInput().clone().getConfig()),iv(t,this.config),hv(this),gv(this);var e=Ie(this.config.bindTo).append("div").classed(Qu.container,!0).style("padding-top",this.config.removeContainerPadding&&0).style("padding-bottom",this.config.removeContainerPadding&&0);this.svg=e.insert("svg",":first-child").classed(Qu.canvas,!0).attr("role","img").attr("height",this.config.canvasHeight).attr("width",this.config.padding.hasCustomPadding?this.config.canvasWidth:this.config.canvasWidth-lv),qy(this.config,this.svg),Jy(this.axis,this.scale,this.config,this.svg);var i,r=document.getElementsByClassName("tick"),a=r[0].getBoundingClientRect().width,o=r[r.length-1].getBoundingClientRect().width;return document.getElementsByClassName("carbon-axis carbon-axis-x")[0].getBoundingClientRect().width+a/2+o/2>this.config.canvasWidth&&(nh(this.graphContainer,"defs"),nh(this.graphContainer,".".concat(Qu.axisX)),this.config.padding.left=a/2,this.config.padding.right=o/2,qy(this.config,this.svg),Jy(this.axis,this.scale,this.config,this.svg)),i=this.config,this.svg.append("g").classed(Qu.timelineGraphContent,!0).attr("clip-path","url(#".concat(i.clipPathId,")")),function(t,n){if(t.showLabel&&t.axis.x.label){var e=n.append("g").classed(Qu.axisLabelX,!0).attr("transform","translate(".concat(zy(t),",").concat(Ky(t),") rotate(").concat(tf(Su.X_AXIS),")"));ff(e,Hu.sanitize(t.axis.x.label))}}(this.config,this.svg),this.config.showLegend&&(this.legendSVG=kh(this.config,this.config.bindLegendTo?Ie(this.config.bindLegendTo):e)),Qf(this),this.svg},e.resize=function(){var t=this;return fv(this.graphContainer,this.config),Wy(this.scale,this.config),Hy(this),this.contentConfig.forEach((function(n){return n.resize(t)})),this},e.loadContent=function(t){var n=new uv(t);return n.load(this),this.content.push(t.key),this.contentConfig.push(n),this.resize(),this},e.unloadContent=function(t){var n=this.content.indexOf(t.key);if(n<0)throw new Error(M);return this.contentConfig[n].unload(this),this.content.splice(n,1),this.contentConfig.splice(n,1),this.resize(),this},e.reflow=function(t){var n,e={clickHandler:tv(0,0,this.config,this.svg),hoverHandler:nv(this.config.shownTargets,this.svg)};return mf(this.config),Wy(this.scale,this.config),Gy(this.axis,this.scale,this.config,this.svg),t&&t.values&&this.content.includes(t.key)&&(this.contentConfig.forEach((function(e,i){e.config.key===t.key&&(n=i)})),this.contentConfig[n].reflow(this,t)),Rh(this.legendSVG,this.contentConfig[0].config,this,e),this.resize(),this},e.destroy=function(){return th(this),nh(this.graphContainer,".".concat(Qu.canvas)),nh(this.graphContainer,".".concat(Qu.container)),dv(this),this},n}(Od),yv=function(t){return function(n){return function(e){var i;return"translate(".concat((i=n,t.x(i.x)),",").concat(function(n){return t[n.yAxis](n.y)}(n),") scale(").concat(e,")")}}},vv=function(t,n,e,i){return n.selectAll(".".concat(Qu.scatterGraphContent," .").concat(e)).each((function(n){Ie(this).select("g").transition().call(Su.d3Transition(i.settingsDictionary.transition)).attr("transform",(function(){return yv(t)(n)(Sf(this))}))}))},mv=function(t,n,e){Hu.isEmpty(t.onClick)||function(t){var n=Ie(t.parentNode).select(".".concat(Qu.dataPointSelection));return n.attr("aria-hidden",!("true"===n.attr("aria-hidden"))),n}(e).call((function(e){return t.onClick((function(){e.attr("aria-hidden",!0)}),t.key,n,t,e)}))},xv=function(t){return t.internalValuesSubset},bv=function(t,n,e){var i=function(n,e,i,r){return n.append((function(){var n;return new ul(Zf(e)).getShapeElement(sl({svgClassNames:"".concat(Qu.point," ").concat(r),transformFn:yv(t)(e),onClickFn:function(){mv(e,i,this)},a11yAttributes:{"aria-hidden":"false"===(null===(n=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===n?void 0:n.getAttribute("aria-current")),"aria-describedby":e.key,"aria-disabled":!Hu.isFunction(e.onClick)}}))}))};e.append("g").classed(Qu.pointGroup,!0).each((function(e,r){var a,o,s=Ie(this);a=e,o=r,s.append((function(){return new ul(Kd(_u.CIRCLE,Su.DEFAULT_PLOT_SELECTION_SCALE)).getShapeElement(sl({svgClassNames:Qu.dataPointSelection,transformFn:yv(t)(a),onClickFn:function(){mv(a,o,this)},a11yAttributes:{"aria-hidden":!0,"aria-describedby":a.key,"aria-disabled":!Hu.isFunction(a.onClick)}}))})),e.isCritical&&(n.hasCriticality=!0,i(s,e,r,Qu.criticalityOuterPoint),i(s,e,r,Qu.criticalityInnerPoint)),function(n,e,i){n.append((function(){var n;return new ul(Zf(e)).getShapeElement(sl({svgClassNames:Qu.point,svgStyles:"fill: ".concat($f(e),";"),transformFn:yv(t)(e),onClickFn:function(){mv(e,i,this)},a11yAttributes:{"aria-hidden":"false"===(null===(n=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===n?void 0:n.getAttribute("aria-current")),"aria-describedby":e.key,"aria-disabled":!Hu.isFunction(e.onClick)}}))}))}(s,e,r)}))},Tv=function(t,n,e,i){var r=e.append("g").classed(Qu.scatterGraphContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-hidden",n.shownTargets.indexOf(i.key)<0).attr("aria-describedby",i.key),a=r.selectAll(".".concat(Qu.currentPointsGroup)).data([i]);a.enter().append("g").classed(Qu.currentPointsGroup,!0).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")),a.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove();var o=r.select(".".concat(Qu.currentPointsGroup)).selectAll(".".concat(Qu.point)).data(xv(i).filter((function(t){return null!==t.y})));bv(t,n,o.enter()),o.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()},Ev=function(t,n){var e=t.axis.x.type,i=function(t){if(!Af(t,e))throw new Error(O);return qu(t,e)};return n.interpolationType=Ku(n.type),n.showShapes=!0,t.shownTargets.push(n.key),n.internalValuesSubset=n.values.map((function(t){return{onClick:n.onClick,isCritical:t.isCritical||!1,x:i(t.x),y:t.y,color:n.color||Su.DEFAULT_COLOR,label:n.label||{},shape:n.shape||_u.CIRCLE,yAxis:n.yAxis||Su.Y_AXIS,key:n.key}})),n},_v=function(t,n,e,i){return function(n,r){Sh(n);var a,o,s,c=Ih(Ie(n));a=e.shownTargets,o=r,(s=a.indexOf(o.key))>-1?a.splice(s,1):a.push(o.key),i.selectAll(".".concat(Qu.dataPointSelection,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",!0),i.selectAll('path[aria-describedby="'.concat(r.key,'"]')).attr("aria-hidden",c),i.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",c),window.requestAnimationFrame(function(t,n,e){return function(){Qh(t,n,e)}}(t,e,i))}},Av=function(t,n){return function(e,i){Dh(t,n,e.key,i,[function(t,n,e,r,a){n.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER)}]),n.selectAll('path[aria-describedby="'.concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),n.selectAll('svg[aria-describedby="'.concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),td(t,n,e.key,i)}},wv=function(t,n){return nh(t,'g[aria-describedby="'.concat(n.key,'"]'))},kv=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Bu(this.input),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),Iv=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS,e=t.filter((function(t){return null!==t.y})).map((function(t){return t.y}));return r()({},n,{min:Math.min.apply(Math,h()(e)),max:Math.max.apply(Math,h()(e))})},Sv=function(t){function n(n){var e,i;return(e=t.call(this)||this).config=(i=n,(new kv).setInput(i).validateInput().clone().getConfig()),e.type="Scatter",e.config.yAxis=Yu(e.config.yAxis,Su.Y_AXIS),e.valuesRange=Iv(e.config.values,e.config.yAxis),e.dataTarget={},e}l()(n,t);var e=n.prototype;return e.load=function(t){var n,e,i,r;return this.dataTarget=Ev(t.config,this.config),Tv(t.scale,t.config,t.svg,this.dataTarget),Hu.notEmpty(this.dataTarget.regions)&&Kh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget.regions,"region_".concat(this.dataTarget.key),this.config.yAxis),n=t.config,e={clickHandler:_v(t,0,t.config,t.svg),hoverHandler:Av(t.config.shownTargets,t.svg)},i=this.dataTarget,r=t.legendSVG,i.label&&i.label.display&&r&&Ah(r,i,n,e),gh(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this},e.unload=function(t){return wv(t.svg,this.dataTarget),Yh(t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget),wh(t.legendSVG,this.dataTarget),ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),this.dataTarget={},this.config={},this},e.resize=function(t){var n,e,i;return Hu.notEmpty(this.dataTarget.regions)?t.content.length>1&&!t.config.shouldHideAllRegion&&(Jh(t.svg)?t.config.shouldHideAllRegion=!1:(Zh(t.svg),t.config.shouldHideAllRegion=!0)):(Zh(t.svg),t.config.shouldHideAllRegion=!0),qh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup))),n=t.scale,e=t.svg,i=t.config,vv(n,e,Qu.point,i),vv(n,e,Qu.dataPointSelection,i),this},e.reflow=function(t,n){this.config.values=n.values;var e={clickHandler:_v(t,0,t.config,t.svg),hoverHandler:Av(t.config.shownTargets,t.svg)};this.dataTarget=Ev(t.config,this.config);var i=t.config.shownTargets.lastIndexOf(n.key);i>-1&&t.config.shownTargets.splice(i,1),Rh(t.legendSVG,t.content.filter((function(t){return t.config.key===n.key}))[0].config,t,e),t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).selectAll(".".concat(Qu.pointGroup)).data(this.dataTarget).exit().remove();var r=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).selectAll('[class*="'.concat(Qu.point,'"]')).data(xv(this.dataTarget));bv(t.scale,t.config,r.enter()),r.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove(),Hu.isEmpty(n.values)&&ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),this.valuesRange=Iv(this.config.values,this.config.yAxis)},e.redraw=function(t){return wv(t.svg,this.dataTarget),Tv(t.scale,t.config,t.svg,this.dataTarget),this},n}($u),Dv=function(t){return Ya().domain([t.weight.min,t.weight.max]).range([Su.DEFAULT_BUBBLE_RADIUS_MIN,Su.DEFAULT_BUBBLE_RADIUS_MAX])},Lv=function(t){var n,e=t.hue.lowerShade,i=t.hue.upperShade;return n=Hu.isUndefined(t.weight)?t.values.map((function(t){return t.y})):t.values.map((function(n){return Dv(t)(n.weight)})),Ya().domain(Ft(n)).range([e,i])},Cv=function(t){var n,e=[];if(n=Hu.isUndefined(t.weight)?t.values.map((function(t){return t.y})):t.values.map((function(n){return Dv(t)(n.weight)})),Hu.isDefined(t.palette))switch(e=t.palette,t.values.length){case 4:3===e.length&&e.unshift(Eu.GRAY);break;case 2:1===e.length&&e.splice(1,1);break;case 1:1===e.length&&e.splice(1,2);break;default:e=t.palette}return function t(){var n,e=[],i=[],r=[];function a(){var t=0,n=Math.max(1,i.length);for(r=new Array(n-1);++t<n;)r[t-1]=Wt(e,t/n);return o}function o(t){return isNaN(t=+t)?n:i[Gt(r,t)]}return o.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?r[n-1]:e[0],n<r.length?r[n]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,r=t.length;i<r;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(Rt),a()},o.range=function(t){return arguments.length?(i=wa.call(t),a()):i.slice()},o.unknown=function(t){return arguments.length?(n=t,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return t().domain(e).range(i).unknown(n)},Ea.apply(o,arguments)}().domain(Ft(n)).range(e)},Nv=function(t){function n(){var n;return(n=t.call(this)||this).config=null,n.input=null,n}l()(n,t);var e=n.prototype;return e.getConfig=function(){return this.config},e.setInput=function(t){return this.input=t,this},e.validateInput=function(){return Bu(this.input),this},e.clone=function(){return this.config=Hu.deepClone(this.input),this},n}(Nt),Rv=function(t){return function(n){var e;return"translate(".concat((e=n,t.x(e.x)),",").concat(function(n){return t[n.yAxis](n.y)}(n),")")}},Pv=function(t,n,e,i){return n.selectAll(".".concat(Qu.bubbleGraphContent," .").concat(e)).each((function(n){Ie(this).transition().call(Su.d3Transition(i.settingsDictionary.transition)).attr("transform",(function(){return Rv(t)(n)}))}))},Ov=function(t){Ie(t).attr("aria-selected",!0),function(t){Ie(t.viewportElement).selectAll(".".concat(Qu.point)).select("circle").attr("fill-opacity",Su.DEFAULT_BUBBLE_BLUR_OPACITY).attr("stroke-opacity",Su.DEFAULT_BUBBLE_BLUR_STROKE_OPACITY),Ie(t).select("circle").attr("fill-opacity",Su.DEFAULT_BUBBLE_OPACITY).attr("stroke-opacity",Su.DEFAULT_BUBBLE_STROKE_OPACITY)}(t)},Mv=function(t,n,e){Hu.isEmpty(t.onClick)||function(t){Ov(t);var n=Ie(t.parentNode).select(".".concat(Qu.dataPointSelection));return n.attr("aria-hidden",!("true"===n.attr("aria-hidden"))),n}(e).call((function(e){return t.onClick((function(){e.attr("aria-hidden",!0),rc(".".concat(Qu.point)).attr("aria-selected",!1).select("circle").attr("fill-opacity",Su.DEFAULT_BUBBLE_OPACITY).attr("stroke-opacity",Su.DEFAULT_BUBBLE_STROKE_OPACITY)}),t.key,n,t,e)}))},Gv=function(t,n,e){Pv(t,n,Qu.point,e),Pv(t,n,Qu.dataPointSelection,e)},Uv=function(t){return t.internalValuesSubset},Fv=function(t){return!!Hu.isDefined(t.weight)&&(Hu.isDefined(t.weight.min)&&Hu.isDefined(t.weight.max))},Hv=function(t,n){return Fv(t)&&Hu.isUndefined(t.weight.maxRadius)?Dv(t)(n.weight):Hu.isUndefined(t.weight)?Su.DEFAULT_BUBBLE_RADIUS_MAX:t.weight.maxRadius},Bv=function(t){return Hu.isDefined(t)},Yv=function(t,n){return Bv(t.hue)&&Fv(t)?Lv(t)(Dv(t)(n.weight)):Bv(t.hue)&&!1===Fv(t)?Lv(t)(n.y):t.color},Vv=function(t,n,e,i){e.append("g").classed(Qu.pointGroup,!0).each((function(n,e){var r,a,o=Ie(this);r=n,a=e,o.append("g").classed(Qu.dataPointSelection,!0).attr("transform",Rv(t)(r)).attr("aria-disabled",Hu.isDefined(r.onClick)).attr("aria-hidden",!0).attr("aria-describedby",r.key).on("click",(function(){Mv(r,a,this)})).append("circle").attr("r",(function(t){return Hv(i,t)+Su.DEFAULT_BUBBLE_SELECTOR_RADIUS})),function(n,e,r){var a;n.append("g").classed(Qu.point,!0).attr("aria-disabled",!Hu.isFunction(e.onClick)).attr("transform",Rv(t)(e)).attr("aria-describedby","".concat(e.key)).attr("aria-selected",!1).attr("aria-hidden","false"===(null===(a=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===a?void 0:a.getAttribute("aria-current"))).on("click",(function(){Mv(e,r,this)})).append("circle").attr("aria-describedby",e.key).attr("r",(function(t){return Hv(i,t)})).attr("fill",(function(t){return Yv(i,t)})).attr("fill-opacity",Su.DEFAULT_BUBBLE_OPACITY).attr("stroke",(function(t){return Yv(i,t)}))}(o,n,e)}))},Xv=function(t,n,e,i){var r=e.append("g").classed(Qu.bubbleGraphContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-hidden",n.shownTargets.indexOf(i.key)<0).attr("aria-describedby",i.key),a=r.selectAll(".".concat(Qu.currentPointsGroup)).data([i]);a.enter().append("g").classed(Qu.currentPointsGroup,!0).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")),a.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove();var o=r.select(".".concat(Qu.currentPointsGroup)).selectAll(".".concat(Qu.point)).data(Uv(i).filter((function(t){return null!==t.y})));Vv(t,0,o.enter(),i),o.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()},zv=function(t,n){var e=t.axis.x.type,i=function(t){if(!Af(t,e))throw new Error(O);return qu(t,e)};return t.shownTargets.push(n.key),n.internalValuesSubset=n.values.map((function(t){return{onClick:n.onClick,isCritical:t.isCritical||!1,x:i(t.x),y:t.y,weight:t.weight,color:n.color||Su.DEFAULT_COLOR,label:n.label||{},yAxis:n.yAxis||Su.Y_AXIS,key:n.key}})),n},Kv=function(t,n,e,i){return function(n,r){Sh(n);var a,o,s,c=Ih(Ie(n));a=e.shownTargets,o=r,(s=a.indexOf(o.key))>-1?a.splice(s,1):a.push(o.key),i.selectAll(".".concat(Qu.dataPointSelection,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",!0),i.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(r.key,'"]')).attr("aria-hidden",c),window.requestAnimationFrame(function(t,n,e){return function(){Qh(t,n,e)}}(t,e,i))}},jv=function(t,n){return function(e,i){Dh(t,n,e.key,i,[function(t,n,e,r,a){n.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(a,'"]')).classed(Qu.blur,i===Su.HOVER_EVENT.MOUSE_ENTER)}]),n.selectAll(".".concat(Qu.point,'[aria-describedby="').concat(e.key,'"]')).classed(Qu.highlight,i===Su.HOVER_EVENT.MOUSE_ENTER),td(t,n,e.key,i)}},Wv=function(t,n,e,i){e.label&&e.label.display&&i&&Ah(i,e,t,n)},qv=function(t,n){return nh(t,'g[aria-describedby="'.concat(n.key,'"]'))},Jv=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Su.Y_AXIS,e=t.filter((function(t){return null!==t.y})).map((function(t){return t.y}));return r()({},n,{min:Math.min.apply(Math,h()(e)),max:Math.max.apply(Math,h()(e))})},Zv=function(t){function n(n){var e,i;return(e=t.call(this)||this).config=(i=n,(new Nv).setInput(i).validateInput().clone().getConfig()),e.config.yAxis=Yu(e.config.yAxis,Su.Y_AXIS),e.valuesRange=Jv(e.config.values,e.config.yAxis),e.dataTarget={},e}l()(n,t);var e=n.prototype;return e.load=function(t){return console.warn("Bubble will be deprecated in a future release. Please use BubbleSingleDataset or BubbleMultipleDataset"),this.dataTarget=zv(t.config,this.config),Xv(t.scale,t.config,t.svg,this.dataTarget),Hu.notEmpty(this.dataTarget.regions)&&Kh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget.regions,"region_".concat(this.dataTarget.key),this.config.yAxis),Wv(t.config,{clickHandler:Kv(t,0,t.config,t.svg),hoverHandler:jv(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),gh(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this},e.unload=function(t){return qv(t.svg,this.dataTarget),Yh(t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget),wh(t.legendSVG,this.dataTarget),ph(t.axesLabelShapeGroup[this.config.yAxis],this.dataTarget,t.config),this.dataTarget={},this.config={},this},e.resize=function(t){return Hu.notEmpty(this.dataTarget.regions)?t.content.length>1&&!t.config.shouldHideAllRegion&&(Jh(t.svg)?t.config.shouldHideAllRegion=!1:(Zh(t.svg),t.config.shouldHideAllRegion=!0)):(Zh(t.svg),t.config.shouldHideAllRegion=!0),qh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup))),Gv(t.scale,t.svg,t.config),this},e.reflow=function(t,n){var e={clickHandler:Kv(t,0,t.config,t.svg),hoverHandler:jv(t.config.shownTargets,t.svg)};this.config.values=n.values,this.dataTarget=zv(t.config,this.config);var i=t.config.shownTargets.lastIndexOf(n.key);i>-1&&t.config.shownTargets.splice(i,1),Rh(t.legendSVG,t.content.filter((function(t){return t.config.key===n.key}))[0].config,t,e);var r=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).data([this.dataTarget]);r.exit().remove(),r.selectAll(".".concat(Qu.pointGroup)).data(this.dataTarget).exit().remove();var a=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).selectAll('[class="'.concat(Qu.point,'"]')).data(Uv(this.dataTarget));Vv(t.scale,t.config,a.enter(),this.dataTarget),a.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove(),this.valuesRange=Jv(this.config.values,this.config.yAxis)},e.redraw=function(t){return qv(t.svg,this.dataTarget),Xv(t.scale,t.config,t.svg,this.dataTarget),this},n}($u),$v=function(t,n){return Hu.isDefined(t.color)?t.color:Hu.isDefined(t.palette)?Fv(t)?Cv(t)(Dv(t)(n.weight)):Cv(t)(n.y):void 0},Qv=function(t,n){return Fv(t)&&Hu.isUndefined(t.weight.fixedRadius)?Dv(t)(n.weight):Hu.isUndefined(t.weight)?Su.DEFAULT_BUBBLE_RADIUS_MAX:t.weight.fixedRadius},tm=function(t,n,e,i){e.append("g").classed(Qu.pointGroup,!0).each((function(n,e){var r,a,o=Ie(this);r=n,a=e,o.append("g").classed(Qu.dataPointSelection,!0).attr("transform",Rv(t)(r)).attr("aria-disabled",Hu.isDefined(r.onClick)).attr("aria-hidden",!0).attr("aria-describedby",r.key).on("click",(function(){Mv(r,a,this)})).append("circle").attr("r",(function(t){return Qv(i,t)+Su.DEFAULT_BUBBLE_SELECTOR_RADIUS})),function(n,e,r){var a;n.append("g").classed(Qu.point,!0).attr("aria-disabled",!Hu.isFunction(e.onClick)).attr("transform",Rv(t)(e)).attr("aria-describedby","".concat(e.key)).attr("aria-selected",!1).attr("aria-hidden","false"===(null===(a=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===a?void 0:a.getAttribute("aria-current"))).on("click",(function(){Mv(e,r,this)})).append("circle").attr("aria-describedby",e.key).attr("r",(function(t){return Qv(i,t)})).attr("fill",(function(t){return $v(i,t)})).attr("fill-opacity",Su.DEFAULT_BUBBLE_OPACITY).attr("stroke",(function(t){return $v(i,t)}))}(o,n,e)}))},nm=function(t,n,e,i){var r=e.append("g").classed(Qu.bubbleGraphContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-hidden",n.shownTargets.indexOf(i.key)<0).attr("aria-describedby",i.key),a=r.selectAll(".".concat(Qu.currentPointsGroup)).data([i]);a.enter().append("g").classed(Qu.currentPointsGroup,!0).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")),a.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove();var o=r.select(".".concat(Qu.currentPointsGroup)).selectAll(".".concat(Qu.point)).data(Uv(i).filter((function(t){return null!==t.y})));tm(t,0,o.enter(),i),o.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()},em=function(t){function n(){return t.apply(this,arguments)||this}l()(n,t);var e=n.prototype;return e.load=function(t){return t.content.length>1?(console.warn("BubbleSingleDataset can only use one dataset."),this):Hu.isUndefined(t.content[0].config.color)&&Hu.isDefined(t.content[0].config.palette)&&t.content[0].config.values.length>bu?(console.warn("Cannot plot more than 4 bubbles using shades."),this):(this.dataTarget=zv(t.config,this.config),nm(t.scale,t.config,t.svg,this.dataTarget),Hu.notEmpty(this.dataTarget.regions)&&Kh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget.regions,"region_".concat(this.dataTarget.key),this.config.yAxis),Wv(t.config,{clickHandler:Kv(t,0,t.config,t.svg),hoverHandler:jv(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),gh(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this)},e.resize=function(t){return Hu.isEmpty(this.dataTarget.regions)&&(Zh(t.svg),t.config.shouldHideAllRegion=!0),qh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup))),Gv(t.scale,t.svg,t.config),this},e.reflow=function(t,n){var e={clickHandler:Kv(t,0,t.config,t.svg),hoverHandler:jv(t.config.shownTargets,t.svg)};this.config.values=n.values,this.dataTarget=zv(t.config,this.config);var i=t.config.shownTargets.lastIndexOf(n.key);i>-1&&t.config.shownTargets.splice(i,1),Rh(t.legendSVG,t.content.filter((function(t){return t.config.key===n.key}))[0].config,t,e);var r=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).data([this.dataTarget]);r.exit().remove(),r.selectAll(".".concat(Qu.pointGroup)).data(this.dataTarget).exit().remove();var a=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).selectAll('[class="'.concat(Qu.point,'"]')).data(Uv(this.dataTarget));tm(t.scale,t.config,a.enter(),this.dataTarget),a.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove(),this.valuesRange=Jv(this.config.values,this.config.yAxis)},e.redraw=function(t){return qv(t.svg,this.dataTarget),nm(t.scale,t.config,t.svg,this.dataTarget),this},n}(Zv),im=function(t,n){return Fv(t)&&Hu.isUndefined(t.weight.fixedRadius)?Dv(t)(n.weight):Hu.isUndefined(t.weight)?Su.DEFAULT_BUBBLE_RADIUS_MAX:t.weight.fixedRadius},rm=function(t,n,e,i){e.append("g").classed(Qu.pointGroup,!0).each((function(n,e){var r,a,o=Ie(this);r=n,a=e,o.append("g").classed(Qu.dataPointSelection,!0).attr("transform",Rv(t)(r)).attr("aria-disabled",Hu.isDefined(r.onClick)).attr("aria-hidden",!0).attr("aria-describedby",r.key).on("click",(function(){Mv(r,a,this)})).append("circle").attr("r",(function(t){return im(i,t)+Su.DEFAULT_BUBBLE_SELECTOR_RADIUS})),function(n,e,r){var a;n.append("g").classed(Qu.point,!0).attr("aria-disabled",!Hu.isFunction(e.onClick)).attr("transform",Rv(t)(e)).attr("aria-describedby","".concat(e.key)).attr("aria-selected",!1).attr("aria-hidden","false"===(null===(a=document.querySelector(".".concat(Qu.legendItem,'[aria-describedby="').concat(e.key,'"]')))||void 0===a?void 0:a.getAttribute("aria-current"))).on("click",(function(){Mv(e,r,this)})).append("circle").attr("aria-describedby",e.key).attr("r",(function(t){return im(i,t)})).attr("fill",(function(){return i.color})).attr("fill-opacity",Su.DEFAULT_BUBBLE_OPACITY).attr("stroke",(function(){return i.color}))}(o,n,e)}))},am=function(t){function n(){return t.apply(this,arguments)||this}l()(n,t);var e=n.prototype;return e.load=function(t){return t.content.length>Tu?(console.warn("BubbleMultipleDataset is limited to a maximum of 7 datasets"),this):(this.dataTarget=zv(t.config,this.config),function(t,n,e,i){var r=e.append("g").classed(Qu.bubbleGraphContent,!0).attr("clip-path","url(#".concat(n.clipPathId,")")).attr("aria-hidden",n.shownTargets.indexOf(i.key)<0).attr("aria-describedby",i.key),a=r.selectAll(".".concat(Qu.currentPointsGroup)).data([i]);a.enter().append("g").classed(Qu.currentPointsGroup,!0).attr("transform","translate(".concat(Xl(n),",").concat(zl(n),")")),a.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove();var o=r.select(".".concat(Qu.currentPointsGroup)).selectAll(".".concat(Qu.point)).data(Uv(i).filter((function(t){return null!==t.y})));rm(t,0,o.enter(),i),o.exit().transition().call(Su.d3Transition(n.settingsDictionary.transition)).remove()}(t.scale,t.config,t.svg,this.dataTarget),Hu.notEmpty(this.dataTarget.regions)&&Kh(t.scale,t.config,t.svg.select(".".concat(Qu.regionGroup)),this.dataTarget.regions,"region_".concat(this.dataTarget.key),this.config.yAxis),Wv(t.config,{clickHandler:Kv(t,0,t.config,t.svg),hoverHandler:jv(t.config.shownTargets,t.svg)},this.dataTarget,t.legendSVG),gh(t.config,this.dataTarget,t.axesLabelShapeGroup[this.config.yAxis]),this)},e.reflow=function(t,n){var e={clickHandler:Kv(t,0,t.config,t.svg),hoverHandler:jv(t.config.shownTargets,t.svg)};this.config.values=n.values,this.dataTarget=zv(t.config,this.config);var i=t.config.shownTargets.lastIndexOf(n.key);i>-1&&t.config.shownTargets.splice(i,1),Rh(t.legendSVG,t.content.filter((function(t){return t.config.key===n.key}))[0].config,t,e);var r=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).data([this.dataTarget]);r.exit().remove(),r.selectAll(".".concat(Qu.pointGroup)).data(this.dataTarget).exit().remove();var a=t.svg.select('g[aria-describedby="'.concat(n.key,'"]')).select(".".concat(Qu.currentPointsGroup)).selectAll('[class="'.concat(Qu.point,'"]')).data(Uv(this.dataTarget));rm(t.scale,t.config,a.enter(),this.dataTarget),a.exit().transition().call(Su.d3Transition(t.config.settingsDictionary.transition)).remove(),this.valuesRange=Jv(this.config.values,this.config.yAxis)},n}(Zv);function om(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function sm(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?om(Object(e),!0).forEach((function(n){r()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):om(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var cm={api:{gantt:function(t){return new pp(t)},graph:function(t){return new wp(t)},line:function(t){return new Bp(t)},pairedResult:function(t){return new gy(t)},timeline:function(t){return new pv(t)},pie:function(t){return new My(t)},bar:function(t){return new Pd(t)},scatter:function(t){return new Sv(t)},bubble:function(t){return new Zv(t)},bubbleSingleDataset:function(t){return new em(t)},bubbleMultipleDataset:function(t){return new am(t)}},tools:{shape:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return o()(ul,n)},defaultSVGProps:function(t){return ul.getDefaultSVGProps(t)}},helpers:{AXIS_TYPE:wu,COLORS:xu,LINE_TYPE:ku,LOCALE:pl,SHAPES:sm(sm({},_u),{},{DARK:_u,LIGHT:Au}),AXES_ORIENTATION:Iu},version:"0.0.0"};n.default=cm}}).default}));