import ScatterGraph from '../../example/Graphs-Carbon/ScatterGraph/BasicScatterGraphs/SimpleScatter?dev-site-example';
import GraphConfig from '@cerner/terra-graphs-docs/lib/example-datasets/graphConfigObjects/Scatter/scatterTimeseriesPanning.js?dev-site-codeblock';
import DataObject from '@cerner/terra-graphs-docs/lib/example-datasets/dataObjects/Scatter/dataset1timeseries.js?dev-site-codeblock';
require('details-polyfill');

# Scatter Graph

This is a scatter graph with default x-axis ticks.

## Getting Started

- Install with [npmjs](https://www.npmjs.com):
  - `npm i @cerner/carbon-graphs --save-dev`

## Usage

An instance of a scatter graph can be obtained by:

```js
Carbon.api.scatter(/* dataset */)
```
It can be loaded to a Graph as follows:

```js
import Carbon from '@cerner/carbon-graphs/dist/js/carbon-graphs.js';
import '@cerner/carbon-graphs/dist/css/carbon-graphs.css';

const graph = Carbon.api.graph(/* graph config JSON */);
graph.loadContent(Carbon.api.scatter(/* dataset  d*/));
```

#### Multi scatter

Additional instances of `Carbon.api.scatter` can be used to plot multiple datasets on the same graph:

```javascript
const graph = Carbon.api.graph(/* Input JSON */);
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 1 */));
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 2 */));
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 3 */));
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 4 */));
```

## Properties

### Data

| Property Name | Type     | Required | Default              | Description                                                      |
|---------------|----------|----------|----------------------|------------------------------------------------------------------|
| key           | string   | yes      | -                    | Unique id which represents the data-set                          |
| values        | Array    | yes      | -                    | Array of values to plot. Refer to[Values](#values)               |
| color         | string   | no       | `COLORS.BLACK`       | Color for the data points                                        |
| label         | object   | no       | {}                   | Dislay value for the dataset which the datappoints belong to     |
| legendOptions | object   | no       | `undefined`          | Toggle to show legend. Refer to [LegendOptions](#legendOptions)  |
| onClick       | function | no       | `undefined`          | Any action that can be performed when clicking on the data point |
| regions       | array    | no       | `[]`                 | Refer to [Regions](#regions)                                     |
| shape         | string   | no       | `SHAPES.DARK.CIRCLE` | Shape for representing the data points                           |
| yAxis         | string   | no       | `"y"`                | Prop to select either the Y or Y2 axis for the dataset           |

-   If the dataset `label` display is not provided then the legend item will not be shown as well
-   Each scatter can have a legendOptions object in [Values](#values) level.

#### Values

| Property Name | Type     | Required | Default            | Description                                                      |
|---------------|----------|----------|--------------------|------------------------------------------------------------------|
| x             | string   | yes      | -                  | value for the x coordinate                                       |
| y             | string   | yes      | -                  | value for the y coordinate                                       |
| isCritical    | bool     | no       | `false`            | highlights a datapoint if `true`                                 |


#### LegendOptions

Each scatter can have a legendOptions object in [Values](#values) level.

| Property Name | Type     | Required | Default            | Description                                                      |
|---------------|----------|----------|--------------------|------------------------------------------------------------------|
| showElement   | bool     | no       | `true`             | Toggle to hide the legend when it has no data                    |

#### Regions

Each data-set can have 1 or more regions. `start` and `end` is necessary for rendering a horizontal area.

| Property Name | Type     | Required | Default                                                                                         | Description                                                      |
|---------------|----------|----------|-------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| start         | number   | yes      | -                                                                                               | start of the region                                              |
| end           | number   | yes      | -                                                                                               | end of the region                                                |
| axis          | string   | no       | `"y"`                                                                                           | Y-axis to bind the region to; valid values are `y` or `y2`       |
| color         | string   | no       | <img width="16px" height="16px" src="https://placehold.it/15/008fe0/000000?text=+" /> `#008fe0` | default color of the region                                      |

### Structure

You will **not** need all the properties in the example below.
Check out _optional_/_required_ properties explained in the [JSON Properties](#json-properties) section.

```javascript
var root = {
    bindTo: "#root",
    axis: {
        x: {
            type: Carbon.helpers.AXIS_TYPE.TIME_SERIES,
            label: "Some X Label",
            lowerLimit: "2016-01-01T12:00:00Z",
            upperLimit: "2017-01-01T12:00:00Z"
        },
        y: {
            label: "Some Y Label",
            lowerLimit: 0,
            upperLimit: 20
        },
        y2: {
            show: false,
            label: "Some Y2 Label",
            lowerLimit: 0,
            upperLimit: 250
        }
    },
    dateline: [
        {
            showDatelineIndicator: true,
            label: {
                display: "Release A"
            },
            color: Carbon.helpers.COLORS.GREEN,
            shape: Carbon.helpers.SHAPES.DARK.TRIANGLE,
            onClick: (onCloseCB, payload) => {
                // onCloseCB needs to called by the consumer after popup is closed;
                // Payload is the dateline input object
            },
            value: new Date(2016, 5, 1).toISOString()
        }
    ],
    clickPassThrough: {
        datelines: false
    },
    showLabel: true,
    showLegend: true,
    showVGrid: true,
    showHGrid: true
};

var data = {
    key: "uid_1",
    label: {
        display: "Data Label 1"
    },
    regions: [
        {
            axis: "y",
            start: 2,
            end: 10,
            color: "#f4f4f4"
        }
    ],
    shape: Carbon.helpers.SHAPES.DARK.CIRCLE,
    color: Carbon.helpers.COLORS.BLUE,
    onClick: (onCloseCB, key, index, value) => {
        //onCloseCB needs to called by the consumer after popup is closed;
        //This is so that graphing api can remove the selected indicator from data point
    },
    values: [
        {
            x: "2016-02-03T12:00:00Z",
            y: 4
        },
        {
            x: "2016-05-01T12:00:00Z",
            y: 15,
            isCritical: true
        },
        {
            x: "2016-10-01T12:00:00Z",
            y: 10
        }
    ]
};
var scatterDefault = Carbon.api.graph(root);
scatterDefault.loadContent(Carbon.api.scatter(data));
```

#### Multi scatter

For loading multiple data-sets, you can load as additional content:

```javascript
var scatterDefault = Carbon.api.graph(/* Input JSON */);
scatterDefault.loadContent(Carbon.api.scatter(/* Data array A */));
scatterDefault.loadContent(Carbon.api.scatter(/* Data array B */));
scatterDefault.loadContent(Carbon.api.scatter(/* Data array C */));
scatterDefault.loadContent(Carbon.api.scatter(/* Data array D */));
```

## JSON Properties

### Root

Refer [Graph](../core/Graph.md) `Root` for more details.

## Examples
<ScatterGraph />

<details>
<summary style={{fontSize: 24 }}>
<b>Data</b>
</summary>

### Graph Config object
<GraphConfig />

### Data object
<DataObject />
</details>
