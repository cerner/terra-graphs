import ScatterGraph from '../../example/Graphs-Carbon/ScatterGraph/BasicScatterGraphs/SimpleScatter?dev-site-example';
import GraphConfig from '@cerner/terra-graphs-docs/lib/example-datasets/graphConfigObjects/Scatter/scatterTimeseriesPanning.js?dev-site-codeblock';
import DataObject from '@cerner/terra-graphs-docs/lib/example-datasets/dataObjects/Scatter/dataset1timeseries.js?dev-site-codeblock';
require('details-polyfill');

# Scatter Graph

A scatter plot can be used to plot datapoints of fixed size with independent x and y coordinates. 

## Getting Started

- Install with [npmjs](https://www.npmjs.com):
  - `npm i @cerner/carbon-graphs --save-dev`

## Usage

An instance of a scatter graph can be obtained by:

```js
Carbon.api.scatter(/* dataset */)
```
A scatter graph can be plotted as follows:

```js
import Carbon from '@cerner/carbon-graphs/dist/js/carbon-graphs.js';
import '@cerner/carbon-graphs/dist/css/carbon-graphs.css';

const graph = Carbon.api.graph(/* graph config JSON */);
graph.loadContent(Carbon.api.scatter(/* dataset */));
```

#### Multi scatter

Additional instances of `Carbon.api.scatter` can be used to plot multiple datasets on the same graph:

```javascript
const graph = Carbon.api.graph(/* Input JSON */);
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 1 */));
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 2 */));
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 3 */));
scatterDefault.loadContent(Carbon.api.scatter(/* dataset 4 */));
```

## Dataset Structure

```js
const dataset = {
  key: <string>,
  values: [
    {
      x: <number or Date object>,
      y: <number>,
      isCritical: <bool>
    },
  ],
  color: <hex value as string>,
  label: {
    display: <string>,
  },
  legendOptions:{
    showElement: <bool>
  }
  onClick: <function>,
  regions: [
    start: <number>
    end: <number>
    axis: <"y" or "y2">
    color: <hex value as string>
  ],
  shape: < shape SVG >,
  yAxis: <"y" or "y2">,

}
``` 

## Dataset Properties 

- ### `key`
**type:** string | `required prop`

  This is a unique `id` to identify the dataset. Adding two datasets with the same `key` will result in an error. 

- ### `values`  
**type:**  array of objects | `required prop`

  This is an array of objects representing the dataset. 
  It is a required prop; passing `undefined` will result in an error. 
  However passing an empty array (`[]`) will result in the graph successfully rendering without a dataset. 
  Each object in the array takes the following shape:

  ```json
    {
      x: <number>,
      y: <number>,
      isCritical: <bool>
      legendOptions: <object>
    }
  ```

  | Property Name | Type   | Required | Default | Description                         |
  |---------------|--------|----------|---------|-------------------------------------|
  | x             | string | yes      | -       | value for the x coordinate          |
  | y             | string | yes      | -       | value for the y coordinate          |
  | isCritical    | bool   | no       | `false` | highlights a datapoint if `true`    |
  | legendOptions | bool   | no       | `false` | see [legendOptions](#legendoptions) |


- ### `color`
**type:** string  
**default value:** `COLORS.BLACK`

  Color for the data points. Can be a hex value (`#ffffff`) or a constant from Colors.


- ### `label`
**type:** object  
**default value:** `{}`

  Color for the data points. Can be a hex value (`#ffffff`) or a constant from [Colors](../Documentation/Core/Colors).

  If the dataset `label` display is not provided then the legend item will not be shown as well.


- ### `legendOptions`
**type:** object  
**default value:** `undefined`

  Options for showing dataset in the legend. This prop has the following shape:

    ```json
      legendOptions: {
        showElement: <bool>
      }
    ```

  | Property Name | Type | Required | Default | Description                                   |
  |---------------|------|----------|---------|-----------------------------------------------|
  | showElement   | bool | no       | `true`  | Toggle to hide the legend when it has no data |

- ### `onClick`
**type:** function  
**default value:** `undefined`

 	Any action that can be performed when clicking on the data point.


- ### `regions`
  **type:** array of objects  
  **default value:** `[]`

  Each data-set can have one or more regions. `start` and `end` is necessary for rendering a horizontal area.

    ```json
    legendOptions: {
      showElement: <bool>
    }
    ```

  | Property Name | Expected | Description         |
  |---------------|----------|---------------------|
  | start         | number   | Start of the region |
  | end           | number   | End of the region   |


- ### `weight`
**type:** object  
**default value:** `Carbon.helpers.SHAPES.DARK.RHOMBUS`

  Shape for representing the data points.

  **valid values:** constant from [Carbon Shapes](../Documentation/Core/Colors) or a custom svg.

- ### `yAxis`
**type:** string  
**default value:** `y`

  Prop to select either the Y or Y2 axis for the dataset. 

  **valid values:**
  - `y`
  - `y2`


## Example
<ScatterGraph />

<details>
<summary style={{fontSize: 24 }}>
<b>Example Data</b>
</summary>

### Graph Config object
<GraphConfig />

### Data object
<DataObject />
</details>
